{"version":3,"file":"app.js","sources":["../../../../journey/src/js/lib/roadtrip/Route.js","../../../../journey/src/js/lib/roadtrip/utils/watchLinks.js","../../../../journey/src/js/lib/roadtrip/utils/isSameRoute.js","../../../../journey/src/js/lib/roadtrip/roadtrip.js","../../../../journey/src/js/lib/journey/EventEmitter.js","../../../../journey/src/js/lib/journey/utils/util.js","../../../../journey/src/js/lib/journey/handler/routeAbuseMonitor.js","../../../../journey/src/js/lib/journey/journey.js","../../../src/js/lib/fade.js","../../../src/js/lib/slide.js","../../../src/js/app/views/basics/methods/methods.js","../../../src/js/app/views/basics/binding/binding.js","../../../src/js/lib/parsley.js","../../../src/js/app/views/forms/validate/validatingForm.js","../../../src/js/app/views/lifecycle/events/events.js","../../../src/js/app/views/ajax/basic/basicAjax.js","../../../src/js/app/views/ajax/upload/upload.js","../../../src/js/app/views/comp/basic/basicComp.js","../../../src/js/app/views/comp/dynamic/dynamicComp.js","../../../src/js/app/views/comp/dataflow/parent.js","../../../src/js/app/panel/side-panel/sidePanel.js","../../../src/js/app/menu/menuSlider.js","../../../../journey/src/js/lib/journey/utils/polyfill.js","../../../../journey/src/js/lib/roadtrip/utils/window.js","../../../../journey/src/js/lib/roadtrip/utils/watchHistory.js","../../../../journey/src/js/lib/roadtrip/utils/util.js","../../../../journey/src/js/lib/roadtrip/utils/config.js","../../../../journey/src/js/lib/roadtrip/utils/pathHelper.js","../../../../journey/src/js/lib/roadtrip/routes.js","../../../../journey/src/js/lib/roadtrip/utils/polyfill.js","../../../../journey/src/js/lib/journey/handler/eventer.js","../../../../journey/src/js/lib/journey/utils/mode.js","../../../../journey/src/js/lib/journey/utils/events.js","../../../../journey/src/js/lib/journey/utils/config.js","../../../src/js/lib/prism.js","../../../src/js/app/views/home/home.js","../../../src/js/app/views/basics/route/basic.js","../../../src/js/app/views/nav/session.js","../../../src/js/app/views/nav/nav.js","../../../src/js/app/views/nav/person.js","../../../src/js/app/views/nav/product.js","../../../src/js/app/views/notfound/notFound.js","../../../src/js/app/views/nav/redirect/redirect.js","../../../src/js/app/views/nav/redirect/invalid.js","../../../src/js/app/views/forms/basic/basicForm.js","../../../src/js/app/views/partial/basic/basicPartial.js","../../../src/js/app/views/comp/dataflow/child.js","../../../src/js/app/views/transition/basic/basicTransition.js","../../../src/js/lib/ractive-decorators-sortable.js","../../../src/js/app/views/decorator/sortable.js","../../../src/js/app/config/routes.js","../../../src/js/lib/pace.js","../../../src/js/app/menu/menu.js","../../../src/js/lib/bootstrap.js","../../../src/js/app/animationMonitor.js","../../../src/js/app/start.js"],"sourcesContent":["import roadtrip from './roadtrip.js';\nimport pathHelper from \"./utils/pathHelper.js\";\nimport watchHistory from \"./utils/watchHistory.js\";\n\n\nconst a = typeof document !== 'undefined' && document.createElement( 'a' );\nconst QUERYPAIR_REGEX = /^([\\w\\-]+)(?:=([^&]*))?$/;\nconst HANDLERS = [ 'beforeleave', 'beforeenter', 'enter', 'leave', 'update' ];\n\nlet isInitial = true;\n\nfunction RouteData( { route, pathname, params, query, hash, scrollX, scrollY } ) {\n\tthis.pathname = pathname;\n\tthis.params = params;\n\tthis.query = query;\n\tthis.hash = hash;\n\tthis.isInitial = isInitial;\n\tthis.scrollX = scrollX;\n\tthis.scrollY = scrollY;\n\n\tthis._route = route;\n\n\tisInitial = false;\n}\n\nRouteData.prototype = {\n\tmatches( href ) {\n\t\treturn this._route.matches( href );\n\t}\n};\n\nexport default function Route( path, options ) {\n\tpath = pathHelper.stripSlashOrHashPrefix(path);\t\n\n\tthis.path = path;\n\tthis.segments = path.split( '/' );\n\n\tif ( typeof options === 'function' ) {\n\t\toptions = {\n\t\t\tenter: options\n\t\t};\n\t}\n\n\tthis.updateable = typeof options.update === 'function';\n\n\tHANDLERS.forEach( handler => {\n\t\tthis[ handler ] = ( route, other, opts ) => {\n\t\t\tlet value;\n\n\t\t\tif ( options[ handler ] ) {\n\t\t\t\tvalue = options[ handler ]( route, other, opts );\n\t\t\t}\n\n\t\t\treturn roadtrip.Promise.resolve( value );\n\t\t};\n\t} );\n}\n\nRoute.prototype = {\n\tmatches( href ) {\n\t\ta.href = pathHelper.prefixWithSlash(href); // This works for the options useHash: false + contextPath: true\n\n\t\tconst pathname = a.pathname.slice( 1 );\n\t\tconst segments = pathname.split( '/' );\n\n\t\treturn segmentsMatch( segments, this.segments );\n\t},\n\n\texec( target ) {\n\t\ta.href = target.href;\n\n\t\tlet pathname = a.pathname;\n\t\tpathname = pathHelper.stripSlashOrHashPrefix(pathname);\n\t\tconst search = a.search.slice( 1 );\n\n\t\tconst segments = pathname.split( '/' );\n\n\t\tif ( segments.length !== this.segments.length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst params = { };\n\n\t\tfor ( let i = 0; i < segments.length; i += 1 ) {\n\t\t\tconst segment = segments[i];\n\t\t\tconst toMatch = this.segments[i];\n\n\t\t\tif ( toMatch[0] === ':' ) {\n\t\t\t\tparams[ toMatch.slice( 1 ) ] = segment;\n\t\t\t} else if ( segment !== toMatch ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tconst query = { };\n\t\tconst queryPairs = search.split( '&' );\n\n\t\tfor ( let i = 0; i < queryPairs.length; i += 1 ) {\n\t\t\tconst match = QUERYPAIR_REGEX.exec( queryPairs[i] );\n\n\t\t\tif ( match ) {\n\t\t\t\tconst key = match[1];\n\t\t\t\tconst value = decodeURIComponent( match[2] );\n\n\t\t\t\tif ( query.hasOwnProperty( key ) ) {\n\t\t\t\t\tif ( typeof query[ key ] !== 'object' ) {\n\t\t\t\t\t\tquery[ key ] = [ query[ key ] ];\n\t\t\t\t\t}\n\n\t\t\t\t\tquery[ key ].push( value );\n\t\t\t\t} else {\n\t\t\t\t\tquery[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new RouteData( {\n\t\t\troute: this,\n\t\t\tpathname,\n\t\t\tparams,\n\t\t\tquery,\n\t\t\thash: a.hash.slice( 1 ),\n\t\t\tscrollX: target.scrollX,\n\t\t\tscrollY: target.scrollY\n\t\t} );\n\t}\n};\n\nfunction segmentsMatch( a, b ) {\n\tif ( a.length !== b.length )\n\t\treturn;\n\n\tlet i = a.length;\n\twhile ( i -- ) {\n\t\tif ( ( a[i] !== b[i] ) && ( b[i][0] !== ':' ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n//\n//const skip = [ \"isInitial\", \"_route\", \"pathname\", \"params\", \"query\", \"hash\" ];\n//\n//RouteData.prototype.extend = function ( src ) {\n//\tfor ( var nextKey in src ) {\n//\t\tif ( src.hasOwnProperty( nextKey ) ) {\n//\n//\t\t\tif ( skip.indexOf( nextKey ) < 0 ) {\n//\t\t\t\tthis[nextKey] = src[nextKey];\n//\t\t\t}\n//\t\t}\n//\t}\n//\treturn this;\n//};\n\n\nRouteData.prototype.extend = function( target ) {\n\tvar output = Object( target );\n\n\tfor ( var i = 1; i < arguments.length; i++ ) {\n\t\tvar src = arguments[i];\n\t\tif ( src === undefined || src === null )\n\t\t\tcontinue;\n\t\tfor ( var nextKey in src ) {\n\t\t\tif ( src.hasOwnProperty( nextKey ) ) {\n\t\t\t\toutput[nextKey] = src[nextKey];\n\t\t\t}\n\t\t}\n\t}\n\treturn output;\n};","import window from './window.js';\nimport roadtrip from '../roadtrip.js';\nimport routes from '../routes.js';\nimport util from './util.js';\nimport watchHistory from './watchHistory.js';\nimport path from \"./pathHelper.js\";\nimport config from \"./config.js\";\n\n// Adapted from https://github.com/visionmedia/page.js\n// MIT license https://github.com/visionmedia/page.js#license\n\nexport default function watchLinks ( callback ) {\n\twindow.addEventListener( 'click', handler, false );\n\twindow.addEventListener( 'touchstart', handler, false );\n\n\tfunction handler ( event ) {\n\t\tif ( which( event ) !== 1 ) return;\n\t\tif ( event.metaKey || event.ctrlKey || event.shiftKey ) return;\n\t\tif ( event.defaultPrevented ) return;\n\n\t\t// ensure target is a link\n\t\tlet el = event.target;\n\t\twhile ( el && el.nodeName !== 'A' ) {\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\tif ( !el || el.nodeName !== 'A' ) return;\n\n\t\t// Ignore if tag has\n\t\t// 1. 'download' attribute\n\t\t// 2. rel='external' attribute\n\t\tif ( el.hasAttribute( 'download' ) || el.getAttribute( 'rel' ) === 'external' ) return;\n\n\t\t// ensure non-hash for the same path\n\n\t\t// Check for mailto: in the href\n\t\tif ( ~el.href.indexOf( 'mailto:' ) ) return;\n\n\t\t// check target\n\t\tif ( el.target ) return;\n\n\t\t// x-origin\n\t\tif ( !sameOrigin( el.href ) ) return;\n\n\t\tlet path;\n\n\t\tif (config.useHash) {\n\t\t\tpath = toHash(el);\n\n\t\t} else {\n\t\tpath = el.getAttribute('href');\n\t\t\n\t\t// below is original code which builds up path from the a.href property. Above we instead simply use the <a href> attribute\n\t\t//path = el.pathname + el.search + ( el.hash || '' );\n\t\t}\n\n\t\t// strip leading '/[drive letter]:' on NW.js on Windows\n\t\tif ( typeof process !== 'undefined' && path.match( /^\\/[a-zA-Z]:\\// ) ) {\n\t\t\tpath = path.replace( /^\\/[a-zA-Z]:\\//, '/' );\n\t\t}\n\n\t\t// same page\n\t\t//const orig = path;\n\n\t\t/*\n\t\tif ( config.base && orig === path ) {\n\t\t\treturn;\n\t\t}*/\n\n\t\tpath = util.stripBase(path, config.base);\n\n\t\t// no match? allow navigation\n\t\tlet matchFound = routes.some( route => route.matches( path ) );\n\n\t\tif ( matchFound ) {\n\t\t\tevent.preventDefault();\n\n\t\t\t//path = util.prefixWithBase(path, config.base);\n\t\t\tcallback( path );\n\t\t}\n\n\t\treturn;\n\t}\n}\n\nfunction toHash(link) {\n\tlet href = link.getAttribute('href');\n\thref = path.prefixWithHash(href);\n\treturn href;\n}\n\nfunction which ( event ) {\n\tevent = event || window.event;\n\treturn event.which === null ? event.button : event.which;\n}\n\nfunction sameOrigin ( href ) {\n\tlet origin = location.protocol + '//' + location.hostname;\n\tif ( location.port ) origin += ':' + location.port;\n\n\treturn ( href && ( href.indexOf( origin ) === 0 ) );\n}\n","export default function isSameRoute ( routeA, routeB, dataA, dataB ) {\n\tif ( routeA !== routeB ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\tdataA.hash === dataB.hash &&\n\t\tdeepEqual( dataA.params, dataB.params ) &&\n\t\tdeepEqual( dataA.query, dataB.query )\n\t);\n}\n\nfunction deepEqual ( a, b ) {\n\tif ( a === null && b === null ) {\n\t\treturn true;\n\t}\n\n\tif ( isArray( a ) && isArray( b ) ) {\n\t\tlet i = a.length;\n\n\t\tif ( b.length !== i ) return false;\n\n\t\twhile ( i-- ) {\n\t\t\tif ( !deepEqual( a[i], b[i] ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\telse if ( typeof a === 'object' && typeof b === 'object' ) {\n\t\tconst aKeys = Object.keys( a );\n\t\tconst bKeys = Object.keys( b );\n\n\t\tlet i = aKeys.length;\n\n\t\tif ( bKeys.length !== i ) return false;\n\n\t\twhile ( i-- ) {\n\t\t\tconst key = aKeys[i];\n\n\t\t\tif ( !b.hasOwnProperty( key ) || !deepEqual( b[ key ], a[ key ] ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn a === b;\n}\n\nconst toString = Object.prototype.toString;\n\nfunction isArray ( thing ) {\n\treturn toString.call( thing ) === '[object Array]';\n}\n","import Route from './Route.js';\nimport watchLinks from './utils/watchLinks.js';\nimport pathHelper from './utils/pathHelper.js';\nimport isSameRoute from './utils/isSameRoute.js';\nimport window from './utils/window.js';\nimport routes from './routes.js';\nimport watchHistory from './utils/watchHistory.js';\nimport util from './utils/util.js';\nimport config from './utils/config.js';\nimport './utils/polyfill.js';\n\n// Enables HTML5-History-API polyfill: https://github.com/devote/HTML5-History-API\nconst location = window && ( window.history.location || window.location );\n\nfunction noop () {}\n\nlet currentData = {};\nlet currentRoute = {\n\tenter: () => roadtrip.Promise.resolve(),\n\tleave: () => roadtrip.Promise.resolve(),\n\tbeforeleave: () => roadtrip.Promise.resolve(),\n};\n\nlet _target;\nlet isTransitioning = false;\n\nconst scrollHistory = {};\nlet uniqueID = 1;\nlet currentID = uniqueID;\n\nconst roadtrip = {\n\tPromise,\n\n\tadd ( path, options ) {\n\t\troutes.push( new Route( path, options ) );\n\t\treturn roadtrip;\n\t},\n\n\tstart ( options = {} ) {\n\n\t\tutil.extend( config, options );\n\t\t\n\t\twatchHistory.start(config);\n\t\twatchHistory.setListener(historyListener);\n\n\t\tlet path = pathHelper.getInitialPath();\n\n\t\tlet matchFound = routes.some( route => route.matches( path ) );\n\t\tconst href = matchFound ?\n\t\t\tpath :\n\t\t\tconfig.fallback;\n\n\t\t\tconst internalOptions = {\n\t\t\t\treplaceState: true,\n\t\t\t\tscrollX: window.scrollX,\n\t\t\t\tscrollY: window.scrollY\n\t\t\t};\n\t\t\tconst otherOptions = {};\n\n\t\treturn roadtrip.goto( href, otherOptions, internalOptions);\n\t},\n\n\tgoto ( href, internalOptions = {}) {\n\t\tif (href == null) return roadtrip.Promise.resolve();\n\n\t\thref = pathHelper.getGotoPath(href);\n\n\t\tscrollHistory[ currentID ] = {\n\t\t\tx: window.scrollX,\n\t\t\ty: window.scrollY\n\t\t};\n\n\t\tlet target;\n\t\tconst promise = new roadtrip.Promise( ( fulfil, reject ) => {\n\t\t\ttarget = _target = {\n\t\t\t\thref,\n\t\t\t\tscrollX: internalOptions.scrollX || 0,\n\t\t\t\tscrollY: internalOptions.scrollY || 0,\n\t\t\t\tinternalOptions,\n\t\t\t\tfulfil,\n\t\t\t\treject\n\t\t\t};\n\t\t});\n\t\t\n\t\tpromise._locked = false;\n\t\t\n\t\t_target.promise = promise;\n\t\t\n\t\tif ( isTransitioning ) {\n\t\t\tpromise._locked = true;\n\t\t\treturn promise;\n\t\t}\n\n\t\t_goto( target );\n\n\t\tpromise._sameRoute = target._sameRoute;\n\t\treturn promise;\n\t},\n\n\tgetCurrentRoute () {\n\t\treturn currentData;\n\t}\n};\n\nif ( window ) {\n\twatchLinks( href => {\n\t\troadtrip.goto( href )\n\n\t\t\t.catch(e => {\n\t\t\t\tisTransitioning = false; \n\t\t\t} );\n\t});\n}\n\nfunction getNewData(target) {\n\tlet newData;\n\tlet newRoute;\n\n\tfor ( let i = 0; i < routes.length; i += 1 ) {\n\t\tconst route = routes[i];\n\t\tnewData = route.exec( target );\n\n\t\tif ( newData ) {\n\t\t\tnewRoute = route;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn {\n\t\tnewRoute: newRoute,\n\t\tnewData: newData\n\t};\n}\n\nfunction historyListener(options) {\n\n\t\tlet url = util.stripBase(options.url, config.base);\n\n\tconst internalOptions = {};\n\n\t\t_target = {\n\t\t\thref: url,\n\t\t\thashChange: options.hashChange, // so we know not to manipulate the history\n\t\t\tpopState: options.popState, // so we know not to manipulate the history\n\t\t\tfulfil: noop,\n\t\t\treject: noop,\n\t\t\tinternalOptions\n\t\t};\n\n\t\tif(options.popEvent != null) {\n\t\t\tconst scroll = scrollHistory[ options.popEvent.state.uid ] || {x: 0, y: 0};\n\t\t\t_target.scrollX = scroll.x;\n\t\t\t_target.scrollY = scroll.y;\n\n\t\t} else {\n\t\t\t_target.scrollX = 0;\n\t\t\t_target.scrollY = 0;\n\t\t}\n\n\t\t_goto( _target );\n\n\t\tif(options.popEvent != null) {\n\t\t\tcurrentID = options.popEvent.state.uid;\n\t\t}\n}\n\nfunction _goto ( target ) {\n\tlet newRoute;\n\tlet newData;\n\tlet forceReloadRoute = target.internalOptions.forceReload || false;\n\n\t//let targetHref = util.stripBase(target.href, config.base);\n\tlet targetHref = pathHelper.prefixWithSlash(target.href);\n\ttarget.href = targetHref;\n\n\tvar result = getNewData(target);\n\n\tif (!result.newData) {\n\t\t// If we cannot find data, it is because the requested url isn't mapped to a route. Use fallback to render page. Keep url pointing to requested url for \n\t\t// debugging.\n\t\tlet tempHref = target.href;\n\t\ttarget.href = config.fallback;\n\t\tresult = getNewData(target);\n\t\ttarget.href = tempHref;\n\t}\n\n\tnewData = result.newData;\n\tnewRoute = result.newRoute;\n\n\ttarget._sameRoute = false;\n\tif ( !newRoute || (isSameRoute( newRoute, currentRoute, newData, currentData ) && !forceReloadRoute) ) {\n\t\ttarget.fulfil();\n\t\ttarget._sameRoute = true;\n\t\treturn;\n\t}\n\n\tscrollHistory[ currentID ] = {\n\t\tx: ( currentData.scrollX = window.scrollX ),\n\t\ty: ( currentData.scrollY = window.scrollY )\n\t};\n\n\tisTransitioning = true;\n\n\tlet promise;\n\tif ( !forceReloadRoute && ( newRoute === currentRoute ) && newRoute.updateable ) {\n\n\t\t// For updates, merge newData into currentData, in order to preserve custom data that was set during enter or beforeenter events\n\t\tnewData = newData.extend({}, currentData, newData);\n\n\t\tpromise = newRoute.update( newData );\n\t\t\n\t} else {\n\t\t\n\t\tpromise = new roadtrip.Promise((resolve, reject) => {\n\t\t\t\n\t\t\t\t\troadtrip.Promise.all([ currentRoute.beforeleave( currentData, newData )\t])\n\t\t\t\t\t\t\t.then( () => Promise.all( [ newRoute.beforeenter( newData, currentData ) ]))\n\t\t\t\t\t\t\t.then( () => Promise.all( [ currentRoute.leave( currentData, newData ) ]))\n\t\t\t\t\t\t\t.then( () => {\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\tnewRoute.enter( newData, currentData )\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch( ( e ) => {\n\t\t\t\t\t\t\t\t\t\treject( e );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t}\n\n\tpromise\n\t\t.then( () => {\n\t\t\tcurrentRoute = newRoute;\n\t\t\tcurrentData = newData;\n\n\t\t\tisTransitioning = false;\n\n\t\t\t// if the user navigated while the transition was taking\n\t\t\t// place, we need to do it all again\n\t\t\tif ( _target !== target ) {\n\t\t\t\t_goto( _target );\n\t\t\t\t_target.promise.then( target.fulfil, target.reject );\n\n\t\t\t} else {\n\t\t\t\ttarget.fulfil();\n\t\t\t\t//updateHistory(target);\n\t\t\t}\n\t\t})\n\t\t.catch( e => {\n\t\t\tisTransitioning = false;\n\t\t\ttarget.reject(e);\n\t\t});\n\n\t\tupdateHistory(target);\n}\n\nfunction updateHistory(target) {\n\t\n\tif ( target.popState || target.hashChange ) return;\n\n\tconst { replaceState, invisible } = target.internalOptions;\n\tif ( invisible ) return;\n\t\n\tconst uid = replaceState ? currentID : ++uniqueID;\n\n\tlet targetHref = target.href;\n\n\tif (watchHistory.useOnHashChange) {\n\t\ttargetHref = pathHelper.prefixWithHash(targetHref);\n\t\ttarget.href = targetHref;\n\t\twatchHistory.setHash( targetHref, target.internalOptions );\n\n\t} else {\n\n\t\tif (config.useHash) {\n\t\t\ttargetHref = pathHelper.prefixWithHash(targetHref);\n\t\t\ttarget.href = targetHref;\n\n\t\t} else {\n\t\t\ttargetHref = pathHelper.prefixWithSlash(targetHref);\n\t\t\t// Add base path for pushstate, as we are routing to an absolute path '/' eg. /base/page1\n\t\t\ttargetHref = util.prefixWithBase(targetHref, config.base);\n\t\t\ttarget.href = targetHref;\n\t\t}\n\n\t\thistory[ target.internalOptions.replaceState ? 'replaceState' : 'pushState' ]( { uid }, '', target.href );\n\t}\n\n\tcurrentID = uid;\n\tscrollHistory[ currentID ] = {\n\t\tx: target.scrollX,\n\t\ty: target.scrollY\n\t};\n\t\n}\n\nexport default roadtrip;\n","/*!\n * EventEmitter v4.2.11 - git.io/ee\n * https://github.com/Olical/EventEmitter\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\n\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n\t\tif (listener == null) {\n\t\t\treturn this.removeEvent(evt);\n\t\t}\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(that, evt, args) {\n\t\t// NOTE: customized this method\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n                i = listeners.length;\n\n                while (i--) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(that, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(that, evt) {\n\t\t// NOTE: customized this method\n        var args = Array.prototype.slice.call(arguments, 2);\n        return this.emitEvent(that, evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    if (typeof module === 'object' && module.exports) {\n        module.exports = EventEmitter;\n    }\n\n\nexport default EventEmitter;\n","import mode from \"./mode\";\nvar rbracket = /\\[\\]$/;\nvar r20 = /%20/g;\nvar utils = {\n\n\tisFunction: function ( val ) {\n\t\treturn typeof val === 'function';\n\t},\n\n\tfadeIn: function ( el ) {\n\t\tel.style.opacity = 0;\n\t\tvar last = + new Date( );\n\t\tvar tick = function ( ) {\n\t\t\tel.style.opacity = + el.style.opacity + ( new Date( ) - last ) / 400;\n\t\t\tlast = + new Date( );\n\t\t\tif ( + el.style.opacity < 1 ) {\n\t\t\t\t( window.requestAnimationFrame && requestAnimationFrame( tick ) ) || setTimeout( tick, 16 )\n\t\t\t}\n\t\t};\n\t\ttick( );\n\t},\n\n\tfadeOut: function ( el ) {\n\t\tel.style.opacity = 0;\n\t\tvar last = + new Date( );\n\t\tvar tick = function ( ) {\n\t\t\tel.style.opacity = + el.style.opacity + ( new Date( ) - last ) / 400;\n\t\t\tlast = + new Date( );\n\t\t\tif ( + el.style.opacity < 1 ) {\n\t\t\t\t( window.requestAnimationFrame && requestAnimationFrame( tick ) ) || setTimeout( tick, 16 )\n\t\t\t}\n\t\t};\n\t\ttick( );\n\t},\n\n\t// Serialize an array of form elements or a set of key/values into a query string\n\tparam: function ( a, traditional ) {\n\t\tvar prefix,\n\t\t\t\ts = [ ],\n\t\t\t\tadd = function ( key, value ) {\n\t\t\t\t\t// If value is a function, invoke it and return its value\n\t\t\t\t\tvalue = ( typeof value === 'function' ) ? value( ) : ( value == null ? \"\" : value );\n\t\t\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t\t\t};\n\t\t// If an array was passed in, assume that it is an array of form elements.\n\t\tif ( Array.isArray( a ) ) {\n\t\t\t// Serialize the form elements\n\t\t\ta.forEach( function ( item, index ) {\n\t\t\t\tadd( item.name, item.value );\n\t\t\t} );\n\t\t} else {\n\t\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t\t// did it), otherwise encode params recursively.\n\t\t\tfor ( prefix in a ) {\n\n\t\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t\t}\n\t\t}\n\n\t\t// Return the resulting serialization\n\t\treturn s.join( \"&\" ).replace( r20, \"+\" );\n\t},\n\n\tlog: function ( ) {\n\t\tif ( mode.DEBUG ) {\n\t\t\tFunction.apply.call( console.log, console, arguments );\n\t\t}\n\t},\n\n\tlogWarn: function ( ) {\n\t\tif ( mode.DEBUG ) {\n\t\t\tFunction.apply.call( console.info, console, arguments );\n\t\t}\n\t},\n\n\tlogInfo: function ( ) {\n\t\tif ( mode.DEBUG ) {\n\t\t\tFunction.apply.call( console.warn, console, arguments );\n\t\t}\n\t},\n\n\tlogError: function ( ) {\n\t\tif ( mode.DEBUG ) {\n\t\t\tFunction.apply.call( console.error, console, arguments );\n\t\t}\n\t}\n};\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\tif ( Array.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tobj.forEach( function ( item, index ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, item );\n\t\t\t} else {\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof item === \"object\" ? index : \"\" ) + \"]\", item, traditional, add );\n\t\t\t}\n\t\t} );\n\t} else if ( ! traditional && type( obj ) === \"object\" ) {\n\t\tdebugger;\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\nfunction type( obj ) {\n\treturn Object.prototype.toString.call( obj ).replace( /^\\[object (.+)\\]$/, \"$1\" ).toLowerCase( );\n}\n\nexport default utils;\n","import eventer from \"./eventer.js\";\nimport utils from  \"../utils/util.js\";\nimport config from  \"../utils/config.js\";\nimport events from  \"../utils/events.js\";\n\nlet callstack = [ ];\n\nlet resetRequest = false;\n\nlet busy = false;\n\nsetupListeners();\n\nvar handler = {\n\n\tcheck: ( options ) => {\n\t\tif ( callstack.length > 1 ) {\n\t\t\t\n\t\t\tif ( !busy ) {\n\t\t\t\tbusy = true;\n\t\t\t\teventer.emit( events.ROUTE_ABUSE_START, options );\n\t\t\t}\n\n\t\t\t// After a short delay we check if the callstack is back to normal.\n\t\t\t// If at the end of the delay the callstack is normal, we emit ROUTE_ABUSE_END event.\n\t\t\t// If the callstack overflows again during the delay, we cancel the reset request\n\t\t\t// and begin a new reset request after a delay.\n\t\t\tvar delay = config.abuseTimeout;\n\t\t\tresetWhenNormal( delay, options );\n\t\t}\n\t},\n\treset: ( options ) => {\n\t\tcallstack = [ ];\n\t\tresetRequest = false;\n\t\tbusy = false;\n\t\teventer.emit( events.ROUTE_ABUSE_END, options );\n\t},\n\n\tpush: ( options ) => {\n\t\tcallstack.push( 1 );\n\t\thandler.check( options );\n\t},\n\n\tpop: () => {\n\t\tcallstack.splice( 0, 1 );\n\t}\n};\n\nfunction setupListeners() {\n\n\teventer.on( events._GOTO, ( options ) => {\n\t\tif ( options.redirect === true ) {\n\t\t\treturn;\n\t\t}\n\t\thandler.push( options );\n\t} );\n\n\n\teventer.on( events.ERROR, ( options ) => {\n\t\thandler.pop();\n\t} );\n\n\teventer.on( events.ENTERED, ( options ) => {\n\t\thandler.pop();\n\t} );\n\n\teventer.on( events.UPDATED, ( options ) => {\n\t\thandler.pop();\n\t} );\n}\n\nfunction resetWhenNormal( delay = config.abuseTimeout, options ) {\n\n\t// if a request was already made to reenable animations, clear it and make a new request\n\tif ( resetRequest ) {\n\t\tclearTimeout( resetRequest );\n\t}\n\n\t// We wait a bit before restting callstack in case user is still thrashing UI.\n\tresetRequest = setTimeout( function ( ) {\n\t\thandler.reset( options );\n\t}, delay );\n}\n\nexport default handler;\n","import './utils/polyfill.js';\nimport roadtrip from  \"../roadtrip/roadtrip\";\nimport eventer from \"./handler/eventer\";\nimport journeyUtils from \"./utils/util.js\";\nimport roadtripUtils from \"../roadtrip/utils/util.js\";\nimport mode from \"./utils/mode\";\nimport events from \"./utils/events\";\nimport \"./handler/routeAbuseMonitor\";\nimport config from \"./utils/config.js\";\n\n// Enables HTML5-History-API polyfill: https://github.com/devote/HTML5-History-API\nconst location = window && ( window.history.location || window.location );\n\nvar journey = {\t};\n\neventer.init( journey );\n\njourney.add = function add( path, options ) {\n\t\n\tif (path == null) {\n\t\tthrow new Error(\"journey.add does not accept 'null' path\");\n\t}\n\t\n\tif (options == null) {\n\t\tthrow new Error(\"journey.add does not accept 'null' options\");\n\t}\n\t\n\toptions = roadtripUtils.extend( { }, options );\n\twrap( options );\n\n\troadtrip.add( path, options );\n\n\treturn journey;\n};\n\njourney.start = function( options ) {\n\n\troadtripUtils.extend( config, options );\n\n\tmode.DEBUG = config.debug;\n\t\n\twrapRoadtripGoto();\n\n\treturn roadtrip.start( options );\n};\n\njourney.goto = function ( href, internalOptions = {}) {\n\tif (roadtrip._origGoto == null) {\n\t\tthrow new Error(\"call start() before using journey\");\n\t}\n\t\tvar promise = roadtrip._origGoto( href, internalOptions );\n\n\tif (promise._sameRoute) {\n\t\treturn promise;\n\t}\n\n\tlet emitOptions = {\n\t\tredirect: internalOptions.redirect,\n\t\tpathname: href,\n\t\thref: location.href\n\t};\n\n\tjourney.emit( journey, events._GOTO, emitOptions );\n\n\treturn promise;\n};\n\njourney.getBase = function( ) {\n\treturn roadtrip.base;\n};\n\njourney.getCurrentRoute = function( ) {\n\treturn roadtrip.getCurrentRoute();\n};\n\nfunction raiseError( options ) {\n\tjourneyUtils.logError( options.error );\n\tjourney.emit( journey, \"error\", options );\n}\n\nfunction raiseEvent( event, args ) {\n\tvar options = { };\n\tif ( event === events.UPDATE || event === events.UPDATED ) {\n\t\toptions.route = args[0];\n\t\toptions.options = args[1];\n\n\t} else if ( event === events.BEFORE_ENTER || event === events.BEFORE_ENTER_COMPLETE ) {\n\t\toptions.to = args[0];\n\t\toptions.from = args[1];\n\t\toptions.options = args[2];\n\n\t} else if ( event === events.ENTER || event === events.ENTERED ) {\n\t\toptions.to = args[0];\n\t\toptions.from = args[1];\n\t\toptions.options = args[2];\n\t\t\n\t} else if ( event === events.BEFORE_LEAVE || event === events.BEFORE_LEAVE_COMPLETE) {\n\t\toptions.from = args[0];\n\t\toptions.to = args[1];\n\t\toptions.options = args[2];\n\n\t} else if ( event === events.LEAVE || event === events.LEFT ) {\n\t\toptions.from = args[0];\n\t\toptions.to = args[1];\n\t\toptions.options = args[2];\n\t}\n\n\tjourney.emit( journey, event, options );\n}\n\nfunction wrap( options ) {\n\tenhanceEvent( events.ENTER, options );\n\tenhanceEvent( events.UPDATE, options );\n\tenhanceEvent( events.BEFORE_ENTER, options );\n\tenhanceEvent( events.LEAVE, options );\n\tenhanceEvent( events.BEFORE_LEAVE, options );\n}\n\nfunction enhanceEvent( name, options ) {\n\tvar handler = options[name];\n\n\tif ( handler == null ) {\n\t\treturn;\n\t}\n\n\tvar wrapper = function ( ) {\n\t\tvar that = this;\n\t\t//var thatArgs = arguments;\n\n\t\t// Handle errors thrown by handler: enter, leave, update or beforeenter\n\t\ttry {\n\t\t\t// convert arguments into a proper array\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\n\t\t\tvar options = {};\n\t\t\t\n\t\t\tif (name === events.UPDATE) { // update only accepts one argument\n\t\t\t\targs[1] = options;\n\t\t\t\t/*\n\t\t\t\tif (options == null) {\n\t\t\t\t\toptions = args[1] = {};\n\t\t\t\t}*/\n\n\t\t\t} else {\n\t\t\t\targs[2] = options;\n\t\t\t\t/*\n\t\t\t\tif (options == null) {\n\t\t\t\t\toptions = args[2] = {};\n\t\t\t\t}*/\n\t\t\t}\n\n\t\t\t// Ensure default target is passed to events, but don't override if already present\n\t\t\toptions.target = config.target;\n\t\t\toptions.startOptions = config;\n\n\t\t\traiseEvent( name, args );\n\n\t\t\t// Call handler\n\t\t\tvar result = handler.apply( that, args );\n\n\t\t\tresult = Promise.all( [ result ] ); // Ensure handler result can be handled as promise\n\t\t\tresult.then( () => {\n\n\t\t\t\tif ( name === events.BEFORE_ENTER ) {\n\t\t\t\t\traiseEvent( events.BEFORE_ENTER_COMPLETE, args );\n\n\t\t\t\t} else if ( name === events.ENTER ) {\n\t\t\t\t\traiseEvent( events.ENTERED, args );\n\n\t\t\t\t} if ( name === events.BEFORE_LEAVE ) {\n\t\t\t\t\traiseEvent( events.BEFORE_LEAVE_COMPLETE, args );\n\n\t\t\t\t} else if ( name === events.LEAVE ) {\n\t\t\t\t\traiseEvent( events.LEFT, args );\n\n\t\t\t\t} else if ( name === events.UPDATE ) {\n\t\t\t\t\traiseEvent( events.UPDATED, args );\n\t\t\t\t}\n\t\t\t} ).catch( err => {\n\t\t\t\tvar options = gatherErrorOptions( name, args, err );\n\t\t\t\traiseError( options );\n\t\t\t} );\n\n\t\t\treturn result;\n\n\t\t} catch ( err ) {\n\t\t\tvar options = gatherErrorOptions( name, args, err );\n\t\t\traiseError( options );\n\t\t\treturn Promise.reject( \"error occurred in [\" + name + \"] - \" + err.message ); // let others handle further up the stack\n\t\t}\n\t};\n\n\toptions[name] = wrapper;\n}\n\nfunction gatherErrorOptions( event, args, err ) {\n\tvar route, from, to;\n\n\tif ( event === events.UPDATE ) {\n\t\troute = args[0];\n\n\t} else if ( event === events.BEFORE_ENTER || event === events.ENTER ) {\n\t\troute = args[0];\n\t\tto = args[0];\n\t\tfrom = args[1];\n\t} else { // LEAVE and BEFORE_LEAVE\n\t\troute = args[1];\n\t\tto = args[1];\n\t\tfrom = args[0];\n\t}\n\tvar options = { error: err, event: event, from: from, to: to, route: route };\n\treturn options;\n\n}\n\nfunction wrapRoadtripGoto() {\n\t// Ensure to only wrap goto once, in case journey.start is called more than once\n\tif (roadtrip._origGoto != null) return;\n\n\troadtrip._origGoto = roadtrip.goto;\n\troadtrip.goto = journey.goto;\n\n\t\n}\n\nexport default journey;\n","var DEFAULTS = {\n\tdelay: 0,\n\tduration: 300,\n\teasing: 'linear'\n};\n\nfunction fade( t, params ) {\n\tvar targetOpacity;\n\n\tparams = t.processParams( params, DEFAULTS );\n\n\tif ( t.isIntro ) {\n\t\ttargetOpacity = t.getStyle( 'opacity' );\n\t\tt.setStyle( 'opacity', 0 );\n\t} else {\n\t\ttargetOpacity = 0;\n\t}\n\n\tt.animateStyle( 'opacity', targetOpacity, params ).then( t.complete );\n}\n\nexport default fade;","const DEFAULTS = {\n\tduration: 300,\n\teasing: 'easeInOut'\n};\n\nconst PROPS = [\n\t'height',\n\t'borderTopWidth',\n\t'borderBottomWidth',\n\t'paddingTop',\n\t'paddingBottom',\n\t'marginTop',\n\t'marginBottom'\n];\n\nconst COLLAPSED = {\n\theight: 0,\n\tborderTopWidth: 0,\n\tborderBottomWidth: 0,\n\tpaddingTop: 0,\n\tpaddingBottom: 0,\n\tmarginTop: 0,\n\tmarginBottom: 0\n};\n\nexport default function slide ( t, params ) {\n\tvar targetStyle;\n\n\tparams = t.processParams( params, DEFAULTS );\n\n\tif ( t.isIntro ) {\n\t\ttargetStyle = t.getStyle( PROPS );\n\t\tt.setStyle( COLLAPSED );\n\t} else {\n\t\t// make style explicit, so we're not transitioning to 'auto'\n\t\tt.setStyle( t.getStyle( PROPS ) );\n\t\ttargetStyle = COLLAPSED;\n\t}\n\n\tt.setStyle( 'overflowY', 'hidden' );\n\n\tt.animateStyle( targetStyle, params ).then( t.complete );\n}","import journey from \"lib/journey/journey\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./methods.html\";\r\n\r\nvar methods = {\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = createView( options.target );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nfunction createView( target ) {\r\n\r\n\tvar view = new Ractive( {\r\n\r\n\t\tel: target,\r\n\t\ttemplate: template,\r\n\r\n\t\tdata: {\r\n\t\t\titems: [\r\n\t\t\t\t{ name: 'Item 1' },\r\n\t\t\t\t{ name: 'Item 2' },\r\n\t\t\t\t{ name: 'Item 3' }\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\ttest: function ( ) {\r\n\t\t\tconsole.log( \"test() invoked!\" );\r\n\t\t\treturn false;  //returning false cancels the original event, effectively calling event.preventDefault() and event.stopPropagation()\r\n\t\t},\r\n\r\n\t\ttestArgs: function ( context, currentItem ) {\r\n\t\t\tconsole.log(\"--------- item clicked ------------\");\r\n\t\t\tconsole.log( \"current item: \", currentItem );\r\n\t\t\tconsole.log( \"context\", context );\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} );\r\n\treturn view;\r\n}\r\n\r\n\r\nexport default methods;\r\n","import Ractive from \"Ractive.js\";\r\nimport template from  \"./binding.html\";\r\n\r\nvar binding = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = createView( options.target );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown( );\r\n\t}\r\n};\r\n\r\nfunction createView( target ) {\r\n\r\n\tvar view = new Ractive( {\r\n\t\tel: target,\r\n\t\ttemplate: template,\r\n\r\n\t\tdata: { \"name\": \"World!\" },\r\n\t\t\r\n\t\tresetData: function ( ) {\r\n\t\t\tthis.set( \"name\", \"World!\" );\r\n\t\t}\r\n\t} );\r\n\treturn view;\r\n}\r\n\r\nexport default binding;\r\n\r\n\r\n","/*!\r\n* Parsley.js\r\n* Version 2.7.0 - built Wed, Mar 1st 2017, 3:53 pm\r\n* http://parsleyjs.org\r\n* Guillaume Potier - <guillaume@wisembly.com>\r\n* Marc-Andre Lafortune - <petroselinum@marc-andre.ca>\r\n* MIT Licensed\r\n*/\r\n\r\n// The source code below is generated by babel as\r\n// Parsley is written in ECMAScript 6\r\n//\r\nvar _slice = Array.prototype.slice;\r\n\r\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\r\n\r\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\r\n\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('jquery')) : typeof define === 'function' && define.amd ? define(['jquery'], factory) : global.parsley = factory(global.jQuery);\r\n})(this || window, function ($) {\r\n  'use strict';\r\n\r\n  var globalID = 1;\r\n  var pastWarnings = {};\r\n\r\n  var Utils__Utils = {\r\n    // Parsley DOM-API\r\n    // returns object from dom attributes and values\r\n    attr: function attr($element, namespace, obj) {\r\n      var i;\r\n      var attribute;\r\n      var attributes;\r\n      var regex = new RegExp('^' + namespace, 'i');\r\n\r\n      if ('undefined' === typeof obj) obj = {};else {\r\n        // Clear all own properties. This won't affect prototype's values\r\n        for (i in obj) {\r\n          if (obj.hasOwnProperty(i)) delete obj[i];\r\n        }\r\n      }\r\n\r\n      if ('undefined' === typeof $element || 'undefined' === typeof $element[0]) return obj;\r\n\r\n      attributes = $element[0].attributes;\r\n      for (i = attributes.length; i--;) {\r\n        attribute = attributes[i];\r\n\r\n        if (attribute && attribute.specified && regex.test(attribute.name)) {\r\n          obj[this.camelize(attribute.name.slice(namespace.length))] = this.deserializeValue(attribute.value);\r\n        }\r\n      }\r\n\r\n      return obj;\r\n    },\r\n\r\n    checkAttr: function checkAttr($element, namespace, _checkAttr) {\r\n      return $element.is('[' + namespace + _checkAttr + ']');\r\n    },\r\n\r\n    setAttr: function setAttr($element, namespace, attr, value) {\r\n      $element[0].setAttribute(this.dasherize(namespace + attr), String(value));\r\n    },\r\n\r\n    generateID: function generateID() {\r\n      return '' + globalID++;\r\n    },\r\n\r\n    /** Third party functions **/\r\n    // Zepto deserialize function\r\n    deserializeValue: function deserializeValue(value) {\r\n      var num;\r\n\r\n      try {\r\n        return value ? value == \"true\" || (value == \"false\" ? false : value == \"null\" ? null : !isNaN(num = Number(value)) ? num : /^[\\[\\{]/.test(value) ? $.parseJSON(value) : value) : value;\r\n      } catch (e) {\r\n        return value;\r\n      }\r\n    },\r\n\r\n    // Zepto camelize function\r\n    camelize: function camelize(str) {\r\n      return str.replace(/-+(.)?/g, function (match, chr) {\r\n        return chr ? chr.toUpperCase() : '';\r\n      });\r\n    },\r\n\r\n    // Zepto dasherize function\r\n    dasherize: function dasherize(str) {\r\n      return str.replace(/::/g, '/').replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2').replace(/([a-z\\d])([A-Z])/g, '$1_$2').replace(/_/g, '-').toLowerCase();\r\n    },\r\n\r\n    warn: function warn() {\r\n      var _window$console;\r\n\r\n      if (window.console && 'function' === typeof window.console.warn) (_window$console = window.console).warn.apply(_window$console, arguments);\r\n    },\r\n\r\n    warnOnce: function warnOnce(msg) {\r\n      if (!pastWarnings[msg]) {\r\n        pastWarnings[msg] = true;\r\n        this.warn.apply(this, arguments);\r\n      }\r\n    },\r\n\r\n    _resetWarnings: function _resetWarnings() {\r\n      pastWarnings = {};\r\n    },\r\n\r\n    trimString: function trimString(string) {\r\n      return string.replace(/^\\s+|\\s+$/g, '');\r\n    },\r\n\r\n    parse: {\r\n      date: function date(string) {\r\n        var parsed = string.match(/^(\\d{4,})-(\\d\\d)-(\\d\\d)$/);\r\n        if (!parsed) return null;\r\n\r\n        var _parsed$map = parsed.map(function (x) {\r\n          return parseInt(x, 10);\r\n        });\r\n\r\n        var _parsed$map2 = _slicedToArray(_parsed$map, 4);\r\n\r\n        var _ = _parsed$map2[0];\r\n        var year = _parsed$map2[1];\r\n        var month = _parsed$map2[2];\r\n        var day = _parsed$map2[3];\r\n\r\n        var date = new Date(year, month - 1, day);\r\n        if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) return null;\r\n        return date;\r\n      },\r\n      string: function string(_string) {\r\n        return _string;\r\n      },\r\n      integer: function integer(string) {\r\n        if (isNaN(string)) return null;\r\n        return parseInt(string, 10);\r\n      },\r\n      number: function number(string) {\r\n        if (isNaN(string)) throw null;\r\n        return parseFloat(string);\r\n      },\r\n      'boolean': function _boolean(string) {\r\n        return !/^\\s*false\\s*$/i.test(string);\r\n      },\r\n      object: function object(string) {\r\n        return Utils__Utils.deserializeValue(string);\r\n      },\r\n      regexp: function regexp(_regexp) {\r\n        var flags = '';\r\n\r\n        // Test if RegExp is literal, if not, nothing to be done, otherwise, we need to isolate flags and pattern\r\n        if (/^\\/.*\\/(?:[gimy]*)$/.test(_regexp)) {\r\n          // Replace the regexp literal string with the first match group: ([gimy]*)\r\n          // If no flag is present, this will be a blank string\r\n          flags = _regexp.replace(/.*\\/([gimy]*)$/, '$1');\r\n          // Again, replace the regexp literal string with the first match group:\r\n          // everything excluding the opening and closing slashes and the flags\r\n          _regexp = _regexp.replace(new RegExp('^/(.*?)/' + flags + '$'), '$1');\r\n        } else {\r\n          // Anchor regexp:\r\n          _regexp = '^' + _regexp + '$';\r\n        }\r\n        return new RegExp(_regexp, flags);\r\n      }\r\n    },\r\n\r\n    parseRequirement: function parseRequirement(requirementType, string) {\r\n      var converter = this.parse[requirementType || 'string'];\r\n      if (!converter) throw 'Unknown requirement specification: \"' + requirementType + '\"';\r\n      var converted = converter(string);\r\n      if (converted === null) throw 'Requirement is not a ' + requirementType + ': \"' + string + '\"';\r\n      return converted;\r\n    },\r\n\r\n    namespaceEvents: function namespaceEvents(events, namespace) {\r\n      events = this.trimString(events || '').split(/\\s+/);\r\n      if (!events[0]) return '';\r\n      return $.map(events, function (evt) {\r\n        return evt + '.' + namespace;\r\n      }).join(' ');\r\n    },\r\n\r\n    difference: function difference(array, remove) {\r\n      // This is O(N^2), should be optimized\r\n      var result = [];\r\n      $.each(array, function (_, elem) {\r\n        if (remove.indexOf(elem) == -1) result.push(elem);\r\n      });\r\n      return result;\r\n    },\r\n\r\n    // Alter-ego to native Promise.all, but for jQuery\r\n    all: function all(promises) {\r\n      // jQuery treats $.when() and $.when(singlePromise) differently; let's avoid that and add spurious elements\r\n      return $.when.apply($, _toConsumableArray(promises).concat([42, 42]));\r\n    },\r\n\r\n    // Object.create polyfill, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create#Polyfill\r\n    objectCreate: Object.create || (function () {\r\n      var Object = function Object() {};\r\n      return function (prototype) {\r\n        if (arguments.length > 1) {\r\n          throw Error('Second argument not supported');\r\n        }\r\n        if (typeof prototype != 'object') {\r\n          throw TypeError('Argument must be an object');\r\n        }\r\n        Object.prototype = prototype;\r\n        var result = new Object();\r\n        Object.prototype = null;\r\n        return result;\r\n      };\r\n    })(),\r\n\r\n    _SubmitSelector: 'input[type=\"submit\"], button:submit'\r\n  };\r\n\r\n  var Utils__default = Utils__Utils;\r\n\r\n  // All these options could be overriden and specified directly in DOM using\r\n  // `data-parsley-` default DOM-API\r\n  // eg: `inputs` can be set in DOM using `data-parsley-inputs=\"input, textarea\"`\r\n  // eg: `data-parsley-stop-on-first-failing-constraint=\"false\"`\r\n\r\n  var Defaults = {\r\n    // ### General\r\n\r\n    // Default data-namespace for DOM API\r\n    namespace: 'data-parsley-',\r\n\r\n    // Supported inputs by default\r\n    inputs: 'input, textarea, select',\r\n\r\n    // Excluded inputs by default\r\n    excluded: 'input[type=button], input[type=submit], input[type=reset], input[type=hidden]',\r\n\r\n    // Stop validating field on highest priority failing constraint\r\n    priorityEnabled: true,\r\n\r\n    // ### Field only\r\n\r\n    // identifier used to group together inputs (e.g. radio buttons...)\r\n    multiple: null,\r\n\r\n    // identifier (or array of identifiers) used to validate only a select group of inputs\r\n    group: null,\r\n\r\n    // ### UI\r\n    // Enable\\Disable error messages\r\n    uiEnabled: true,\r\n\r\n    // Key events threshold before validation\r\n    validationThreshold: 3,\r\n\r\n    // Focused field on form validation error. 'first'|'last'|'none'\r\n    focus: 'first',\r\n\r\n    // event(s) that will trigger validation before first failure. eg: `input`...\r\n    trigger: false,\r\n\r\n    // event(s) that will trigger validation after first failure.\r\n    triggerAfterFailure: 'input',\r\n\r\n    // Class that would be added on every failing validation Parsley field\r\n    errorClass: 'parsley-error',\r\n\r\n    // Same for success validation\r\n    successClass: 'parsley-success',\r\n\r\n    // Return the `$element` that will receive these above success or error classes\r\n    // Could also be (and given directly from DOM) a valid selector like `'#div'`\r\n    classHandler: function classHandler(Field) {},\r\n\r\n    // Return the `$element` where errors will be appended\r\n    // Could also be (and given directly from DOM) a valid selector like `'#div'`\r\n    errorsContainer: function errorsContainer(Field) {},\r\n\r\n    // ul elem that would receive errors' list\r\n    errorsWrapper: '<ul class=\"parsley-errors-list\"></ul>',\r\n\r\n    // li elem that would receive error message\r\n    errorTemplate: '<li></li>'\r\n  };\r\n\r\n  var Base = function Base() {\r\n    this.__id__ = Utils__default.generateID();\r\n  };\r\n\r\n  Base.prototype = {\r\n    asyncSupport: true, // Deprecated\r\n\r\n    _pipeAccordingToValidationResult: function _pipeAccordingToValidationResult() {\r\n      var _this = this;\r\n\r\n      var pipe = function pipe() {\r\n        var r = $.Deferred();\r\n        if (true !== _this.validationResult) r.reject();\r\n        return r.resolve().promise();\r\n      };\r\n      return [pipe, pipe];\r\n    },\r\n\r\n    actualizeOptions: function actualizeOptions() {\r\n      Utils__default.attr(this.$element, this.options.namespace, this.domOptions);\r\n      if (this.parent && this.parent.actualizeOptions) this.parent.actualizeOptions();\r\n      return this;\r\n    },\r\n\r\n    _resetOptions: function _resetOptions(initOptions) {\r\n      this.domOptions = Utils__default.objectCreate(this.parent.options);\r\n      this.options = Utils__default.objectCreate(this.domOptions);\r\n      // Shallow copy of ownProperties of initOptions:\r\n      for (var i in initOptions) {\r\n        if (initOptions.hasOwnProperty(i)) this.options[i] = initOptions[i];\r\n      }\r\n      this.actualizeOptions();\r\n    },\r\n\r\n    _listeners: null,\r\n\r\n    // Register a callback for the given event name\r\n    // Callback is called with context as the first argument and the `this`\r\n    // The context is the current parsley instance, or window.Parsley if global\r\n    // A return value of `false` will interrupt the calls\r\n    on: function on(name, fn) {\r\n      this._listeners = this._listeners || {};\r\n      var queue = this._listeners[name] = this._listeners[name] || [];\r\n      queue.push(fn);\r\n\r\n      return this;\r\n    },\r\n\r\n    // Deprecated. Use `on` instead\r\n    subscribe: function subscribe(name, fn) {\r\n      $.listenTo(this, name.toLowerCase(), fn);\r\n    },\r\n\r\n    // Unregister a callback (or all if none is given) for the given event name\r\n    off: function off(name, fn) {\r\n      var queue = this._listeners && this._listeners[name];\r\n      if (queue) {\r\n        if (!fn) {\r\n          delete this._listeners[name];\r\n        } else {\r\n          for (var i = queue.length; i--;) if (queue[i] === fn) queue.splice(i, 1);\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    // Deprecated. Use `off`\r\n    unsubscribe: function unsubscribe(name, fn) {\r\n      $.unsubscribeTo(this, name.toLowerCase());\r\n    },\r\n\r\n    // Trigger an event of the given name\r\n    // A return value of `false` interrupts the callback chain\r\n    // Returns false if execution was interrupted\r\n    trigger: function trigger(name, target, extraArg) {\r\n      target = target || this;\r\n      var queue = this._listeners && this._listeners[name];\r\n      var result;\r\n      var parentResult;\r\n      if (queue) {\r\n        for (var i = queue.length; i--;) {\r\n          result = queue[i].call(target, target, extraArg);\r\n          if (result === false) return result;\r\n        }\r\n      }\r\n      if (this.parent) {\r\n        return this.parent.trigger(name, target, extraArg);\r\n      }\r\n      return true;\r\n    },\r\n\r\n    asyncIsValid: function asyncIsValid(group, force) {\r\n      Utils__default.warnOnce(\"asyncIsValid is deprecated; please use whenValid instead\");\r\n      return this.whenValid({ group: group, force: force });\r\n    },\r\n\r\n    _findRelated: function _findRelated() {\r\n      return this.options.multiple ? this.parent.$element.find('[' + this.options.namespace + 'multiple=\"' + this.options.multiple + '\"]') : this.$element;\r\n    }\r\n  };\r\n\r\n  var convertArrayRequirement = function convertArrayRequirement(string, length) {\r\n    var m = string.match(/^\\s*\\[(.*)\\]\\s*$/);\r\n    if (!m) throw 'Requirement is not an array: \"' + string + '\"';\r\n    var values = m[1].split(',').map(Utils__default.trimString);\r\n    if (values.length !== length) throw 'Requirement has ' + values.length + ' values when ' + length + ' are needed';\r\n    return values;\r\n  };\r\n\r\n  var convertExtraOptionRequirement = function convertExtraOptionRequirement(requirementSpec, string, extraOptionReader) {\r\n    var main = null;\r\n    var extra = {};\r\n    for (var key in requirementSpec) {\r\n      if (key) {\r\n        var value = extraOptionReader(key);\r\n        if ('string' === typeof value) value = Utils__default.parseRequirement(requirementSpec[key], value);\r\n        extra[key] = value;\r\n      } else {\r\n        main = Utils__default.parseRequirement(requirementSpec[key], string);\r\n      }\r\n    }\r\n    return [main, extra];\r\n  };\r\n\r\n  // A Validator needs to implement the methods `validate` and `parseRequirements`\r\n\r\n  var Validator = function Validator(spec) {\r\n    $.extend(true, this, spec);\r\n  };\r\n\r\n  Validator.prototype = {\r\n    // Returns `true` iff the given `value` is valid according the given requirements.\r\n    validate: function validate(value, requirementFirstArg) {\r\n      if (this.fn) {\r\n        // Legacy style validator\r\n\r\n        if (arguments.length > 3) // If more args then value, requirement, instance...\r\n          requirementFirstArg = [].slice.call(arguments, 1, -1); // Skip first arg (value) and last (instance), combining the rest\r\n        return this.fn(value, requirementFirstArg);\r\n      }\r\n\r\n      if ($.isArray(value)) {\r\n        if (!this.validateMultiple) throw 'Validator `' + this.name + '` does not handle multiple values';\r\n        return this.validateMultiple.apply(this, arguments);\r\n      } else {\r\n        var instance = arguments[arguments.length - 1];\r\n        if (this.validateDate && instance._isDateInput()) {\r\n          arguments[0] = Utils__default.parse.date(arguments[0]);\r\n          if (arguments[0] === null) return false;\r\n          return this.validateDate.apply(this, arguments);\r\n        }\r\n        if (this.validateNumber) {\r\n          if (isNaN(value)) return false;\r\n          arguments[0] = parseFloat(arguments[0]);\r\n          return this.validateNumber.apply(this, arguments);\r\n        }\r\n        if (this.validateString) {\r\n          return this.validateString.apply(this, arguments);\r\n        }\r\n        throw 'Validator `' + this.name + '` only handles multiple values';\r\n      }\r\n    },\r\n\r\n    // Parses `requirements` into an array of arguments,\r\n    // according to `this.requirementType`\r\n    parseRequirements: function parseRequirements(requirements, extraOptionReader) {\r\n      if ('string' !== typeof requirements) {\r\n        // Assume requirement already parsed\r\n        // but make sure we return an array\r\n        return $.isArray(requirements) ? requirements : [requirements];\r\n      }\r\n      var type = this.requirementType;\r\n      if ($.isArray(type)) {\r\n        var values = convertArrayRequirement(requirements, type.length);\r\n        for (var i = 0; i < values.length; i++) values[i] = Utils__default.parseRequirement(type[i], values[i]);\r\n        return values;\r\n      } else if ($.isPlainObject(type)) {\r\n        return convertExtraOptionRequirement(type, requirements, extraOptionReader);\r\n      } else {\r\n        return [Utils__default.parseRequirement(type, requirements)];\r\n      }\r\n    },\r\n    // Defaults:\r\n    requirementType: 'string',\r\n\r\n    priority: 2\r\n\r\n  };\r\n\r\n  var ValidatorRegistry = function ValidatorRegistry(validators, catalog) {\r\n    this.__class__ = 'ValidatorRegistry';\r\n\r\n    // Default Parsley locale is en\r\n    this.locale = 'en';\r\n\r\n    this.init(validators || {}, catalog || {});\r\n  };\r\n\r\n  var typeTesters = {\r\n    email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i,\r\n\r\n    // Follow https://www.w3.org/TR/html5/infrastructure.html#floating-point-numbers\r\n    number: /^-?(\\d*\\.)?\\d+(e[-+]?\\d+)?$/i,\r\n\r\n    integer: /^-?\\d+$/,\r\n\r\n    digits: /^\\d+$/,\r\n\r\n    alphanum: /^\\w+$/i,\r\n\r\n    date: {\r\n      test: function test(value) {\r\n        return Utils__default.parse.date(value) !== null;\r\n      }\r\n    },\r\n\r\n    url: new RegExp(\"^\" +\r\n    // protocol identifier\r\n    \"(?:(?:https?|ftp)://)?\" + // ** mod: make scheme optional\r\n    // user:pass authentication\r\n    \"(?:\\\\S+(?::\\\\S*)?@)?\" + \"(?:\" +\r\n    // IP address exclusion\r\n    // private & local networks\r\n    // \"(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})\" +   // ** mod: allow local networks\r\n    // \"(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})\" +  // ** mod: allow local networks\r\n    // \"(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})\" +  // ** mod: allow local networks\r\n    // IP address dotted notation octets\r\n    // excludes loopback network 0.0.0.0\r\n    // excludes reserved space >= 224.0.0.0\r\n    // excludes network & broacast addresses\r\n    // (first & last IP address of each class)\r\n    \"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" + \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" + \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" + \"|\" +\r\n    // host name\r\n    '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\r\n    // domain name\r\n    '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\r\n    // TLD identifier\r\n    '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' + \")\" +\r\n    // port number\r\n    \"(?::\\\\d{2,5})?\" +\r\n    // resource path\r\n    \"(?:/\\\\S*)?\" + \"$\", 'i')\r\n  };\r\n  typeTesters.range = typeTesters.number;\r\n\r\n  // See http://stackoverflow.com/a/10454560/8279\r\n  var decimalPlaces = function decimalPlaces(num) {\r\n    var match = ('' + num).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n      return 0;\r\n    }\r\n    return Math.max(0,\r\n    // Number of digits right of decimal point.\r\n    (match[1] ? match[1].length : 0) - (\r\n    // Adjust for scientific notation.\r\n    match[2] ? +match[2] : 0));\r\n  };\r\n\r\n  // parseArguments('number', ['1', '2']) => [1, 2]\r\n  var ValidatorRegistry__parseArguments = function ValidatorRegistry__parseArguments(type, args) {\r\n    return args.map(Utils__default.parse[type]);\r\n  };\r\n  // operatorToValidator returns a validating function for an operator function, applied to the given type\r\n  var ValidatorRegistry__operatorToValidator = function ValidatorRegistry__operatorToValidator(type, operator) {\r\n    return function (value) {\r\n      for (var _len = arguments.length, requirementsAndInput = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n        requirementsAndInput[_key - 1] = arguments[_key];\r\n      }\r\n\r\n      requirementsAndInput.pop(); // Get rid of `input` argument\r\n      return operator.apply(undefined, [value].concat(_toConsumableArray(ValidatorRegistry__parseArguments(type, requirementsAndInput))));\r\n    };\r\n  };\r\n\r\n  var ValidatorRegistry__comparisonOperator = function ValidatorRegistry__comparisonOperator(operator) {\r\n    return {\r\n      validateDate: ValidatorRegistry__operatorToValidator('date', operator),\r\n      validateNumber: ValidatorRegistry__operatorToValidator('number', operator),\r\n      requirementType: operator.length <= 2 ? 'string' : ['string', 'string'], // Support operators with a 1 or 2 requirement(s)\r\n      priority: 30\r\n    };\r\n  };\r\n\r\n  ValidatorRegistry.prototype = {\r\n    init: function init(validators, catalog) {\r\n      this.catalog = catalog;\r\n      // Copy prototype's validators:\r\n      this.validators = $.extend({}, this.validators);\r\n\r\n      for (var name in validators) this.addValidator(name, validators[name].fn, validators[name].priority);\r\n\r\n      window.Parsley.trigger('parsley:validator:init');\r\n    },\r\n\r\n    // Set new messages locale if we have dictionary loaded in ParsleyConfig.i18n\r\n    setLocale: function setLocale(locale) {\r\n      if ('undefined' === typeof this.catalog[locale]) throw new Error(locale + ' is not available in the catalog');\r\n\r\n      this.locale = locale;\r\n\r\n      return this;\r\n    },\r\n\r\n    // Add a new messages catalog for a given locale. Set locale for this catalog if set === `true`\r\n    addCatalog: function addCatalog(locale, messages, set) {\r\n      if ('object' === typeof messages) this.catalog[locale] = messages;\r\n\r\n      if (true === set) return this.setLocale(locale);\r\n\r\n      return this;\r\n    },\r\n\r\n    // Add a specific message for a given constraint in a given locale\r\n    addMessage: function addMessage(locale, name, message) {\r\n      if ('undefined' === typeof this.catalog[locale]) this.catalog[locale] = {};\r\n\r\n      this.catalog[locale][name] = message;\r\n\r\n      return this;\r\n    },\r\n\r\n    // Add messages for a given locale\r\n    addMessages: function addMessages(locale, nameMessageObject) {\r\n      for (var name in nameMessageObject) this.addMessage(locale, name, nameMessageObject[name]);\r\n\r\n      return this;\r\n    },\r\n\r\n    // Add a new validator\r\n    //\r\n    //    addValidator('custom', {\r\n    //        requirementType: ['integer', 'integer'],\r\n    //        validateString: function(value, from, to) {},\r\n    //        priority: 22,\r\n    //        messages: {\r\n    //          en: \"Hey, that's no good\",\r\n    //          fr: \"Aye aye, pas bon du tout\",\r\n    //        }\r\n    //    })\r\n    //\r\n    // Old API was addValidator(name, function, priority)\r\n    //\r\n    addValidator: function addValidator(name, arg1, arg2) {\r\n      if (this.validators[name]) Utils__default.warn('Validator \"' + name + '\" is already defined.');else if (Defaults.hasOwnProperty(name)) {\r\n        Utils__default.warn('\"' + name + '\" is a restricted keyword and is not a valid validator name.');\r\n        return;\r\n      }\r\n      return this._setValidator.apply(this, arguments);\r\n    },\r\n\r\n    updateValidator: function updateValidator(name, arg1, arg2) {\r\n      if (!this.validators[name]) {\r\n        Utils__default.warn('Validator \"' + name + '\" is not already defined.');\r\n        return this.addValidator.apply(this, arguments);\r\n      }\r\n      return this._setValidator.apply(this, arguments);\r\n    },\r\n\r\n    removeValidator: function removeValidator(name) {\r\n      if (!this.validators[name]) Utils__default.warn('Validator \"' + name + '\" is not defined.');\r\n\r\n      delete this.validators[name];\r\n\r\n      return this;\r\n    },\r\n\r\n    _setValidator: function _setValidator(name, validator, priority) {\r\n      if ('object' !== typeof validator) {\r\n        // Old style validator, with `fn` and `priority`\r\n        validator = {\r\n          fn: validator,\r\n          priority: priority\r\n        };\r\n      }\r\n      if (!validator.validate) {\r\n        validator = new Validator(validator);\r\n      }\r\n      this.validators[name] = validator;\r\n\r\n      for (var locale in validator.messages || {}) this.addMessage(locale, name, validator.messages[locale]);\r\n\r\n      return this;\r\n    },\r\n\r\n    getErrorMessage: function getErrorMessage(constraint) {\r\n      var message;\r\n\r\n      // Type constraints are a bit different, we have to match their requirements too to find right error message\r\n      if ('type' === constraint.name) {\r\n        var typeMessages = this.catalog[this.locale][constraint.name] || {};\r\n        message = typeMessages[constraint.requirements];\r\n      } else message = this.formatMessage(this.catalog[this.locale][constraint.name], constraint.requirements);\r\n\r\n      return message || this.catalog[this.locale].defaultMessage || this.catalog.en.defaultMessage;\r\n    },\r\n\r\n    // Kind of light `sprintf()` implementation\r\n    formatMessage: function formatMessage(string, parameters) {\r\n      if ('object' === typeof parameters) {\r\n        for (var i in parameters) string = this.formatMessage(string, parameters[i]);\r\n\r\n        return string;\r\n      }\r\n\r\n      return 'string' === typeof string ? string.replace(/%s/i, parameters) : '';\r\n    },\r\n\r\n    // Here is the Parsley default validators list.\r\n    // A validator is an object with the following key values:\r\n    //  - priority: an integer\r\n    //  - requirement: 'string' (default), 'integer', 'number', 'regexp' or an Array of these\r\n    //  - validateString, validateMultiple, validateNumber: functions returning `true`, `false` or a promise\r\n    // Alternatively, a validator can be a function that returns such an object\r\n    //\r\n    validators: {\r\n      notblank: {\r\n        validateString: function validateString(value) {\r\n          return (/\\S/.test(value)\r\n          );\r\n        },\r\n        priority: 2\r\n      },\r\n      required: {\r\n        validateMultiple: function validateMultiple(values) {\r\n          return values.length > 0;\r\n        },\r\n        validateString: function validateString(value) {\r\n          return (/\\S/.test(value)\r\n          );\r\n        },\r\n        priority: 512\r\n      },\r\n      type: {\r\n        validateString: function validateString(value, type) {\r\n          var _ref = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\r\n\r\n          var _ref$step = _ref.step;\r\n          var step = _ref$step === undefined ? 'any' : _ref$step;\r\n          var _ref$base = _ref.base;\r\n          var base = _ref$base === undefined ? 0 : _ref$base;\r\n\r\n          var tester = typeTesters[type];\r\n          if (!tester) {\r\n            throw new Error('validator type `' + type + '` is not supported');\r\n          }\r\n          if (!tester.test(value)) return false;\r\n          if ('number' === type) {\r\n            if (!/^any$/i.test(step || '')) {\r\n              var nb = Number(value);\r\n              var decimals = Math.max(decimalPlaces(step), decimalPlaces(base));\r\n              if (decimalPlaces(nb) > decimals) // Value can't have too many decimals\r\n                return false;\r\n              // Be careful of rounding errors by using integers.\r\n              var toInt = function toInt(f) {\r\n                return Math.round(f * Math.pow(10, decimals));\r\n              };\r\n              if ((toInt(nb) - toInt(base)) % toInt(step) != 0) return false;\r\n            }\r\n          }\r\n          return true;\r\n        },\r\n        requirementType: {\r\n          '': 'string',\r\n          step: 'string',\r\n          base: 'number'\r\n        },\r\n        priority: 256\r\n      },\r\n      pattern: {\r\n        validateString: function validateString(value, regexp) {\r\n          return regexp.test(value);\r\n        },\r\n        requirementType: 'regexp',\r\n        priority: 64\r\n      },\r\n      minlength: {\r\n        validateString: function validateString(value, requirement) {\r\n          return value.length >= requirement;\r\n        },\r\n        requirementType: 'integer',\r\n        priority: 30\r\n      },\r\n      maxlength: {\r\n        validateString: function validateString(value, requirement) {\r\n          return value.length <= requirement;\r\n        },\r\n        requirementType: 'integer',\r\n        priority: 30\r\n      },\r\n      length: {\r\n        validateString: function validateString(value, min, max) {\r\n          return value.length >= min && value.length <= max;\r\n        },\r\n        requirementType: ['integer', 'integer'],\r\n        priority: 30\r\n      },\r\n      mincheck: {\r\n        validateMultiple: function validateMultiple(values, requirement) {\r\n          return values.length >= requirement;\r\n        },\r\n        requirementType: 'integer',\r\n        priority: 30\r\n      },\r\n      maxcheck: {\r\n        validateMultiple: function validateMultiple(values, requirement) {\r\n          return values.length <= requirement;\r\n        },\r\n        requirementType: 'integer',\r\n        priority: 30\r\n      },\r\n      check: {\r\n        validateMultiple: function validateMultiple(values, min, max) {\r\n          return values.length >= min && values.length <= max;\r\n        },\r\n        requirementType: ['integer', 'integer'],\r\n        priority: 30\r\n      },\r\n      min: ValidatorRegistry__comparisonOperator(function (value, requirement) {\r\n        return value >= requirement;\r\n      }),\r\n      max: ValidatorRegistry__comparisonOperator(function (value, requirement) {\r\n        return value <= requirement;\r\n      }),\r\n      range: ValidatorRegistry__comparisonOperator(function (value, min, max) {\r\n        return value >= min && value <= max;\r\n      }),\r\n      equalto: {\r\n        validateString: function validateString(value, refOrValue) {\r\n          var $reference = $(refOrValue);\r\n          if ($reference.length) return value === $reference.val();else return value === refOrValue;\r\n        },\r\n        priority: 256\r\n      }\r\n    }\r\n  };\r\n\r\n  var UI = {};\r\n\r\n  var diffResults = function diffResults(newResult, oldResult, deep) {\r\n    var added = [];\r\n    var kept = [];\r\n\r\n    for (var i = 0; i < newResult.length; i++) {\r\n      var found = false;\r\n\r\n      for (var j = 0; j < oldResult.length; j++) if (newResult[i].assert.name === oldResult[j].assert.name) {\r\n        found = true;\r\n        break;\r\n      }\r\n\r\n      if (found) kept.push(newResult[i]);else added.push(newResult[i]);\r\n    }\r\n\r\n    return {\r\n      kept: kept,\r\n      added: added,\r\n      removed: !deep ? diffResults(oldResult, newResult, true).added : []\r\n    };\r\n  };\r\n\r\n  UI.Form = {\r\n\r\n    _actualizeTriggers: function _actualizeTriggers() {\r\n      var _this2 = this;\r\n\r\n      this.$element.on('submit.Parsley', function (evt) {\r\n        _this2.onSubmitValidate(evt);\r\n      });\r\n      this.$element.on('click.Parsley', Utils__default._SubmitSelector, function (evt) {\r\n        _this2.onSubmitButton(evt);\r\n      });\r\n\r\n      // UI could be disabled\r\n      if (false === this.options.uiEnabled) return;\r\n\r\n      this.$element.attr('novalidate', '');\r\n    },\r\n\r\n    focus: function focus() {\r\n      this._focusedField = null;\r\n\r\n      if (true === this.validationResult || 'none' === this.options.focus) return null;\r\n\r\n      for (var i = 0; i < this.fields.length; i++) {\r\n        var field = this.fields[i];\r\n        if (true !== field.validationResult && field.validationResult.length > 0 && 'undefined' === typeof field.options.noFocus) {\r\n          this._focusedField = field.$element;\r\n          if ('first' === this.options.focus) break;\r\n        }\r\n      }\r\n\r\n      if (null === this._focusedField) return null;\r\n\r\n      return this._focusedField.focus();\r\n    },\r\n\r\n    _destroyUI: function _destroyUI() {\r\n      // Reset all event listeners\r\n      this.$element.off('.Parsley');\r\n    }\r\n\r\n  };\r\n\r\n  UI.Field = {\r\n\r\n    _reflowUI: function _reflowUI() {\r\n      this._buildUI();\r\n\r\n      // If this field doesn't have an active UI don't bother doing something\r\n      if (!this._ui) return;\r\n\r\n      // Diff between two validation results\r\n      var diff = diffResults(this.validationResult, this._ui.lastValidationResult);\r\n\r\n      // Then store current validation result for next reflow\r\n      this._ui.lastValidationResult = this.validationResult;\r\n\r\n      // Handle valid / invalid / none field class\r\n      this._manageStatusClass();\r\n\r\n      // Add, remove, updated errors messages\r\n      this._manageErrorsMessages(diff);\r\n\r\n      // Triggers impl\r\n      this._actualizeTriggers();\r\n\r\n      // If field is not valid for the first time, bind keyup trigger to ease UX and quickly inform user\r\n      if ((diff.kept.length || diff.added.length) && !this._failedOnce) {\r\n        this._failedOnce = true;\r\n        this._actualizeTriggers();\r\n      }\r\n    },\r\n\r\n    // Returns an array of field's error message(s)\r\n    getErrorsMessages: function getErrorsMessages() {\r\n      // No error message, field is valid\r\n      if (true === this.validationResult) return [];\r\n\r\n      var messages = [];\r\n\r\n      for (var i = 0; i < this.validationResult.length; i++) messages.push(this.validationResult[i].errorMessage || this._getErrorMessage(this.validationResult[i].assert));\r\n\r\n      return messages;\r\n    },\r\n\r\n    // It's a goal of Parsley that this method is no longer required [#1073]\r\n    addError: function addError(name) {\r\n      var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\r\n\r\n      var message = _ref2.message;\r\n      var assert = _ref2.assert;\r\n      var _ref2$updateClass = _ref2.updateClass;\r\n      var updateClass = _ref2$updateClass === undefined ? true : _ref2$updateClass;\r\n\r\n      this._buildUI();\r\n      this._addError(name, { message: message, assert: assert });\r\n\r\n      if (updateClass) this._errorClass();\r\n    },\r\n\r\n    // It's a goal of Parsley that this method is no longer required [#1073]\r\n    updateError: function updateError(name) {\r\n      var _ref3 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\r\n\r\n      var message = _ref3.message;\r\n      var assert = _ref3.assert;\r\n      var _ref3$updateClass = _ref3.updateClass;\r\n      var updateClass = _ref3$updateClass === undefined ? true : _ref3$updateClass;\r\n\r\n      this._buildUI();\r\n      this._updateError(name, { message: message, assert: assert });\r\n\r\n      if (updateClass) this._errorClass();\r\n    },\r\n\r\n    // It's a goal of Parsley that this method is no longer required [#1073]\r\n    removeError: function removeError(name) {\r\n      var _ref4 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\r\n\r\n      var _ref4$updateClass = _ref4.updateClass;\r\n      var updateClass = _ref4$updateClass === undefined ? true : _ref4$updateClass;\r\n\r\n      this._buildUI();\r\n      this._removeError(name);\r\n\r\n      // edge case possible here: remove a standard Parsley error that is still failing in this.validationResult\r\n      // but highly improbable cuz' manually removing a well Parsley handled error makes no sense.\r\n      if (updateClass) this._manageStatusClass();\r\n    },\r\n\r\n    _manageStatusClass: function _manageStatusClass() {\r\n      if (this.hasConstraints() && this.needsValidation() && true === this.validationResult) this._successClass();else if (this.validationResult.length > 0) this._errorClass();else this._resetClass();\r\n    },\r\n\r\n    _manageErrorsMessages: function _manageErrorsMessages(diff) {\r\n      if ('undefined' !== typeof this.options.errorsMessagesDisabled) return;\r\n\r\n      // Case where we have errorMessage option that configure an unique field error message, regardless failing validators\r\n      if ('undefined' !== typeof this.options.errorMessage) {\r\n        if (diff.added.length || diff.kept.length) {\r\n          this._insertErrorWrapper();\r\n\r\n          if (0 === this._ui.$errorsWrapper.find('.parsley-custom-error-message').length) this._ui.$errorsWrapper.append($(this.options.errorTemplate).addClass('parsley-custom-error-message'));\r\n\r\n          return this._ui.$errorsWrapper.addClass('filled').find('.parsley-custom-error-message').html(this.options.errorMessage);\r\n        }\r\n\r\n        return this._ui.$errorsWrapper.removeClass('filled').find('.parsley-custom-error-message').remove();\r\n      }\r\n\r\n      // Show, hide, update failing constraints messages\r\n      for (var i = 0; i < diff.removed.length; i++) this._removeError(diff.removed[i].assert.name);\r\n\r\n      for (i = 0; i < diff.added.length; i++) this._addError(diff.added[i].assert.name, { message: diff.added[i].errorMessage, assert: diff.added[i].assert });\r\n\r\n      for (i = 0; i < diff.kept.length; i++) this._updateError(diff.kept[i].assert.name, { message: diff.kept[i].errorMessage, assert: diff.kept[i].assert });\r\n    },\r\n\r\n    _addError: function _addError(name, _ref5) {\r\n      var message = _ref5.message;\r\n      var assert = _ref5.assert;\r\n\r\n      this._insertErrorWrapper();\r\n      this._ui.$errorsWrapper.addClass('filled').append($(this.options.errorTemplate).addClass('parsley-' + name).html(message || this._getErrorMessage(assert)));\r\n    },\r\n\r\n    _updateError: function _updateError(name, _ref6) {\r\n      var message = _ref6.message;\r\n      var assert = _ref6.assert;\r\n\r\n      this._ui.$errorsWrapper.addClass('filled').find('.parsley-' + name).html(message || this._getErrorMessage(assert));\r\n    },\r\n\r\n    _removeError: function _removeError(name) {\r\n      this._ui.$errorsWrapper.removeClass('filled').find('.parsley-' + name).remove();\r\n    },\r\n\r\n    _getErrorMessage: function _getErrorMessage(constraint) {\r\n      var customConstraintErrorMessage = constraint.name + 'Message';\r\n\r\n      if ('undefined' !== typeof this.options[customConstraintErrorMessage]) return window.Parsley.formatMessage(this.options[customConstraintErrorMessage], constraint.requirements);\r\n\r\n      return window.Parsley.getErrorMessage(constraint);\r\n    },\r\n\r\n    _buildUI: function _buildUI() {\r\n      // UI could be already built or disabled\r\n      if (this._ui || false === this.options.uiEnabled) return;\r\n\r\n      var _ui = {};\r\n\r\n      // Give field its Parsley id in DOM\r\n      this.$element.attr(this.options.namespace + 'id', this.__id__);\r\n\r\n      /** Generate important UI elements and store them in this **/\r\n      // $errorClassHandler is the $element that woul have parsley-error and parsley-success classes\r\n      _ui.$errorClassHandler = this._manageClassHandler();\r\n\r\n      // $errorsWrapper is a div that would contain the various field errors, it will be appended into $errorsContainer\r\n      _ui.errorsWrapperId = 'parsley-id-' + (this.options.multiple ? 'multiple-' + this.options.multiple : this.__id__);\r\n      _ui.$errorsWrapper = $(this.options.errorsWrapper).attr('id', _ui.errorsWrapperId);\r\n\r\n      // ValidationResult UI storage to detect what have changed bwt two validations, and update DOM accordingly\r\n      _ui.lastValidationResult = [];\r\n      _ui.validationInformationVisible = false;\r\n\r\n      // Store it in this for later\r\n      this._ui = _ui;\r\n    },\r\n\r\n    // Determine which element will have `parsley-error` and `parsley-success` classes\r\n    _manageClassHandler: function _manageClassHandler() {\r\n      // An element selector could be passed through DOM with `data-parsley-class-handler=#foo`\r\n      if ('string' === typeof this.options.classHandler && $(this.options.classHandler).length) return $(this.options.classHandler);\r\n\r\n      // Class handled could also be determined by function given in Parsley options\r\n      var $handler = this.options.classHandler.call(this, this);\r\n\r\n      // If this function returned a valid existing DOM element, go for it\r\n      if ('undefined' !== typeof $handler && $handler.length) return $handler;\r\n\r\n      return this._inputHolder();\r\n    },\r\n\r\n    _inputHolder: function _inputHolder() {\r\n      // if simple element (input, texatrea, select...) it will perfectly host the classes and precede the error container\r\n      if (!this.options.multiple || this.$element.is('select')) return this.$element;\r\n\r\n      // But if multiple element (radio, checkbox), that would be their parent\r\n      return this.$element.parent();\r\n    },\r\n\r\n    _insertErrorWrapper: function _insertErrorWrapper() {\r\n      var $errorsContainer;\r\n\r\n      // Nothing to do if already inserted\r\n      if (0 !== this._ui.$errorsWrapper.parent().length) return this._ui.$errorsWrapper.parent();\r\n\r\n      if ('string' === typeof this.options.errorsContainer) {\r\n        if ($(this.options.errorsContainer).length) return $(this.options.errorsContainer).append(this._ui.$errorsWrapper);else Utils__default.warn('The errors container `' + this.options.errorsContainer + '` does not exist in DOM');\r\n      } else if ('function' === typeof this.options.errorsContainer) $errorsContainer = this.options.errorsContainer.call(this, this);\r\n\r\n      if ('undefined' !== typeof $errorsContainer && $errorsContainer.length) return $errorsContainer.append(this._ui.$errorsWrapper);\r\n\r\n      return this._inputHolder().after(this._ui.$errorsWrapper);\r\n    },\r\n\r\n    _actualizeTriggers: function _actualizeTriggers() {\r\n      var _this3 = this;\r\n\r\n      var $toBind = this._findRelated();\r\n      var trigger;\r\n\r\n      // Remove Parsley events already bound on this field\r\n      $toBind.off('.Parsley');\r\n      if (this._failedOnce) $toBind.on(Utils__default.namespaceEvents(this.options.triggerAfterFailure, 'Parsley'), function () {\r\n        _this3._validateIfNeeded();\r\n      });else if (trigger = Utils__default.namespaceEvents(this.options.trigger, 'Parsley')) {\r\n        $toBind.on(trigger, function (event) {\r\n          _this3._validateIfNeeded(event);\r\n        });\r\n      }\r\n    },\r\n\r\n    _validateIfNeeded: function _validateIfNeeded(event) {\r\n      var _this4 = this;\r\n\r\n      // For keyup, keypress, keydown, input... events that could be a little bit obstrusive\r\n      // do not validate if val length < min threshold on first validation. Once field have been validated once and info\r\n      // about success or failure have been displayed, always validate with this trigger to reflect every yalidation change.\r\n      if (event && /key|input/.test(event.type)) if (!(this._ui && this._ui.validationInformationVisible) && this.getValue().length <= this.options.validationThreshold) return;\r\n\r\n      if (this.options.debounce) {\r\n        window.clearTimeout(this._debounced);\r\n        this._debounced = window.setTimeout(function () {\r\n          return _this4.validate();\r\n        }, this.options.debounce);\r\n      } else this.validate();\r\n    },\r\n\r\n    _resetUI: function _resetUI() {\r\n      // Reset all event listeners\r\n      this._failedOnce = false;\r\n      this._actualizeTriggers();\r\n\r\n      // Nothing to do if UI never initialized for this field\r\n      if ('undefined' === typeof this._ui) return;\r\n\r\n      // Reset all errors' li\r\n      this._ui.$errorsWrapper.removeClass('filled').children().remove();\r\n\r\n      // Reset validation class\r\n      this._resetClass();\r\n\r\n      // Reset validation flags and last validation result\r\n      this._ui.lastValidationResult = [];\r\n      this._ui.validationInformationVisible = false;\r\n    },\r\n\r\n    _destroyUI: function _destroyUI() {\r\n      this._resetUI();\r\n\r\n      if ('undefined' !== typeof this._ui) this._ui.$errorsWrapper.remove();\r\n\r\n      delete this._ui;\r\n    },\r\n\r\n    _successClass: function _successClass() {\r\n      this._ui.validationInformationVisible = true;\r\n      this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass);\r\n    },\r\n    _errorClass: function _errorClass() {\r\n      this._ui.validationInformationVisible = true;\r\n      this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass);\r\n    },\r\n    _resetClass: function _resetClass() {\r\n      this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);\r\n    }\r\n  };\r\n\r\n  var Form = function Form(element, domOptions, options) {\r\n    this.__class__ = 'Form';\r\n\r\n    this.$element = $(element);\r\n    this.domOptions = domOptions;\r\n    this.options = options;\r\n    this.parent = window.Parsley;\r\n\r\n    this.fields = [];\r\n    this.validationResult = null;\r\n  };\r\n\r\n  var Form__statusMapping = { pending: null, resolved: true, rejected: false };\r\n\r\n  Form.prototype = {\r\n    onSubmitValidate: function onSubmitValidate(event) {\r\n      var _this5 = this;\r\n\r\n      // This is a Parsley generated submit event, do not validate, do not prevent, simply exit and keep normal behavior\r\n      if (true === event.parsley) return;\r\n\r\n      // If we didn't come here through a submit button, use the first one in the form\r\n      var $submitSource = this._$submitSource || this.$element.find(Utils__default._SubmitSelector).first();\r\n      this._$submitSource = null;\r\n      this.$element.find('.parsley-synthetic-submit-button').prop('disabled', true);\r\n      if ($submitSource.is('[formnovalidate]')) return;\r\n\r\n      var promise = this.whenValidate({ event: event });\r\n\r\n      if ('resolved' === promise.state() && false !== this._trigger('submit')) {\r\n        // All good, let event go through. We make this distinction because browsers\r\n        // differ in their handling of `submit` being called from inside a submit event [#1047]\r\n      } else {\r\n          // Rejected or pending: cancel this submit\r\n          event.stopImmediatePropagation();\r\n          event.preventDefault();\r\n          if ('pending' === promise.state()) promise.done(function () {\r\n            _this5._submit($submitSource);\r\n          });\r\n        }\r\n    },\r\n\r\n    onSubmitButton: function onSubmitButton(event) {\r\n      this._$submitSource = $(event.currentTarget);\r\n    },\r\n    // internal\r\n    // _submit submits the form, this time without going through the validations.\r\n    // Care must be taken to \"fake\" the actual submit button being clicked.\r\n    _submit: function _submit($submitSource) {\r\n      if (false === this._trigger('submit')) return;\r\n      // Add submit button's data\r\n      if ($submitSource) {\r\n        var $synthetic = this.$element.find('.parsley-synthetic-submit-button').prop('disabled', false);\r\n        if (0 === $synthetic.length) $synthetic = $('<input class=\"parsley-synthetic-submit-button\" type=\"hidden\">').appendTo(this.$element);\r\n        $synthetic.attr({\r\n          name: $submitSource.attr('name'),\r\n          value: $submitSource.attr('value')\r\n        });\r\n      }\r\n\r\n      this.$element.trigger($.extend($.Event('submit'), { parsley: true }));\r\n    },\r\n\r\n    // Performs validation on fields while triggering events.\r\n    // @returns `true` if all validations succeeds, `false`\r\n    // if a failure is immediately detected, or `null`\r\n    // if dependant on a promise.\r\n    // Consider using `whenValidate` instead.\r\n    validate: function validate(options) {\r\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\r\n        Utils__default.warnOnce('Calling validate on a parsley form without passing arguments as an object is deprecated.');\r\n\r\n        var _arguments = _slice.call(arguments);\r\n\r\n        var group = _arguments[0];\r\n        var force = _arguments[1];\r\n        var event = _arguments[2];\r\n\r\n        options = { group: group, force: force, event: event };\r\n      }\r\n      return Form__statusMapping[this.whenValidate(options).state()];\r\n    },\r\n\r\n    whenValidate: function whenValidate() {\r\n      var _Utils__default$all$done$fail$always,\r\n          _this6 = this;\r\n\r\n      var _ref7 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n      var group = _ref7.group;\r\n      var force = _ref7.force;\r\n      var event = _ref7.event;\r\n\r\n      this.submitEvent = event;\r\n      if (event) {\r\n        this.submitEvent = $.extend({}, event, { preventDefault: function preventDefault() {\r\n            Utils__default.warnOnce(\"Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`\");\r\n            _this6.validationResult = false;\r\n          } });\r\n      }\r\n      this.validationResult = true;\r\n\r\n      // fire validate event to eventually modify things before every validation\r\n      this._trigger('validate');\r\n\r\n      // Refresh form DOM options and form's fields that could have changed\r\n      this._refreshFields();\r\n\r\n      var promises = this._withoutReactualizingFormOptions(function () {\r\n        return $.map(_this6.fields, function (field) {\r\n          return field.whenValidate({ force: force, group: group });\r\n        });\r\n      });\r\n\r\n      return (_Utils__default$all$done$fail$always = Utils__default.all(promises).done(function () {\r\n        _this6._trigger('success');\r\n      }).fail(function () {\r\n        _this6.validationResult = false;\r\n        _this6.focus();\r\n        _this6._trigger('error');\r\n      }).always(function () {\r\n        _this6._trigger('validated');\r\n      })).pipe.apply(_Utils__default$all$done$fail$always, _toConsumableArray(this._pipeAccordingToValidationResult()));\r\n    },\r\n\r\n    // Iterate over refreshed fields, and stop on first failure.\r\n    // Returns `true` if all fields are valid, `false` if a failure is detected\r\n    // or `null` if the result depends on an unresolved promise.\r\n    // Prefer using `whenValid` instead.\r\n    isValid: function isValid(options) {\r\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\r\n        Utils__default.warnOnce('Calling isValid on a parsley form without passing arguments as an object is deprecated.');\r\n\r\n        var _arguments2 = _slice.call(arguments);\r\n\r\n        var group = _arguments2[0];\r\n        var force = _arguments2[1];\r\n\r\n        options = { group: group, force: force };\r\n      }\r\n      return Form__statusMapping[this.whenValid(options).state()];\r\n    },\r\n\r\n    // Iterate over refreshed fields and validate them.\r\n    // Returns a promise.\r\n    // A validation that immediately fails will interrupt the validations.\r\n    whenValid: function whenValid() {\r\n      var _this7 = this;\r\n\r\n      var _ref8 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n      var group = _ref8.group;\r\n      var force = _ref8.force;\r\n\r\n      this._refreshFields();\r\n\r\n      var promises = this._withoutReactualizingFormOptions(function () {\r\n        return $.map(_this7.fields, function (field) {\r\n          return field.whenValid({ group: group, force: force });\r\n        });\r\n      });\r\n      return Utils__default.all(promises);\r\n    },\r\n\r\n    // Reset UI\r\n    reset: function reset() {\r\n      // Form case: emit a reset event for each field\r\n      for (var i = 0; i < this.fields.length; i++) this.fields[i].reset();\r\n\r\n      this._trigger('reset');\r\n    },\r\n\r\n    // Destroy Parsley instance (+ UI)\r\n    destroy: function destroy() {\r\n      // Field case: emit destroy event to clean UI and then destroy stored instance\r\n      this._destroyUI();\r\n\r\n      // Form case: destroy all its fields and then destroy stored instance\r\n      for (var i = 0; i < this.fields.length; i++) this.fields[i].destroy();\r\n\r\n      this.$element.removeData('Parsley');\r\n      this._trigger('destroy');\r\n    },\r\n\r\n    _refreshFields: function _refreshFields() {\r\n      return this.actualizeOptions()._bindFields();\r\n    },\r\n\r\n    _bindFields: function _bindFields() {\r\n      var _this8 = this;\r\n\r\n      var oldFields = this.fields;\r\n\r\n      this.fields = [];\r\n      this.fieldsMappedById = {};\r\n\r\n      this._withoutReactualizingFormOptions(function () {\r\n        _this8.$element.find(_this8.options.inputs).not(_this8.options.excluded).each(function (_, element) {\r\n          var fieldInstance = new window.Parsley.Factory(element, {}, _this8);\r\n\r\n          // Only add valid and not excluded `Field` and `FieldMultiple` children\r\n          if (('Field' === fieldInstance.__class__ || 'FieldMultiple' === fieldInstance.__class__) && true !== fieldInstance.options.excluded) {\r\n            var uniqueId = fieldInstance.__class__ + '-' + fieldInstance.__id__;\r\n            if ('undefined' === typeof _this8.fieldsMappedById[uniqueId]) {\r\n              _this8.fieldsMappedById[uniqueId] = fieldInstance;\r\n              _this8.fields.push(fieldInstance);\r\n            }\r\n          }\r\n        });\r\n\r\n        $.each(Utils__default.difference(oldFields, _this8.fields), function (_, field) {\r\n          field.reset();\r\n        });\r\n      });\r\n      return this;\r\n    },\r\n\r\n    // Internal only.\r\n    // Looping on a form's fields to do validation or similar\r\n    // will trigger reactualizing options on all of them, which\r\n    // in turn will reactualize the form's options.\r\n    // To avoid calling actualizeOptions so many times on the form\r\n    // for nothing, _withoutReactualizingFormOptions temporarily disables\r\n    // the method actualizeOptions on this form while `fn` is called.\r\n    _withoutReactualizingFormOptions: function _withoutReactualizingFormOptions(fn) {\r\n      var oldActualizeOptions = this.actualizeOptions;\r\n      this.actualizeOptions = function () {\r\n        return this;\r\n      };\r\n      var result = fn();\r\n      this.actualizeOptions = oldActualizeOptions;\r\n      return result;\r\n    },\r\n\r\n    // Internal only.\r\n    // Shortcut to trigger an event\r\n    // Returns true iff event is not interrupted and default not prevented.\r\n    _trigger: function _trigger(eventName) {\r\n      return this.trigger('form:' + eventName);\r\n    }\r\n\r\n  };\r\n\r\n  var Constraint = function Constraint(parsleyField, name, requirements, priority, isDomConstraint) {\r\n    var validatorSpec = window.Parsley._validatorRegistry.validators[name];\r\n    var validator = new Validator(validatorSpec);\r\n\r\n    $.extend(this, {\r\n      validator: validator,\r\n      name: name,\r\n      requirements: requirements,\r\n      priority: priority || parsleyField.options[name + 'Priority'] || validator.priority,\r\n      isDomConstraint: true === isDomConstraint\r\n    });\r\n    this._parseRequirements(parsleyField.options);\r\n  };\r\n\r\n  var capitalize = function capitalize(str) {\r\n    var cap = str[0].toUpperCase();\r\n    return cap + str.slice(1);\r\n  };\r\n\r\n  Constraint.prototype = {\r\n    validate: function validate(value, instance) {\r\n      var _validator;\r\n\r\n      return (_validator = this.validator).validate.apply(_validator, [value].concat(_toConsumableArray(this.requirementList), [instance]));\r\n    },\r\n\r\n    _parseRequirements: function _parseRequirements(options) {\r\n      var _this9 = this;\r\n\r\n      this.requirementList = this.validator.parseRequirements(this.requirements, function (key) {\r\n        return options[_this9.name + capitalize(key)];\r\n      });\r\n    }\r\n  };\r\n\r\n  var Field = function Field(field, domOptions, options, parsleyFormInstance) {\r\n    this.__class__ = 'Field';\r\n\r\n    this.$element = $(field);\r\n\r\n    // Set parent if we have one\r\n    if ('undefined' !== typeof parsleyFormInstance) {\r\n      this.parent = parsleyFormInstance;\r\n    }\r\n\r\n    this.options = options;\r\n    this.domOptions = domOptions;\r\n\r\n    // Initialize some properties\r\n    this.constraints = [];\r\n    this.constraintsByName = {};\r\n    this.validationResult = true;\r\n\r\n    // Bind constraints\r\n    this._bindConstraints();\r\n  };\r\n\r\n  var parsley_field__statusMapping = { pending: null, resolved: true, rejected: false };\r\n\r\n  Field.prototype = {\r\n    // # Public API\r\n    // Validate field and trigger some events for mainly `UI`\r\n    // @returns `true`, an array of the validators that failed, or\r\n    // `null` if validation is not finished. Prefer using whenValidate\r\n    validate: function validate(options) {\r\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\r\n        Utils__default.warnOnce('Calling validate on a parsley field without passing arguments as an object is deprecated.');\r\n        options = { options: options };\r\n      }\r\n      var promise = this.whenValidate(options);\r\n      if (!promise) // If excluded with `group` option\r\n        return true;\r\n      switch (promise.state()) {\r\n        case 'pending':\r\n          return null;\r\n        case 'resolved':\r\n          return true;\r\n        case 'rejected':\r\n          return this.validationResult;\r\n      }\r\n    },\r\n\r\n    // Validate field and trigger some events for mainly `UI`\r\n    // @returns a promise that succeeds only when all validations do\r\n    // or `undefined` if field is not in the given `group`.\r\n    whenValidate: function whenValidate() {\r\n      var _whenValid$always$done$fail$always,\r\n          _this10 = this;\r\n\r\n      var _ref9 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n      var force = _ref9.force;\r\n      var group = _ref9.group;\r\n\r\n      // do not validate a field if not the same as given validation group\r\n      this.refreshConstraints();\r\n      if (group && !this._isInGroup(group)) return;\r\n\r\n      this.value = this.getValue();\r\n\r\n      // Field Validate event. `this.value` could be altered for custom needs\r\n      this._trigger('validate');\r\n\r\n      return (_whenValid$always$done$fail$always = this.whenValid({ force: force, value: this.value, _refreshed: true }).always(function () {\r\n        _this10._reflowUI();\r\n      }).done(function () {\r\n        _this10._trigger('success');\r\n      }).fail(function () {\r\n        _this10._trigger('error');\r\n      }).always(function () {\r\n        _this10._trigger('validated');\r\n      })).pipe.apply(_whenValid$always$done$fail$always, _toConsumableArray(this._pipeAccordingToValidationResult()));\r\n    },\r\n\r\n    hasConstraints: function hasConstraints() {\r\n      return 0 !== this.constraints.length;\r\n    },\r\n\r\n    // An empty optional field does not need validation\r\n    needsValidation: function needsValidation(value) {\r\n      if ('undefined' === typeof value) value = this.getValue();\r\n\r\n      // If a field is empty and not required, it is valid\r\n      // Except if `data-parsley-validate-if-empty` explicitely added, useful for some custom validators\r\n      if (!value.length && !this._isRequired() && 'undefined' === typeof this.options.validateIfEmpty) return false;\r\n\r\n      return true;\r\n    },\r\n\r\n    _isInGroup: function _isInGroup(group) {\r\n      if ($.isArray(this.options.group)) return -1 !== $.inArray(group, this.options.group);\r\n      return this.options.group === group;\r\n    },\r\n\r\n    // Just validate field. Do not trigger any event.\r\n    // Returns `true` iff all constraints pass, `false` if there are failures,\r\n    // or `null` if the result can not be determined yet (depends on a promise)\r\n    // See also `whenValid`.\r\n    isValid: function isValid(options) {\r\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\r\n        Utils__default.warnOnce('Calling isValid on a parsley field without passing arguments as an object is deprecated.');\r\n\r\n        var _arguments3 = _slice.call(arguments);\r\n\r\n        var force = _arguments3[0];\r\n        var value = _arguments3[1];\r\n\r\n        options = { force: force, value: value };\r\n      }\r\n      var promise = this.whenValid(options);\r\n      if (!promise) // Excluded via `group`\r\n        return true;\r\n      return parsley_field__statusMapping[promise.state()];\r\n    },\r\n\r\n    // Just validate field. Do not trigger any event.\r\n    // @returns a promise that succeeds only when all validations do\r\n    // or `undefined` if the field is not in the given `group`.\r\n    // The argument `force` will force validation of empty fields.\r\n    // If a `value` is given, it will be validated instead of the value of the input.\r\n    whenValid: function whenValid() {\r\n      var _this11 = this;\r\n\r\n      var _ref10 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\r\n\r\n      var _ref10$force = _ref10.force;\r\n      var force = _ref10$force === undefined ? false : _ref10$force;\r\n      var value = _ref10.value;\r\n      var group = _ref10.group;\r\n      var _refreshed = _ref10._refreshed;\r\n\r\n      // Recompute options and rebind constraints to have latest changes\r\n      if (!_refreshed) this.refreshConstraints();\r\n      // do not validate a field if not the same as given validation group\r\n      if (group && !this._isInGroup(group)) return;\r\n\r\n      this.validationResult = true;\r\n\r\n      // A field without constraint is valid\r\n      if (!this.hasConstraints()) return $.when();\r\n\r\n      // Value could be passed as argument, needed to add more power to 'field:validate'\r\n      if ('undefined' === typeof value || null === value) value = this.getValue();\r\n\r\n      if (!this.needsValidation(value) && true !== force) return $.when();\r\n\r\n      var groupedConstraints = this._getGroupedConstraints();\r\n      var promises = [];\r\n      $.each(groupedConstraints, function (_, constraints) {\r\n        // Process one group of constraints at a time, we validate the constraints\r\n        // and combine the promises together.\r\n        var promise = Utils__default.all($.map(constraints, function (constraint) {\r\n          return _this11._validateConstraint(value, constraint);\r\n        }));\r\n        promises.push(promise);\r\n        if (promise.state() === 'rejected') return false; // Interrupt processing if a group has already failed\r\n      });\r\n      return Utils__default.all(promises);\r\n    },\r\n\r\n    // @returns a promise\r\n    _validateConstraint: function _validateConstraint(value, constraint) {\r\n      var _this12 = this;\r\n\r\n      var result = constraint.validate(value, this);\r\n      // Map false to a failed promise\r\n      if (false === result) result = $.Deferred().reject();\r\n      // Make sure we return a promise and that we record failures\r\n      return Utils__default.all([result]).fail(function (errorMessage) {\r\n        if (!(_this12.validationResult instanceof Array)) _this12.validationResult = [];\r\n        _this12.validationResult.push({\r\n          assert: constraint,\r\n          errorMessage: 'string' === typeof errorMessage && errorMessage\r\n        });\r\n      });\r\n    },\r\n\r\n    // @returns Parsley field computed value that could be overrided or configured in DOM\r\n    getValue: function getValue() {\r\n      var value;\r\n\r\n      // Value could be overriden in DOM or with explicit options\r\n      if ('function' === typeof this.options.value) value = this.options.value(this);else if ('undefined' !== typeof this.options.value) value = this.options.value;else value = this.$element.val();\r\n\r\n      // Handle wrong DOM or configurations\r\n      if ('undefined' === typeof value || null === value) return '';\r\n\r\n      return this._handleWhitespace(value);\r\n    },\r\n\r\n    // Reset UI\r\n    reset: function reset() {\r\n      this._resetUI();\r\n      return this._trigger('reset');\r\n    },\r\n\r\n    // Destroy Parsley instance (+ UI)\r\n    destroy: function destroy() {\r\n      // Field case: emit destroy event to clean UI and then destroy stored instance\r\n      this._destroyUI();\r\n      this.$element.removeData('Parsley');\r\n      this.$element.removeData('FieldMultiple');\r\n      this._trigger('destroy');\r\n    },\r\n\r\n    // Actualize options that could have change since previous validation\r\n    // Re-bind accordingly constraints (could be some new, removed or updated)\r\n    refreshConstraints: function refreshConstraints() {\r\n      return this.actualizeOptions()._bindConstraints();\r\n    },\r\n\r\n    /**\r\n    * Add a new constraint to a field\r\n    *\r\n    * @param {String}   name\r\n    * @param {Mixed}    requirements      optional\r\n    * @param {Number}   priority          optional\r\n    * @param {Boolean}  isDomConstraint   optional\r\n    */\r\n    addConstraint: function addConstraint(name, requirements, priority, isDomConstraint) {\r\n\r\n      if (window.Parsley._validatorRegistry.validators[name]) {\r\n        var constraint = new Constraint(this, name, requirements, priority, isDomConstraint);\r\n\r\n        // if constraint already exist, delete it and push new version\r\n        if ('undefined' !== this.constraintsByName[constraint.name]) this.removeConstraint(constraint.name);\r\n\r\n        this.constraints.push(constraint);\r\n        this.constraintsByName[constraint.name] = constraint;\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    // Remove a constraint\r\n    removeConstraint: function removeConstraint(name) {\r\n      for (var i = 0; i < this.constraints.length; i++) if (name === this.constraints[i].name) {\r\n        this.constraints.splice(i, 1);\r\n        break;\r\n      }\r\n      delete this.constraintsByName[name];\r\n      return this;\r\n    },\r\n\r\n    // Update a constraint (Remove + re-add)\r\n    updateConstraint: function updateConstraint(name, parameters, priority) {\r\n      return this.removeConstraint(name).addConstraint(name, parameters, priority);\r\n    },\r\n\r\n    // # Internals\r\n\r\n    // Internal only.\r\n    // Bind constraints from config + options + DOM\r\n    _bindConstraints: function _bindConstraints() {\r\n      var constraints = [];\r\n      var constraintsByName = {};\r\n\r\n      // clean all existing DOM constraints to only keep javascript user constraints\r\n      for (var i = 0; i < this.constraints.length; i++) if (false === this.constraints[i].isDomConstraint) {\r\n        constraints.push(this.constraints[i]);\r\n        constraintsByName[this.constraints[i].name] = this.constraints[i];\r\n      }\r\n\r\n      this.constraints = constraints;\r\n      this.constraintsByName = constraintsByName;\r\n\r\n      // then re-add Parsley DOM-API constraints\r\n      for (var name in this.options) this.addConstraint(name, this.options[name], undefined, true);\r\n\r\n      // finally, bind special HTML5 constraints\r\n      return this._bindHtml5Constraints();\r\n    },\r\n\r\n    // Internal only.\r\n    // Bind specific HTML5 constraints to be HTML5 compliant\r\n    _bindHtml5Constraints: function _bindHtml5Constraints() {\r\n      // html5 required\r\n      if (this.$element.attr('required')) this.addConstraint('required', true, undefined, true);\r\n\r\n      // html5 pattern\r\n      if ('string' === typeof this.$element.attr('pattern')) this.addConstraint('pattern', this.$element.attr('pattern'), undefined, true);\r\n\r\n      // range\r\n      if ('undefined' !== typeof this.$element.attr('min') && 'undefined' !== typeof this.$element.attr('max')) this.addConstraint('range', [this.$element.attr('min'), this.$element.attr('max')], undefined, true);\r\n\r\n      // HTML5 min\r\n      else if ('undefined' !== typeof this.$element.attr('min')) this.addConstraint('min', this.$element.attr('min'), undefined, true);\r\n\r\n        // HTML5 max\r\n        else if ('undefined' !== typeof this.$element.attr('max')) this.addConstraint('max', this.$element.attr('max'), undefined, true);\r\n\r\n      // length\r\n      if ('undefined' !== typeof this.$element.attr('minlength') && 'undefined' !== typeof this.$element.attr('maxlength')) this.addConstraint('length', [this.$element.attr('minlength'), this.$element.attr('maxlength')], undefined, true);\r\n\r\n      // HTML5 minlength\r\n      else if ('undefined' !== typeof this.$element.attr('minlength')) this.addConstraint('minlength', this.$element.attr('minlength'), undefined, true);\r\n\r\n        // HTML5 maxlength\r\n        else if ('undefined' !== typeof this.$element.attr('maxlength')) this.addConstraint('maxlength', this.$element.attr('maxlength'), undefined, true);\r\n\r\n      // html5 types\r\n      var type = this.$element.attr('type');\r\n\r\n      if ('undefined' === typeof type) return this;\r\n\r\n      // Small special case here for HTML5 number: integer validator if step attribute is undefined or an integer value, number otherwise\r\n      if ('number' === type) {\r\n        return this.addConstraint('type', ['number', {\r\n          step: this.$element.attr('step') || '1',\r\n          base: this.$element.attr('min') || this.$element.attr('value')\r\n        }], undefined, true);\r\n        // Regular other HTML5 supported types\r\n      } else if (/^(email|url|range|date)$/i.test(type)) {\r\n          return this.addConstraint('type', type, undefined, true);\r\n        }\r\n      return this;\r\n    },\r\n\r\n    // Internal only.\r\n    // Field is required if have required constraint without `false` value\r\n    _isRequired: function _isRequired() {\r\n      if ('undefined' === typeof this.constraintsByName.required) return false;\r\n\r\n      return false !== this.constraintsByName.required.requirements;\r\n    },\r\n\r\n    // Internal only.\r\n    // Shortcut to trigger an event\r\n    _trigger: function _trigger(eventName) {\r\n      return this.trigger('field:' + eventName);\r\n    },\r\n\r\n    // Internal only\r\n    // Handles whitespace in a value\r\n    // Use `data-parsley-whitespace=\"squish\"` to auto squish input value\r\n    // Use `data-parsley-whitespace=\"trim\"` to auto trim input value\r\n    _handleWhitespace: function _handleWhitespace(value) {\r\n      if (true === this.options.trimValue) Utils__default.warnOnce('data-parsley-trim-value=\"true\" is deprecated, please use data-parsley-whitespace=\"trim\"');\r\n\r\n      if ('squish' === this.options.whitespace) value = value.replace(/\\s{2,}/g, ' ');\r\n\r\n      if ('trim' === this.options.whitespace || 'squish' === this.options.whitespace || true === this.options.trimValue) value = Utils__default.trimString(value);\r\n\r\n      return value;\r\n    },\r\n\r\n    _isDateInput: function _isDateInput() {\r\n      var c = this.constraintsByName.type;\r\n      return c && c.requirements === 'date';\r\n    },\r\n\r\n    // Internal only.\r\n    // Returns the constraints, grouped by descending priority.\r\n    // The result is thus an array of arrays of constraints.\r\n    _getGroupedConstraints: function _getGroupedConstraints() {\r\n      if (false === this.options.priorityEnabled) return [this.constraints];\r\n\r\n      var groupedConstraints = [];\r\n      var index = {};\r\n\r\n      // Create array unique of priorities\r\n      for (var i = 0; i < this.constraints.length; i++) {\r\n        var p = this.constraints[i].priority;\r\n        if (!index[p]) groupedConstraints.push(index[p] = []);\r\n        index[p].push(this.constraints[i]);\r\n      }\r\n      // Sort them by priority DESC\r\n      groupedConstraints.sort(function (a, b) {\r\n        return b[0].priority - a[0].priority;\r\n      });\r\n\r\n      return groupedConstraints;\r\n    }\r\n\r\n  };\r\n\r\n  var parsley_field = Field;\r\n\r\n  var Multiple = function Multiple() {\r\n    this.__class__ = 'FieldMultiple';\r\n  };\r\n\r\n  Multiple.prototype = {\r\n    // Add new `$element` sibling for multiple field\r\n    addElement: function addElement($element) {\r\n      this.$elements.push($element);\r\n\r\n      return this;\r\n    },\r\n\r\n    // See `Field.refreshConstraints()`\r\n    refreshConstraints: function refreshConstraints() {\r\n      var fieldConstraints;\r\n\r\n      this.constraints = [];\r\n\r\n      // Select multiple special treatment\r\n      if (this.$element.is('select')) {\r\n        this.actualizeOptions()._bindConstraints();\r\n\r\n        return this;\r\n      }\r\n\r\n      // Gather all constraints for each input in the multiple group\r\n      for (var i = 0; i < this.$elements.length; i++) {\r\n\r\n        // Check if element have not been dynamically removed since last binding\r\n        if (!$('html').has(this.$elements[i]).length) {\r\n          this.$elements.splice(i, 1);\r\n          continue;\r\n        }\r\n\r\n        fieldConstraints = this.$elements[i].data('FieldMultiple').refreshConstraints().constraints;\r\n\r\n        for (var j = 0; j < fieldConstraints.length; j++) this.addConstraint(fieldConstraints[j].name, fieldConstraints[j].requirements, fieldConstraints[j].priority, fieldConstraints[j].isDomConstraint);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    // See `Field.getValue()`\r\n    getValue: function getValue() {\r\n      // Value could be overriden in DOM\r\n      if ('function' === typeof this.options.value) return this.options.value(this);else if ('undefined' !== typeof this.options.value) return this.options.value;\r\n\r\n      // Radio input case\r\n      if (this.$element.is('input[type=radio]')) return this._findRelated().filter(':checked').val() || '';\r\n\r\n      // checkbox input case\r\n      if (this.$element.is('input[type=checkbox]')) {\r\n        var values = [];\r\n\r\n        this._findRelated().filter(':checked').each(function () {\r\n          values.push($(this).val());\r\n        });\r\n\r\n        return values;\r\n      }\r\n\r\n      // Select multiple case\r\n      if (this.$element.is('select') && null === this.$element.val()) return [];\r\n\r\n      // Default case that should never happen\r\n      return this.$element.val();\r\n    },\r\n\r\n    _init: function _init() {\r\n      this.$elements = [this.$element];\r\n\r\n      return this;\r\n    }\r\n  };\r\n\r\n  var Factory = function Factory(element, options, parsleyFormInstance) {\r\n    this.$element = $(element);\r\n\r\n    // If the element has already been bound, returns its saved Parsley instance\r\n    var savedparsleyFormInstance = this.$element.data('Parsley');\r\n    if (savedparsleyFormInstance) {\r\n\r\n      // If the saved instance has been bound without a Form parent and there is one given in this call, add it\r\n      if ('undefined' !== typeof parsleyFormInstance && savedparsleyFormInstance.parent === window.Parsley) {\r\n        savedparsleyFormInstance.parent = parsleyFormInstance;\r\n        savedparsleyFormInstance._resetOptions(savedparsleyFormInstance.options);\r\n      }\r\n\r\n      if ('object' === typeof options) {\r\n        $.extend(savedparsleyFormInstance.options, options);\r\n      }\r\n\r\n      return savedparsleyFormInstance;\r\n    }\r\n\r\n    // Parsley must be instantiated with a DOM element or jQuery $element\r\n    if (!this.$element.length) throw new Error('You must bind Parsley on an existing element.');\r\n\r\n    if ('undefined' !== typeof parsleyFormInstance && 'Form' !== parsleyFormInstance.__class__) throw new Error('Parent instance must be a Form instance');\r\n\r\n    this.parent = parsleyFormInstance || window.Parsley;\r\n    return this.init(options);\r\n  };\r\n\r\n  Factory.prototype = {\r\n    init: function init(options) {\r\n      this.__class__ = 'Parsley';\r\n      this.__version__ = '2.7.0';\r\n      this.__id__ = Utils__default.generateID();\r\n\r\n      // Pre-compute options\r\n      this._resetOptions(options);\r\n\r\n      // A Form instance is obviously a `<form>` element but also every node that is not an input and has the `data-parsley-validate` attribute\r\n      if (this.$element.is('form') || Utils__default.checkAttr(this.$element, this.options.namespace, 'validate') && !this.$element.is(this.options.inputs)) return this.bind('parsleyForm');\r\n\r\n      // Every other element is bound as a `Field` or `FieldMultiple`\r\n      return this.isMultiple() ? this.handleMultiple() : this.bind('parsleyField');\r\n    },\r\n\r\n    isMultiple: function isMultiple() {\r\n      return this.$element.is('input[type=radio], input[type=checkbox]') || this.$element.is('select') && 'undefined' !== typeof this.$element.attr('multiple');\r\n    },\r\n\r\n    // Multiples fields are a real nightmare :(\r\n    // Maybe some refactoring would be appreciated here...\r\n    handleMultiple: function handleMultiple() {\r\n      var _this13 = this;\r\n\r\n      var name;\r\n      var multiple;\r\n      var parsleyMultipleInstance;\r\n\r\n      // Handle multiple name\r\n      if (this.options.multiple) ; // We already have our 'multiple' identifier\r\n      else if ('undefined' !== typeof this.$element.attr('name') && this.$element.attr('name').length) this.options.multiple = name = this.$element.attr('name');else if ('undefined' !== typeof this.$element.attr('id') && this.$element.attr('id').length) this.options.multiple = this.$element.attr('id');\r\n\r\n      // Special select multiple input\r\n      if (this.$element.is('select') && 'undefined' !== typeof this.$element.attr('multiple')) {\r\n        this.options.multiple = this.options.multiple || this.__id__;\r\n        return this.bind('parsleyFieldMultiple');\r\n\r\n        // Else for radio / checkboxes, we need a `name` or `data-parsley-multiple` to properly bind it\r\n      } else if (!this.options.multiple) {\r\n          Utils__default.warn('To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.', this.$element);\r\n          return this;\r\n        }\r\n\r\n      // Remove special chars\r\n      this.options.multiple = this.options.multiple.replace(/(:|\\.|\\[|\\]|\\{|\\}|\\$)/g, '');\r\n\r\n      // Add proper `data-parsley-multiple` to siblings if we have a valid multiple name\r\n      if ('undefined' !== typeof name) {\r\n        $('input[name=\"' + name + '\"]').each(function (i, input) {\r\n          if ($(input).is('input[type=radio], input[type=checkbox]')) $(input).attr(_this13.options.namespace + 'multiple', _this13.options.multiple);\r\n        });\r\n      }\r\n\r\n      // Check here if we don't already have a related multiple instance saved\r\n      var $previouslyRelated = this._findRelated();\r\n      for (var i = 0; i < $previouslyRelated.length; i++) {\r\n        parsleyMultipleInstance = $($previouslyRelated.get(i)).data('Parsley');\r\n        if ('undefined' !== typeof parsleyMultipleInstance) {\r\n\r\n          if (!this.$element.data('FieldMultiple')) {\r\n            parsleyMultipleInstance.addElement(this.$element);\r\n          }\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Create a secret Field instance for every multiple field. It will be stored in `data('FieldMultiple')`\r\n      // And will be useful later to access classic `Field` stuff while being in a `FieldMultiple` instance\r\n      this.bind('parsleyField', true);\r\n\r\n      return parsleyMultipleInstance || this.bind('parsleyFieldMultiple');\r\n    },\r\n\r\n    // Return proper `Form`, `Field` or `FieldMultiple`\r\n    bind: function bind(type, doNotStore) {\r\n      var parsleyInstance;\r\n\r\n      switch (type) {\r\n        case 'parsleyForm':\r\n          parsleyInstance = $.extend(new Form(this.$element, this.domOptions, this.options), new Base(), window.ParsleyExtend)._bindFields();\r\n          break;\r\n        case 'parsleyField':\r\n          parsleyInstance = $.extend(new parsley_field(this.$element, this.domOptions, this.options, this.parent), new Base(), window.ParsleyExtend);\r\n          break;\r\n        case 'parsleyFieldMultiple':\r\n          parsleyInstance = $.extend(new parsley_field(this.$element, this.domOptions, this.options, this.parent), new Multiple(), new Base(), window.ParsleyExtend)._init();\r\n          break;\r\n        default:\r\n          throw new Error(type + 'is not a supported Parsley type');\r\n      }\r\n\r\n      if (this.options.multiple) Utils__default.setAttr(this.$element, this.options.namespace, 'multiple', this.options.multiple);\r\n\r\n      if ('undefined' !== typeof doNotStore) {\r\n        this.$element.data('FieldMultiple', parsleyInstance);\r\n\r\n        return parsleyInstance;\r\n      }\r\n\r\n      // Store the freshly bound instance in a DOM element for later access using jQuery `data()`\r\n      this.$element.data('Parsley', parsleyInstance);\r\n\r\n      // Tell the world we have a new Form or Field instance!\r\n      parsleyInstance._actualizeTriggers();\r\n      parsleyInstance._trigger('init');\r\n\r\n      return parsleyInstance;\r\n    }\r\n  };\r\n\r\n  var vernums = $.fn.jquery.split('.');\r\n  if (parseInt(vernums[0]) <= 1 && parseInt(vernums[1]) < 8) {\r\n    throw \"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.\";\r\n  }\r\n  if (!vernums.forEach) {\r\n    Utils__default.warn('Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim');\r\n  }\r\n  // Inherit `on`, `off` & `trigger` to Parsley:\r\n  var Parsley = $.extend(new Base(), {\r\n    $element: $(document),\r\n    actualizeOptions: null,\r\n    _resetOptions: null,\r\n    Factory: Factory,\r\n    version: '2.7.0'\r\n  });\r\n\r\n  // Supplement Field and Form with Base\r\n  // This way, the constructors will have access to those methods\r\n  $.extend(parsley_field.prototype, UI.Field, Base.prototype);\r\n  $.extend(Form.prototype, UI.Form, Base.prototype);\r\n  // Inherit actualizeOptions and _resetOptions:\r\n  $.extend(Factory.prototype, Base.prototype);\r\n\r\n  // ### jQuery API\r\n  // `$('.elem').parsley(options)` or `$('.elem').psly(options)`\r\n  $.fn.parsley = $.fn.psly = function (options) {\r\n    if (this.length > 1) {\r\n      var instances = [];\r\n\r\n      this.each(function () {\r\n        instances.push($(this).parsley(options));\r\n      });\r\n\r\n      return instances;\r\n    }\r\n\r\n    // Return undefined if applied to non existing DOM element\r\n    if (!$(this).length) {\r\n      Utils__default.warn('You must bind Parsley on an existing element.');\r\n\r\n      return;\r\n    }\r\n\r\n    return new Factory(this, options);\r\n  };\r\n\r\n  // ### Field and Form extension\r\n  // Ensure the extension is now defined if it wasn't previously\r\n  if ('undefined' === typeof window.ParsleyExtend) window.ParsleyExtend = {};\r\n\r\n  // ### Parsley config\r\n  // Inherit from ParsleyDefault, and copy over any existing values\r\n  Parsley.options = $.extend(Utils__default.objectCreate(Defaults), window.ParsleyConfig);\r\n  window.ParsleyConfig = Parsley.options; // Old way of accessing global options\r\n\r\n  // ### Globals\r\n  window.Parsley = window.psly = Parsley;\r\n  Parsley.Utils = Utils__default;\r\n  window.ParsleyUtils = {};\r\n  $.each(Utils__default, function (key, value) {\r\n    if ('function' === typeof value) {\r\n      window.ParsleyUtils[key] = function () {\r\n        Utils__default.warnOnce('Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead.');\r\n        return Utils__default[key].apply(Utils__default, arguments);\r\n      };\r\n    }\r\n  });\r\n\r\n  // ### Define methods that forward to the registry, and deprecate all access except through window.Parsley\r\n  var registry = window.Parsley._validatorRegistry = new ValidatorRegistry(window.ParsleyConfig.validators, window.ParsleyConfig.i18n);\r\n  window.ParsleyValidator = {};\r\n  $.each('setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator'.split(' '), function (i, method) {\r\n    window.Parsley[method] = $.proxy(registry, method);\r\n    window.ParsleyValidator[method] = function () {\r\n      var _window$Parsley;\r\n\r\n      Utils__default.warnOnce('Accessing the method \\'' + method + '\\' through Validator is deprecated. Simply call \\'window.Parsley.' + method + '(...)\\'');\r\n      return (_window$Parsley = window.Parsley)[method].apply(_window$Parsley, arguments);\r\n    };\r\n  });\r\n\r\n  // ### UI\r\n  // Deprecated global object\r\n  window.Parsley.UI = UI;\r\n  window.ParsleyUI = {\r\n    removeError: function removeError(instance, name, doNotUpdateClass) {\r\n      var updateClass = true !== doNotUpdateClass;\r\n      Utils__default.warnOnce('Accessing UI is deprecated. Call \\'removeError\\' on the instance directly. Please comment in issue 1073 as to your need to call this method.');\r\n      return instance.removeError(name, { updateClass: updateClass });\r\n    },\r\n    getErrorsMessages: function getErrorsMessages(instance) {\r\n      Utils__default.warnOnce('Accessing UI is deprecated. Call \\'getErrorsMessages\\' on the instance directly.');\r\n      return instance.getErrorsMessages();\r\n    }\r\n  };\r\n  $.each('addError updateError'.split(' '), function (i, method) {\r\n    window.ParsleyUI[method] = function (instance, name, message, assert, doNotUpdateClass) {\r\n      var updateClass = true !== doNotUpdateClass;\r\n      Utils__default.warnOnce('Accessing UI is deprecated. Call \\'' + method + '\\' on the instance directly. Please comment in issue 1073 as to your need to call this method.');\r\n      return instance[method](name, { message: message, assert: assert, updateClass: updateClass });\r\n    };\r\n  });\r\n\r\n  // ### PARSLEY auto-binding\r\n  // Prevent it by setting `ParsleyConfig.autoBind` to `false`\r\n  if (false !== window.ParsleyConfig.autoBind) {\r\n    $(function () {\r\n      // Works only on `data-parsley-validate`.\r\n      if ($('[data-parsley-validate]').length) $('[data-parsley-validate]').parsley();\r\n    });\r\n  }\r\n\r\n  var o = $({});\r\n  var deprecated = function deprecated() {\r\n    Utils__default.warnOnce(\"Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley\");\r\n  };\r\n\r\n  // Returns an event handler that calls `fn` with the arguments it expects\r\n  function adapt(fn, context) {\r\n    // Store to allow unbinding\r\n    if (!fn.parsleyAdaptedCallback) {\r\n      fn.parsleyAdaptedCallback = function () {\r\n        var args = Array.prototype.slice.call(arguments, 0);\r\n        args.unshift(this);\r\n        fn.apply(context || o, args);\r\n      };\r\n    }\r\n    return fn.parsleyAdaptedCallback;\r\n  }\r\n\r\n  var eventPrefix = 'parsley:';\r\n  // Converts 'parsley:form:validate' into 'form:validate'\r\n  function eventName(name) {\r\n    if (name.lastIndexOf(eventPrefix, 0) === 0) return name.substr(eventPrefix.length);\r\n    return name;\r\n  }\r\n\r\n  // $.listen is deprecated. Use Parsley.on instead.\r\n  $.listen = function (name, callback) {\r\n    var context;\r\n    deprecated();\r\n    if ('object' === typeof arguments[1] && 'function' === typeof arguments[2]) {\r\n      context = arguments[1];\r\n      callback = arguments[2];\r\n    }\r\n\r\n    if ('function' !== typeof callback) throw new Error('Wrong parameters');\r\n\r\n    window.Parsley.on(eventName(name), adapt(callback, context));\r\n  };\r\n\r\n  $.listenTo = function (instance, name, fn) {\r\n    deprecated();\r\n    if (!(instance instanceof parsley_field) && !(instance instanceof Form)) throw new Error('Must give Parsley instance');\r\n\r\n    if ('string' !== typeof name || 'function' !== typeof fn) throw new Error('Wrong parameters');\r\n\r\n    instance.on(eventName(name), adapt(fn));\r\n  };\r\n\r\n  $.unsubscribe = function (name, fn) {\r\n    deprecated();\r\n    if ('string' !== typeof name || 'function' !== typeof fn) throw new Error('Wrong arguments');\r\n    window.Parsley.off(eventName(name), fn.parsleyAdaptedCallback);\r\n  };\r\n\r\n  $.unsubscribeTo = function (instance, name) {\r\n    deprecated();\r\n    if (!(instance instanceof parsley_field) && !(instance instanceof Form)) throw new Error('Must give Parsley instance');\r\n    instance.off(eventName(name));\r\n  };\r\n\r\n  $.unsubscribeAll = function (name) {\r\n    deprecated();\r\n    window.Parsley.off(eventName(name));\r\n    $('form,input,textarea,select').each(function () {\r\n      var instance = $(this).data('Parsley');\r\n      if (instance) {\r\n        instance.off(eventName(name));\r\n      }\r\n    });\r\n  };\r\n\r\n  // $.emit is deprecated. Use jQuery events instead.\r\n  $.emit = function (name, instance) {\r\n    var _instance;\r\n\r\n    deprecated();\r\n    var instanceGiven = instance instanceof parsley_field || instance instanceof Form;\r\n    var args = Array.prototype.slice.call(arguments, instanceGiven ? 2 : 1);\r\n    args.unshift(eventName(name));\r\n    if (!instanceGiven) {\r\n      instance = window.Parsley;\r\n    }\r\n    (_instance = instance).trigger.apply(_instance, _toConsumableArray(args));\r\n  };\r\n\r\n  var pubsub = {};\r\n\r\n  $.extend(true, Parsley, {\r\n    asyncValidators: {\r\n      'default': {\r\n        fn: function fn(xhr) {\r\n          // By default, only status 2xx are deemed successful.\r\n          // Note: we use status instead of state() because responses with status 200\r\n          // but invalid messages (e.g. an empty body for content type set to JSON) will\r\n          // result in state() === 'rejected'.\r\n          return xhr.status >= 200 && xhr.status < 300;\r\n        },\r\n        url: false\r\n      },\r\n      reverse: {\r\n        fn: function fn(xhr) {\r\n          // If reverse option is set, a failing ajax request is considered successful\r\n          return xhr.status < 200 || xhr.status >= 300;\r\n        },\r\n        url: false\r\n      }\r\n    },\r\n\r\n    addAsyncValidator: function addAsyncValidator(name, fn, url, options) {\r\n      Parsley.asyncValidators[name] = {\r\n        fn: fn,\r\n        url: url || false,\r\n        options: options || {}\r\n      };\r\n\r\n      return this;\r\n    }\r\n\r\n  });\r\n\r\n  Parsley.addValidator('remote', {\r\n    requirementType: {\r\n      '': 'string',\r\n      'validator': 'string',\r\n      'reverse': 'boolean',\r\n      'options': 'object'\r\n    },\r\n\r\n    validateString: function validateString(value, url, options, instance) {\r\n      var data = {};\r\n      var ajaxOptions;\r\n      var csr;\r\n      var validator = options.validator || (true === options.reverse ? 'reverse' : 'default');\r\n\r\n      if ('undefined' === typeof Parsley.asyncValidators[validator]) throw new Error('Calling an undefined async validator: `' + validator + '`');\r\n\r\n      url = Parsley.asyncValidators[validator].url || url;\r\n\r\n      // Fill current value\r\n      if (url.indexOf('{value}') > -1) {\r\n        url = url.replace('{value}', encodeURIComponent(value));\r\n      } else {\r\n        data[instance.$element.attr('name') || instance.$element.attr('id')] = value;\r\n      }\r\n\r\n      // Merge options passed in from the function with the ones in the attribute\r\n      var remoteOptions = $.extend(true, options.options || {}, Parsley.asyncValidators[validator].options);\r\n\r\n      // All `$.ajax(options)` could be overridden or extended directly from DOM in `data-parsley-remote-options`\r\n      ajaxOptions = $.extend(true, {}, {\r\n        url: url,\r\n        data: data,\r\n        type: 'GET'\r\n      }, remoteOptions);\r\n\r\n      // Generate store key based on ajax options\r\n      instance.trigger('field:ajaxoptions', instance, ajaxOptions);\r\n\r\n      csr = $.param(ajaxOptions);\r\n\r\n      // Initialise querry cache\r\n      if ('undefined' === typeof Parsley._remoteCache) Parsley._remoteCache = {};\r\n\r\n      // Try to retrieve stored xhr\r\n      var xhr = Parsley._remoteCache[csr] = Parsley._remoteCache[csr] || $.ajax(ajaxOptions);\r\n\r\n      var handleXhr = function handleXhr() {\r\n        var result = Parsley.asyncValidators[validator].fn.call(instance, xhr, url, options);\r\n        if (!result) // Map falsy results to rejected promise\r\n          result = $.Deferred().reject();\r\n        return $.when(result);\r\n      };\r\n\r\n      return xhr.then(handleXhr, handleXhr);\r\n    },\r\n\r\n    priority: -1\r\n  });\r\n\r\n  Parsley.on('form:submit', function () {\r\n    Parsley._remoteCache = {};\r\n  });\r\n\r\n  window.ParsleyExtend.addAsyncValidator = function () {\r\n    Utils.warnOnce('Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`');\r\n    return Parsley.addAsyncValidator.apply(Parsley, arguments);\r\n  };\r\n\r\n  // This is included with the Parsley library itself,\r\n  // thus there is no use in adding it to your project.\r\n  Parsley.addMessages('en', {\r\n    defaultMessage: \"This value seems to be invalid.\",\r\n    type: {\r\n      email: \"This value should be a valid email.\",\r\n      url: \"This value should be a valid url.\",\r\n      number: \"This value should be a valid number.\",\r\n      integer: \"This value should be a valid integer.\",\r\n      digits: \"This value should be digits.\",\r\n      alphanum: \"This value should be alphanumeric.\"\r\n    },\r\n    notblank: \"This value should not be blank.\",\r\n    required: \"This value is required.\",\r\n    pattern: \"This value seems to be invalid.\",\r\n    min: \"This value should be greater than or equal to %s.\",\r\n    max: \"This value should be lower than or equal to %s.\",\r\n    range: \"This value should be between %s and %s.\",\r\n    minlength: \"This value is too short. It should have %s characters or more.\",\r\n    maxlength: \"This value is too long. It should have %s characters or fewer.\",\r\n    length: \"This value length is invalid. It should be between %s and %s characters long.\",\r\n    mincheck: \"You must select at least %s choices.\",\r\n    maxcheck: \"You must select %s choices or fewer.\",\r\n    check: \"You must select between %s and %s choices.\",\r\n    equalto: \"This value should be the same.\"\r\n  });\r\n\r\n  Parsley.setLocale('en');\r\n\r\n  /**\r\n   * inputevent - Alleviate browser bugs for input events\r\n   * https://github.com/marcandre/inputevent\r\n   * @version v0.0.3 - (built Thu, Apr 14th 2016, 5:58 pm)\r\n   * @author Marc-Andre Lafortune <github@marc-andre.ca>\r\n   * @license MIT\r\n   */\r\n\r\n  function InputEvent() {\r\n    var _this14 = this;\r\n\r\n    var globals = window || global;\r\n\r\n    // Slightly odd way construct our object. This way methods are force bound.\r\n    // Used to test for duplicate library.\r\n    $.extend(this, {\r\n\r\n      // For browsers that do not support isTrusted, assumes event is native.\r\n      isNativeEvent: function isNativeEvent(evt) {\r\n        return evt.originalEvent && evt.originalEvent.isTrusted !== false;\r\n      },\r\n\r\n      fakeInputEvent: function fakeInputEvent(evt) {\r\n        if (_this14.isNativeEvent(evt)) {\r\n          $(evt.target).trigger('input');\r\n        }\r\n      },\r\n\r\n      misbehaves: function misbehaves(evt) {\r\n        if (_this14.isNativeEvent(evt)) {\r\n          _this14.behavesOk(evt);\r\n          $(document).on('change.inputevent', evt.data.selector, _this14.fakeInputEvent);\r\n          _this14.fakeInputEvent(evt);\r\n        }\r\n      },\r\n\r\n      behavesOk: function behavesOk(evt) {\r\n        if (_this14.isNativeEvent(evt)) {\r\n          $(document) // Simply unbinds the testing handler\r\n          .off('input.inputevent', evt.data.selector, _this14.behavesOk).off('change.inputevent', evt.data.selector, _this14.misbehaves);\r\n        }\r\n      },\r\n\r\n      // Bind the testing handlers\r\n      install: function install() {\r\n        if (globals.inputEventPatched) {\r\n          return;\r\n        }\r\n        globals.inputEventPatched = '0.0.3';\r\n        var _arr = ['select', 'input[type=\"checkbox\"]', 'input[type=\"radio\"]', 'input[type=\"file\"]'];\r\n        for (var _i = 0; _i < _arr.length; _i++) {\r\n          var selector = _arr[_i];\r\n          $(document).on('input.inputevent', selector, { selector: selector }, _this14.behavesOk).on('change.inputevent', selector, { selector: selector }, _this14.misbehaves);\r\n        }\r\n      },\r\n\r\n      uninstall: function uninstall() {\r\n        delete globals.inputEventPatched;\r\n        $(document).off('.inputevent');\r\n      }\r\n\r\n    });\r\n  };\r\n\r\n  var inputevent = new InputEvent();\r\n\r\n  inputevent.install();\r\n\r\n  var parsley = Parsley;\r\n\r\n  return parsley;\r\n});\r\n//# sourceMappingURL=parsley.js.map\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./validatingForm.html\";\r\nimport \"lib/parsley.js\";\r\n\r\nlet view;\r\n\r\nlet parsley;\r\n\r\nvar validatingForm = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\tview  = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template,\r\n\t\t\tdata: { validationFail: false, validationSuccess: false, doSlide: true },\r\n\r\n\t\t\tonrender: function () {\r\n\t\t\t\tsetupParsley();\r\n\t\t\t},\r\n\r\n\t\t\tsubmit: function () {\r\n\t\t\t\tvar valid = parsley.validate();\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tresetData: function () {\r\n\t\t\t\t//$( '.bs-callout-info' ).addClass( 'hidden' );\r\n\t\t\t\t//$( '.bs-callout-warning' ).addClass( 'hidden' );\r\n\t\t\t\tview.set('doSlide', true)\r\n\t\t\t\tview.set('validationFail', false);\r\n\t\t\t\tview.set('validationSuccess', false);\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\tview.teardown();\r\n\t}\r\n};\r\n\r\nfunction setupParsley( ) {\r\n\tparsley = $( 'form' ).parsley( {\r\n\t\t// Uncomment below to start validating when input blurs\r\n\t\t//trigger: 'blur',\r\n\t\t/*\r\n\t\t // This comment shows how to use bootstrap's error highlighting\r\n\t\t }\r\n\t\t successClass: \"has-success\",\r\n\t\t errorClass: \"has-error\",\r\n\t\t classHandler: function (field) {\r\n\t\t return field.$element.closest(\".form-group\");\r\n\t\t },\r\n\t\t errorsWrapper: \"<span class='help-block parsley-errors-list'></span>\",\r\n\t\t errorTemplate: \"<span></span>\"\r\n\t\t */\r\n\t} );\r\n\r\n\tparsley.on( 'form:validated', function ( form ) {\r\n\r\n\t\t// If you want all fields automatically tracked for errors after form submission, uncomment line below\r\n\t\t//setFieldsInvalid(form);\r\n\t\tshowFormValidationFeedback( form );\r\n\t\tview.set('doSlide', false);\r\n\t} );\r\n\tparsley.on( 'field:validated', function ( field ) {\r\n\t\tshowFormValidationFeedback( field.parent );\r\n\t} );\r\n}\r\n\r\nfunction setFieldsInvalid( form ) {\r\n\tfor ( var n = 0; n < form.fields.length; n ++ ) {\r\n\t\tvar field = form.fields[n];\r\n\t\tParsleyUI.manageFailingFieldTrigger( field );\r\n\t}\r\n}\r\n\r\nfunction showFormValidationFeedback( form ) {\r\n\tvar ok = form.isValid( );\r\n\r\n\tview.set('validationFail', !ok);\r\n\tview.set('validationSuccess', ok);\r\n\t//$( '.bs-callout-info' ).toggleClass( 'hidden', ! ok );\r\n\t//$( '.bs-callout-warning' ).toggleClass( 'hidden', ok );\r\n}\r\n\r\nexport default validatingForm;","import journey from \"lib/journey/journey.js\";\r\nimport events from \"lib/journey/utils/events\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./events.html\";\r\n\r\nlet isListening = false;\r\n\r\nlet view;\r\n\r\nvar lifecycleEvents = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\r\n\t\t// example of a Ractive instance events (oninit and onrender)\r\n\t\tview = route.view = new Ractive( {\r\n\t\t\ttemplate: template,\r\n\t\t\tel: options.target,\r\n\t\t\tjourney: journey,\r\n\r\n\t\t\tdata: { isListening: isListening },\r\n\r\n\t\t\tupdateView: function () {\r\n\t\t\t\tvar random = Math.random() * 1000;\r\n\t\t\t\tjourney.goto( \"/events?random=\" + random );\r\n\t\t\t},\r\n\r\n\t\t\tonrender: function () {\r\n\t\t\t\t// apply code highlighting as soon as DOM is ready, before animation finish\r\n\t\t\t\tPrism.highlightAll();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\r\n\t\troute.view.observe( \"isListening\", function ( newValue, oldValue, keypath ) {\r\n\t\t\tisListening = newValue;\r\n\t\t\tisListening ? startListening() : stopListening();\r\n\t\t}, { init: false } );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\treturn route.view.teardown();\r\n\t},\r\n\r\n\tbeforeenter: function ( route, prevRoute, options ) {\r\n\t\t// Noop method for demo purposes\r\n\t},\r\n\r\n\tupdate: function ( route, options ) {\r\n\t\t// Noop method for demo purposes\r\n\t\tconsole.log(\"View updated with :\", route.query);\r\n\t}\r\n};\r\n\r\nfunction startListening() {\r\n\r\n\tjourney.on( events.BEFORE_ENTER, function ( options ) {\r\n\t\tconsole.log( \"onBeforeenter\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.BEFORE_ENTER_COMPLETE, function ( options ) {\r\n\t\tconsole.log( \"onBeforeenterComplete\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.ENTER, function ( options ) {\r\n\t\tconsole.log( \"onEnter:\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.ENTERED, function ( options ) {\r\n\t\tconsole.log( \"onEntered\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.UPDATE, function ( options ) {\r\n\t\tconsole.log( \"onUpdate\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.UPDATED, function ( options ) {\r\n\t\tconsole.log( \"onUpdated\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.LEAVE, function ( options ) {\r\n\t\tconsole.log( \"onLeave\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.LEFT, function ( options ) {\r\n\t\tconsole.log( \"onLeft\", options );\r\n\t} );\r\n\r\n\tjourney.on( events.ERROR, function ( options ) {\r\n\t\tconsole.log( \"onError\", options );\r\n\t} );\r\n}\r\n\r\nfunction stopListening() {\r\n\tjourney.off( events.BEFORE_ENTER );\r\n\tjourney.off( events.BEFORE_ENTER_COMLETE );\r\n\tjourney.off( events.ENTER );\r\n\tjourney.off( events.ENTERED );\r\n\tjourney.off( events.UPDATE );\r\n\tjourney.off( events.UPDATED );\r\n\tjourney.off( events.LEAVE );\r\n\tjourney.off( events.LEFT );\r\n\tjourney.off( events.ERROR );\r\n}\r\n\r\n\r\nexport default lifecycleEvents;","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./basicAjax.html\";\r\n\r\nlet config;\r\n\r\nlet rejectRequest = false;\r\n\r\nvar basicAjax = {\r\n\t\r\n\tbeforeenter: function ( route, prevRoute, options ) {\r\n\t\t// Return promise for beforeenter\r\n\t\treturn $.getJSON( \"data/hello.json?delay=2000&reject=\" + rejectRequest ).then( function ( response ) {\r\n\t\t\treturn route.data = JSON.stringify( response );\r\n\r\n\t\t} ).catch( ( err ) => {\r\n\t\t\treturn route.data = \"Could not load data for BasicAjax: [\" + err.status + \":\" + err.statusText + \"]\";\r\n\t\t} );\r\n\t},\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\tconfig = options;\r\n\r\n\t\troute.view = createView( route.data );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown( );\r\n\t}\r\n};\r\n\r\nfunction createView( json ) {\r\n\r\n\t// Convert the JSON data object to a string representation\r\n\tvar view = new Ractive( {\r\n\t\tel: config.target,\r\n\t\tdata: { response: json },\r\n\t\ttemplate: template,\r\n\t\treload: function ( ) {\r\n\t\t\tjourney.goto( \"/basicAjax\", {forceReload: true} );\r\n\t\t}\r\n\t} );\r\n\r\n\treturn view;\r\n}\r\n\r\nexport default basicAjax;","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./upload.html\";\r\n\r\nlet config;\r\n\r\nlet view;\r\n\r\nvar upload = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\tconfig = options;\r\n\t\t/*%injectPath%*/\r\n\r\n\t\troute.view = createView( route.data );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown( );\r\n\t}\r\n};\r\n\r\nfunction createView( json ) {\r\n\r\n\t// Convert the JSON data objectr to a string representation\r\n\tview = new Ractive( {\r\n\t\tel: config.target,\r\n\t\tdata: { response: json, msg: \"Upload a file\" },\r\n\t\ttemplate: template,\r\n\t\tsubmit: function ( ) {\r\n\t\t\tsubmitForm();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} );\r\n\r\n\treturn view;\r\n}\r\n\r\nfunction submitForm( ) {\r\n\tview.set(\"display\", false);\r\n\tview.set(\"msg\", \"Busy uploading...\");\r\n\r\n\tlet files = $( \"#file\" )[0].files;\r\n\tif (files.length === 0) {\r\n\t\tview.set(\"msg\", \"Please select a file\");\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet data = new FormData();\r\n\r\n\t$.each( files, function ( key, value ) {\r\n\t\tdata.append( key, value );\r\n\t} );\r\n\r\n\tlet promise = $.ajax( {\r\n\t\turl: 'data/submitForm?delay=2000',\r\n\t\ttype: 'POST',\r\n\t\tdata: data,\r\n\t\tcache: false,\r\n\t\tdataType: 'json',\r\n\t\tprocessData: false, // Don't process the files\r\n\t\tcontentType: false // Set content type to false as jQuery will tell the server its a query string request\r\n\t} );\r\n\r\n\tpromise.then( ( data, textStatus, jqXHR ) => {\r\n\t\tview.set(\"display\", true);\r\n\t\tview.set(\"response\", data.msg);\r\n\r\n\t} ).catch( ( jqXHR, textStatus, errorThrown ) => {\r\n\t\tview.set(\"display\", true);\r\n\t\tview.set(\"response\", errorThrown);\r\n\t} );\r\n}\r\n\r\nexport default upload;","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./basicComp.html\";\r\nimport compTemplate from \"./comp.html\";\r\n\r\nvar basicComp = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = createView( options );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nfunction createView( options ) {\r\n\r\n\tvar component = Ractive.extend( {\r\n\t\ttemplate: compTemplate,\r\n\r\n\t\tactivate () {\r\n\t\t\t// We reference the parent ractive instance through \"comp.parent\" and set the parent data variables, hidden and feedback\r\n\t\t\tthis.parent.set( \"hidden\", false );\r\n\t\t\tthis.parent.set( \"feedback\", \"Component clicked!\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tvar view = new Ractive( {\r\n\t\tel: options.target,\r\n\t\ttemplate: template,\r\n\t\tdata: { hidden: true },\r\n\r\n\t\t// We register our component as \"simple\"\r\n\t\tcomponents: {\r\n\t\t\tsimple: component\r\n\t\t}\r\n\t} );\r\n\t\r\n\t//view.attachChild(component, {target: \"simple\"});\r\n\r\n\treturn view;\r\n}\r\n\r\nexport default basicComp;\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./dynamicComp.html\";\r\nimport compATemplate from \"./compA.html\";\r\nimport compBTemplate from \"./compB.html\";\r\n\r\nvar dynamicComp = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\r\n\t\troute.view = createView( options );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nfunction createView( options ) {\r\n\r\n\tvar compA = new Ractive( {\r\n\t\ttemplate: compATemplate\r\n\t} );\r\n\r\n\tvar compB = new Ractive( {\r\n\t\ttemplate: compBTemplate\r\n\t} );\r\n\r\n\tlet components = {\r\n\t\t\"compA\": compA,\r\n\t\t\"compB\": compB\r\n\t};\r\n\t\r\n\tlet comp;\r\n\r\n\tvar view = new Ractive( {\r\n\t\tel: options.target,\r\n\t\ttemplate: template,\r\n\r\n\t\tswap( name ) {\r\n\r\n\t\t\tif (comp) this.detachChild( comp );\r\n\t\t\tcomp = components[name];\r\n\t\t\tthis.attachChild( comp, { target: \"components\", insertAt: 0 } );\r\n\t\t}\r\n\t} );\r\n\r\n\treturn view;\r\n}\r\n\r\nexport default dynamicComp;","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./parent.html\";\r\nimport childComp from \"./child.js\";\r\n\r\nvar parent = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = createView( options );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nlet data = {};\r\ndata.rows = [\r\n\t\t{ name: \"Bob\", age: 20, id: 11 },\r\n\t\t{ name: \"Steve\", age: 30, id: 12 },\r\n\t\t{ name: \"James\", age: 40, id: 13 },\r\n\t\t{ name: \"Henry\", age: 50, id: 14 }\r\n\t];\r\n\t\r\nfunction createView(options) {\r\n\r\n\tvar view = new Ractive( {\r\n\t\tel: options.target,\r\n\t\ttemplate: template,\r\n\t\tdata,\r\n\t\tcomponents: {\r\n\t\t\tchild: childComp\r\n\t\t},\r\n\t\thandleAdd: function ( row ) {\r\n\t\t\t// handleAddRow is called from the template as: on-public.add=\"handleAdd($1)\r\n\t\t\t// $1 is a mapping to the first argument that the child component 'public.add' event passed along\r\n\t\t\t// Other arguments would be mapped as $2, $3 or all with (...arguments)\r\n\t\t\tconsole.log( \"[in parent] <child on-rowAdded=\\\"handleAddRow($1)\\>: invoked with arguments:\", row );\r\n\r\n\t\t\t// Our child component is managed (created) by the parent, so we do not have a reference to the child.\r\n\t\t\t// We can get a reference through the findComponent method:\r\n\t\t\tlet child = this.findComponent( \"child\" );\r\n\t\t}\r\n\t} );\r\n\r\n\t// Subscribe to the rowRemoved event fired by the child component, note we use the 'child.' namespace to\r\n\t// listen to the public.remove event of the child component\r\n\tview.on( \"child.rowRemoved\", function ( ctx, id, index ) {\r\n\t\tconsole.log( \"[in parent] on('child.rowRemoved') invoked with arguments, id:\", id, \"index:\", index );\r\n\t} );\r\n\r\n\t// We can also subsribe to all remove events from all components using the '*.' notation.\r\n\tview.on( \"*.rowRemoved\", function ( ctx, id, index ) {\r\n\t\tconsole.log( \"[in parent] on('*.remove') invoked with arguments:, id:\", id, \"index:\", index );\r\n\t} );\r\n\r\n\r\n\treturn view;\r\n}\r\n\r\nexport default parent;\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./sidePanel.html\";\r\nimport 'lib/prism.js';\r\n\r\nlet panel;\r\n\r\nfunction sidePanel( target ) {\r\n\r\n\tpanel = new Ractive( {\r\n\r\n\t\tel: target,\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\tclose: function () {\r\n\t\t\tvar event = this.event.original;\r\n\t\t\tclose( event );\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} );\r\n\r\n\t$( \"body\" ).off( \"click\", handleBodyClick );\r\n\t$( \"body\" ).on( \"click\", handleBodyClick );\r\n\r\n\t// Public \r\n\tpanel.show = function ( options ) {\r\n\t\tshow(options);\r\n\t};\r\n\r\n\treturn panel;\r\n}\r\n\r\nfunction show( options = {} ) {\r\n\tvar path = options.path || getUrlPath();\r\n\tvar ext = options.ext || \"\";\r\n\tpanel.set( \"visible\", true );\r\n\r\n\tpanel.set( \"code\", path + \".\" + ext );\r\n\tpanel.set( \"title\", path + \".\" + ext );\r\n\tPrism.fileHighlight();\r\n\tlet $element = $( '.cd-panel-content' );\r\n\t//Prism.highlightElement( $element[0] );\r\n}\r\n\r\nfunction close( event ) {\r\n\tif ( $( event.target ).is( '.cd-panel' ) || $( event.target ).is( '.cd-panel-close' ) ) {\r\n\t\tpanel.set( \"visible\", false );\r\n\t}\r\n}\r\n\r\nfunction getUrlPath() {\r\n\tvar route = journey.getCurrentRoute();\r\n\treturn route.path;\r\n}\r\n\r\n// Private \r\nfunction handleBodyClick( e ) {\r\n\tif ( panel.get( \"visible\" ) === true ) {\r\n\r\n\t\tif ( $( e.target ).is( 'a' ) ) {\r\n\t\t\tpanel.set( \"visible\", false );\r\n\r\n\t\t\t$( \".cd-panel\" ).css( \"transitionProperty\", \"none\" );\r\n\t\t\tsetTimeout( function () {\r\n\t\t\t\t$( \".cd-panel\" ).css( \"transitionProperty\", \"all\" );\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default sidePanel;","import journey from \"lib/journey/journey.js\";\nimport 'lib/prism.js';\n\nlet windowResizeTimeoutId;\n\nlet menuSlider = {\n\n\tinit( options ) {\n\t\tsetupWindowResizeListener();\n\n\t\tsetupMenuListener();\n\t\t/*\n\t\t let $fallbackMenu = $( options.fallbackMenu );\n\t\t let $initialLi = $fallbackMenu.parent();\n\t\t setSliderOnActiveMenu( $initialLi );*/\n\t},\n\n\tupdateSlider( $li ) {\n\t\t// Parent dropdown menus should be skipped and handled by the child menu when selected\n\t\tif ( $li.length == 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tupdateMenu( $li );\n\n\t\tslideToMenu( $li );\n\t}\n};\n\nfunction setupMenuListener() {\n\n\tjourney.on( \"entered\", options => {\n\t\tlet viewName = getViewName( options );\n\t\tconsole.log( \"viewname:\", viewName );\n\n\t\tlet $li = getMenu( viewName );\n\n\t\tif ( hasActiveMenu() ) {\n\t\t\tmenuSlider.updateSlider( $li );\n\n\t\t} else {\n\t\t\tupdateMenu( $li );\t\t\t\t\t\t\n\t\t\tinitializeSlider( $li );\n\t\t}\n\t} );\n\n//\t$( '.navbar li' ).click( function ( e ) {\n//\t\tvar $li = $( this );\n//\n//\t\tmenuSlider.updateSlider( $li );\n//\t} );\n}\n\nfunction updateMenu( $li ) {\n\n\tif ( hasParent( $li ) ) {\n\t\tlet $parent = getParent( $li );\n\t\tupdateChild( $parent, $li );\n\t\t//slideToActiveMenu( $parent );\n\n\t} else {\n\t\tupdateLeaf( $li );\n\t\t//slideToActiveMenu( $li );\n\t}\n\t//}\n\n\treturn $li;\n}\n\nfunction updateLeaf( $li ) {\n\t$( '.navbar li.active' ).removeClass( 'active' );\n\t$li.addClass( 'active' );\n}\n\nfunction updateChild( $parent, $leaf ) {\n\t$( '.navbar li.active' ).removeClass( 'active' );\n\t$parent.addClass( 'active' );\n\n\t$( \"#navbar .sub-active\" ).removeClass( \"sub-active\" );\n\t$leaf.addClass( \"sub-active\" );\n}\n\nfunction slideToMenu( $li ) {\n\tif ( hasParent( $li ) ) {\n\t\t$li = getParent( $li );\n\t}\n\n\tif ( $( \"#nav-ind\" ).is( \":visible\" ) ) {\n\t\t// Only navigate to the menu if the menu has not collapsed yet ie is less than 768px\n\t\tvar location = getActiveMenuLocation( $li );\n\t\t$( '#nav-ind' ).animate( location, 'fast', 'linear' );\n\t}\n}\n\nfunction initializeSlider( $li ) {\n\tif ( hasParent( $li ) ) {\n\t\t$li = getParent( $li );\n\t}\n\t//$liItem.addClass( \"active\" );\n\tvar loc = getActiveMenuLocation( $li );\n\t$( '#nav-ind' ).css( loc );\n}\n\nfunction hasActiveMenu() {\n\tlet $li = $( \".navbar li.active\" );\n\treturn $li.length > 0;\n}\n\nfunction setupWindowResizeListener() {\n\t$( window ).resize( function () {\n\t\tclearTimeout( windowResizeTimeoutId );\n\t\twindowResizeTimeoutId = setTimeout( windowResized, 0 );\n\t} );\n\n\twindowResized();\n}\n\nfunction windowResized() {\n\tif ( window.matchMedia( '(min-width: 768px)' ).matches ) {\n\t\tvar $activeMenu = $( \"#navbar li.active\" );\n\t\tif ( $activeMenu.length > 0 ) {\n\t\t\tvar location = getActiveMenuLocation( $activeMenu );\n\t\t\t$( '#nav-ind' ).css( location );\n\t\t}\n\t}\n}\n\nfunction getActiveMenuLocation( $li ) {\n\tvar offsetTop = 60;\n\tvar offsetLeft = 0;\n\tvar offsetLeft = 0;\n\tif ( $li.length ) {\n\t\tlet $navbar = $( '#navbar' );\n\t\tlet navbarOffset = $navbar.offset();\n\t\tlet itemOffset = $li.offset();\n\t\toffsetLeft = itemOffset.left - navbarOffset.left;\n\t}\n\n\tvar width = $( '#navbar' ).width();\n\tvar liWidth = $( $li ).width();\n\tlet navbarHeight = $( '#navbar' ).height();\n\tlet liHeight = $li.height();\n\n\tvar location = {\n\t\ttop: offsetTop,\n\t\tleft: offsetLeft,\n\t\tright: width - liWidth - offsetLeft,\n\t\tbottom: navbarHeight - liHeight - offsetTop\n\t};\n\treturn location;\n}\n\nfunction isParent( $li ) {\n\tif ( $li.hasClass( \"dropdown\" ) ) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction isLeaf( $li ) {\n\treturn ! isParent( $li );\n}\n\nfunction getParent( $li ) {\n\tlet $parent = $li.closest( '.dropdown' );\n\treturn $parent;\n}\n\nfunction hasParent( $li ) {\n\tlet $parent = getParent( $li );\n\tif ( $parent.length == 1 ) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction getViewName( options ) {\n\tlet route = options.to;\n\tlet path = route.path;\n\tif ( path == null ) {\n\t\treturn \"\";\n\t}\n\n\tlet start = path.lastIndexOf( \"/\" );\n\tlet name = path.slice( start + 1 );\n\treturn name;\n}\n\nfunction getMenu( viewName ) {\n\t\n\tlet selector = \"#menu-\" + viewName;\n\tlet $li = $( selector ).parent();\n\n\tif ( $li.length == 0 ) {\n\t\t$li = $( \".navbar [href='/\" + viewName + \"'], .navbar [href='#\" + viewName + \"'], .navbar [href='\" + viewName + \"']\" ).parent( );\n\t}\n\treturn $li;\n}\n\nexport default menuSlider;","// Promise\n// TODO: Better global attachment\nif ( window && ! window.Promise ) {\n\tvar PENDING = { };\n\tvar FULFILLED = { };\n\tvar REJECTED = { };\n\n\tvar Promise = window.Promise = function ( callback ) {\n\t\tvar fulfilledHandlers = [ ];\n\t\tvar rejectedHandlers = [ ];\n\t\tvar state = PENDING;\n\t\tvar result;\n\t\tvar dispatchHandlers;\n\n\t\tvar makeResolver = function ( newState ) {\n\t\t\treturn function ( value ) {\n\t\t\t\tif ( state !== PENDING ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresult = value;\n\t\t\t\tstate = newState;\n\t\t\t\tdispatchHandlers = makeDispatcher( ( state === FULFILLED ? fulfilledHandlers : rejectedHandlers ), result );\n\t\t\t\twait( dispatchHandlers );\n\t\t\t};\n\t\t};\n\n\t\tvar fulfill = makeResolver( FULFILLED );\n\t\tvar reject = makeResolver( REJECTED );\n\n\t\ttry {\n\t\t\tcallback( fulfill, reject );\n\t\t} catch ( err ) {\n\t\t\treject( err );\n\t\t}\n\n\t\treturn {\n\t\t\t// `then()` returns a Promise - 2.2.7\n\t\t\tthen: function then( onFulfilled, onRejected ) {\n\t\t\t\tvar promise2 = new Promise( function ( fulfill, reject ) {\n\n\t\t\t\t\tvar processResolutionHandler = function ( handler, handlers, forward ) {\n\t\t\t\t\t\tif ( typeof handler === 'function' ) {\n\t\t\t\t\t\t\thandlers.push( function ( p1result ) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tresolve( promise2, handler( p1result ), fulfill, reject );\n\t\t\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\t\t\treject( err );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thandlers.push( forward );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tprocessResolutionHandler( onFulfilled, fulfilledHandlers, fulfill );\n\t\t\t\t\tprocessResolutionHandler( onRejected, rejectedHandlers, reject );\n\n\t\t\t\t\tif ( state !== PENDING ) {\n\t\t\t\t\t\twait( dispatchHandlers );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\treturn promise2;\n\t\t\t},\n\t\t\t'catch': function catch$1( onRejected ) {\n\t\t\t\treturn this.then( null, onRejected );\n\t\t\t}\n\t\t};\n\t};\n\n\tPromise.all = function ( promises ) {\n\t\treturn new Promise( function ( fulfil, reject ) {\n\t\t\tvar result = [ ];\n\t\t\tvar pending;\n\t\t\tvar i;\n\n\t\t\tif ( ! promises.length ) {\n\t\t\t\tfulfil( result );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar processPromise = function ( promise, i ) {\n\t\t\t\tif ( promise && typeof promise.then === 'function' ) {\n\t\t\t\t\tpromise.then( function ( value ) {\n\t\t\t\t\t\tresult[i] = value;\n\t\t\t\t\t\t-- pending || fulfil( result );\n\t\t\t\t\t}, reject );\n\t\t\t\t} else {\n\t\t\t\t\tresult[i] = promise;\n\t\t\t\t\t-- pending || fulfil( result );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tpending = i = promises.length;\n\n\t\t\twhile ( i -- ) {\n\t\t\t\tprocessPromise( promises[i], i );\n\t\t\t}\n\t\t} );\n\t};\n\n\tPromise.resolve = function ( value ) {\n\t\treturn new Promise( function ( fulfill ) {\n\t\t\tfulfill( value );\n\t\t} );\n\t};\n\n\tPromise.reject = function ( reason ) {\n\t\treturn new Promise( function ( fulfill, reject ) {\n\t\t\treject( reason );\n\t\t} );\n\t};\n\n\t// TODO use MutationObservers or something to simulate setImmediate\n\tvar wait = function ( callback ) {\n\t\tsetTimeout( callback, 0 );\n\t};\n\n\tvar makeDispatcher = function ( handlers, result ) {\n\t\treturn function () {\n\t\t\tfor ( var handler = ( void 0 ); handler = handlers.shift(); ) {\n\t\t\t\thandler( result );\n\t\t\t}\n\t\t};\n\t};\n\n\tvar resolve = function ( promise, x, fulfil, reject ) {\n\t\tvar then;\n\t\tif ( x === promise ) {\n\t\t\tthrow new TypeError( \"A promise's fulfillment handler cannot return the same promise\" );\n\t\t}\n\t\tif ( x instanceof Promise ) {\n\t\t\tx.then( fulfil, reject );\n\t\t} else if ( x && ( typeof x === 'object' || typeof x === 'function' ) ) {\n\t\t\ttry {\n\t\t\t\tthen = x.then;\n\t\t\t} catch ( e ) {\n\t\t\t\treject( e );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( typeof then === 'function' ) {\n\t\t\t\tvar called;\n\n\t\t\t\tvar resolvePromise = function ( y ) {\n\t\t\t\t\tif ( called ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tresolve( promise, y, fulfil, reject );\n\t\t\t\t};\n\t\t\t\tvar rejectPromise = function ( r ) {\n\t\t\t\t\tif ( called ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcalled = true;\n\t\t\t\t\treject( r );\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tthen.call( x, resolvePromise, rejectPromise );\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( ! called ) {\n\t\t\t\t\t\treject( e );\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfulfil( x );\n\t\t\t}\n\t\t} else {\n\t\t\tfulfil( x );\n\t\t}\n\t};\n\n}\n","export default ( typeof window !== 'undefined' ? window : null );","import config from \"./config.js\";\r\nimport window from './window.js';\r\n\r\nlet listener;\r\n\r\nlet watchHistory = {\r\n\r\n\t_ignoreHashChange: false,\r\n\r\n\tuseOnHashChange: false,\r\n\r\n\tsupportHistory:   !!(window.history && window.history.pushState),\r\n\r\n\tnoop() {},\r\n\r\n\tstart( options = {} ) {\r\n\r\n\t\twatchHistory.useOnHashChange = watchHistory.shouldUseOnHashChange(options.useOnHashChange || false);\r\n\t\twatchHistory.listener = watchHistory.noop;\r\n\r\n\t\twatchHistory.startListening();\r\n\t},\r\n\r\n\tstartListening() {\r\n\r\n\t\tif (watchHistory.useOnHashChange) {\r\n\t\t\twindow.addEventListener( 'hashchange', watchHistory.hashchangeEventLisener, false );\r\n\r\n\t\t} else {\r\n\t\t\twindow.addEventListener( 'popstate', watchHistory.popstateEventLisener, false );\r\n\t\t}\r\n\t},\r\n\t\r\n\tshouldUseOnHashChange(value) {\r\n\t\t// Use override if present\r\n\t\tif (value) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t if (watchHistory.supportHistory) {\r\n\t\t\t return false;\r\n\t\t }\r\n\t\t return true;\r\n\t},\r\n\r\n\tpopstateEventLisener( e ) {\r\n\t\tif ( e.state == null ) return; // hashchange, or otherwise outside roadtrip's control\r\n\r\n\t\t//let url = location.pathname;\r\n\t\tlet url = config.useHash ? window.location.hash : window.location.pathname;\r\n\t\tlet options = {\r\n\t\t\turl: url,\r\n\t\t\tpopEvent: e,\r\n\t\t\tpopState: true // so we know not to update the url and create another history entry\r\n\t\t};\r\n\t\tlistener(options);\r\n\t},\r\n\r\n\thashchangeEventLisener( e ) {\r\n\t\tif (watchHistory._ignoreHashChange) {\r\n\t\t\twatchHistory._ignoreHashChange = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet url = location.hash;\r\n\t\t\r\n\t\tlet options = {\r\n\t\t\turl: url,\r\n\t\t\thashEvent: e,\r\n\t\t\thashChange: true // so we know not to update the url and create another history entry\r\n\t\t};\r\n\t\t\r\n\t\tlistener(options);\r\n\t},\r\n\r\n\tsetListener( callback ) {\r\n\t\tlistener = callback;\r\n\t},\r\n\t\r\n\tsetHash(hash, options) {\r\n\r\n\t\thash = options.invisible ? window.location.hash : hash;\r\n\r\n\t\tif (options.replace) {\r\n\t\t\tlocation.replace(hash);\r\n\r\n\t\t} else {\r\n\t\t\t// updating the hash will fire a hashchange event but we only want to respond to hashchange events when the history pops, not pushed\r\n\t\t\twatchHistory._ignoreHashChange = true;\r\n\t\t\twindow.location.hash = hash;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default watchHistory;\r\n","import window from './window.js';\n\nvar util = {\n\n\tstripSearch: str => {\n\t\tlet start = str.indexOf( '?' );\n\n\t\tif ( start >= 0 ) {\n\t\t\tstr = str.substring( 0, start );\n\t\t}\n\t\treturn str;\n\t},\n\n\tisUrl: ( str ) => {\n\t\tif ( str.indexOf( \"://\" ) >= 0 ) {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tprefixWithBase: ( str, base ) => {\n\n\t\t// Cannot prefix a url with the base value: http://moo will become refixhttp://moo\n\t\tif ( util.isUrl( str ) ) {\n\t\t\treturn str;\n\t\t}\n\n\t\tlet index = str.indexOf( base );\n\t\tif ( index === 0 ) {\n\t\t\treturn str;\n\t\t}\n\n\t\t// Guard against double '/' when base ends with '/' and str starts with '/'\n\t\tif ( base[base.length - 1] === '/' && str[0] === '/' ) {\n\t\t\tstr = str.slice( 1 );\n\t\t}\n\n\t\tstr = base + str;\n\t\treturn str;\n\t},\n\n\tstripBase: ( str, base ) => {\n\t\tif ( str.indexOf( base ) === 0 ) {\n\t\t\tstr = str.substr( base.length );\n\t\t}\n\n\t\tif ( str === '' ) {\n\t\t\t// Don't return an empty str, return '/' which is generally mapped\n\t\t\treturn '/';\n\t\t}\n\t\treturn str;\n\t},\n\n\tgetLocationAsRelativeUrl: () => {\n\t\tlet relUrl = window.location.pathname + window.location.search + window.location.hash || '';\n\t\treturn relUrl;\n\t},\n\n\tuseDefaultRoute: ( path ) => {\n\t\tif ( path == null )\n\t\t\treturn true;\n\n\t\tif ( path.length == 1 ) {\n\n\t\t\tif ( path[0] == '/' || path[0] == '#' ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\textend: function ( out ) {\n\t\tout = out || { };\n\t\tfor ( var i = 1; i < arguments.length; i ++ ) {\n\t\t\tif ( ! arguments[i] )\n\t\t\t\tcontinue;\n\t\t\tfor ( var key in arguments[i] ) {\n\t\t\t\tif ( arguments[i].hasOwnProperty( key ) )\n\t\t\t\t\tout[key] = arguments[i][key];\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t}\n};\n\nexport default util;","let config = {\n\tfallback: null,\n\t\n\tbase: '',\n\n\tuseHash: true,\n\t\n\tuseOnHashChange: false,\n\n\thash: '#',\n\t\n\tdefaultRoute: null\n};\n\nexport default config;","import util from \"./util.js\";\nimport config from \"./config.js\";\nimport window from './window.js';\n\nlet pathHelper = {\n\n\tgetGotoPath: href => {\n\t\t// TODO should this part be uncommented?\n//\t\tif ( config.useHash ) {\n//\t\t\treturn href;\n//\t\t}\n\t\t\n\t\thref = pathHelper.stripSlashOrHashPrefix( href );\n\t\treturn href;\n\t},\n\n\tgetInitialPath: () => {\n\t\tlet relUrl = config.useHash ? window.location.hash : util.getLocationAsRelativeUrl();\n\t\tlet path = util.stripBase( relUrl, config.base );\n\n\t\tif ( config.defaultRoute && util.useDefaultRoute( path ) ) {\n\t\t\tpath = config.defaultRoute || path;\n\t\t}\n\n\t\tif ( ! config.useHash ) {\n\t\t\tpath = pathHelper.stripSlashOrHashPrefix( path );\n\t\t}\n\n\t\treturn path;\n\t},\n\n\tstripSlashOrHashPrefix: str => {\n\n\t\tif ( str == null )\n\t\t\treturn str;\n\t\tstr = str.trim( );\n\t\tif ( str[0] === '/' ) {\n\t\t\tstr = str.slice( 1 );\n\t\t}\n\n\t\tif ( str.startsWith( config.hash ) ) {\n\t\t\treturn str.slice( config.hash.length );\n\t\t}\n\n\t\tif ( str[0] === '#' ) {\n\t\t\tstr = str.slice( 1 );\n\t\t}\n\n\t\treturn str;\n\t},\n\tprefixWithHash: str => {\n\t\tif ( str.startsWith( config.hash ) ) {\n\t\t\treturn str;\n\t\t}\n\n\t\tstr = pathHelper.stripSlashOrHashPrefix( str );\n\t\tstr = config.hash + str;\n\t\treturn str;\n\t},\n\tprefixWithSlash( str ) {\n// Cannot prefix a url with '/' else http://moo will become /http://moo\n\t\tif ( util.isUrl( str ) ) {\n\t\t\treturn str;\n\t\t}\n\n\t\tif ( str[0] === '/' ) {\n\t\t\treturn str;\n\t\t} else {\n\t\t\tstr = pathHelper.stripSlashOrHashPrefix( str );\n\t\t}\n\t\tstr = '/' + str;\n\t\treturn str;\n\t}\n}\n\nexport default pathHelper;","export default [];\n","// from https://developer.mozilla.org/en/docs/Web/API/WindowEventHandlers/onhashchange\nif ( ! window.HashChangeEvent )\n\t( function () {\n\n\t\tvar lastURL = document.URL;\n\n\t\twindow.addEventListener( \"hashchange\", function ( event ) {\n\t\t\tObject.defineProperty( event, \"oldURL\", { enumerable: true, configurable: true, value: lastURL } );\n\t\t\tObject.defineProperty( event, \"newURL\", { enumerable: true, configurable: true, value: document.URL } );\n\n\t\t\tlastURL = document.URL;\n\t\t} );\n\t}() );\n\n\nif ( ! String.prototype.startsWith ) {\n\tString.prototype.startsWith = function ( searchString, position ) {\n\t\tposition = position || 0;\n\t\treturn this.substr( position, searchString.length ) === searchString;\n\t};\n}\n\nif ( ! String.prototype.endsWith ) {\n\tString.prototype.endsWith = function ( searchString, position ) {\n\t\tvar subjectString = this.toString();\n\t\tif ( typeof position !== 'number' || ! isFinite( position ) || Math.floor( position ) !== position || position > subjectString.length ) {\n\t\t\tposition = subjectString.length;\n\t\t}\n\t\tposition -= searchString.length;\n\t\tvar lastIndex = subjectString.lastIndexOf( searchString, position );\n\t\treturn lastIndex !== - 1 && lastIndex === position;\n\t};\n}","import EventEmitter from  \"../EventEmitter\";\n\nvar eventer = new EventEmitter();\n\nvar journey;\n\nvar origEmit = eventer.emit;\n\neventer.emit = function ( that ) {\n\tif ( typeof that === 'string' ) {\n\t\tvar args = Array.prototype.slice.call( arguments );\n\t\targs.unshift( journey );\n\t\treturn origEmit.apply( this, args );\n\t}\n\torigEmit.apply( this, arguments );\n};\n\n\neventer.init = ( arg ) => {\n\tjourney = arg;\n\n\tjourney.on = ( event, listener ) => {\n\t\t//eventer.on.call( journey, event, listener );\n\t\teventer.on( event, listener );\n\t};\n\t\n\tjourney.off = ( event, listener ) => {\n\t\teventer.off( event, listener );\n\t};\n\t\njourney.once = ( event, listener ) => {\n\t\teventer.off( event, listener );\n\t};\n\t\n\tjourney.emit = function () {\n\t\teventer.emit.apply( eventer, arguments );\n\t};\n\n\tjourney.emitEvent = function () {\n\t\teventer.emitEvent.apply( eventer, arguments );\n\t};\n};\n\nexport default eventer;","var mode = {\r\n\tDEBUG: null\r\n};\r\n\r\nexport default mode;\r\n\r\n","const events = {\n\tBEFORE_LEAVE: \"beforeleave\",\n\tBEFORE_LEAVE_COMPLETE: \"beforeleaveComplete\",\n\tBEFORE_ENTER: \"beforeenter\",\n\tBEFORE_ENTER_COMPLETE: \"beforeenterComplete\",\n\tENTER: \"enter\",\t\n\tENTERED: \"entered\",\n\tUPDATE: \"update\",\n\tUPDATED: \"updated\",\n\tLEAVE: \"leave\",\n\tLEFT: \"left\",\n\tROUTE_ABUSE_START: \"routeAbuseStart\",\n\tROUTE_ABUSE_END: \"routeAbuseEnd\",\n\t_GOTO: \"_goto\",\n\tERROR: \"error\"\n};\n\nexport default events;","var config = {\r\n\ttarget: null,\r\n\tdebug: true,\r\n\tabuseTimeout: 1000\r\n};\r\n\r\nexport default config;","/* http://prismjs.com/download.html?themes=prism&languages=markup+css+clike+javascript+properties&plugins=line-highlight+line-numbers+file-highlight */\r\nvar _self = (typeof window !== 'undefined')\r\n\t? window   // if in browser\r\n\t: (\r\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\r\n\t\t? self // if in worker\r\n\t\t: {}   // if in node js\r\n\t);\r\n\r\n/**\r\n * Prism: Lightweight, robust, elegant syntax highlighting\r\n * MIT license http://www.opensource.org/licenses/mit-license.php/\r\n * @author Lea Verou http://lea.verou.me\r\n */\r\n\r\nvar Prism = (function(){\r\n\r\n// Private helper vars\r\nvar lang = /\\blang(?:uage)?-(\\w+)\\b/i;\r\nvar uniqueId = 0;\r\n\r\nvar _ = _self.Prism = {\r\n\tmanual: _self.Prism && _self.Prism.manual,\r\n\tutil: {\r\n\t\tencode: function (tokens) {\r\n\t\t\tif (tokens instanceof Token) {\r\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\r\n\t\t\t} else if (_.util.type(tokens) === 'Array') {\r\n\t\t\t\treturn tokens.map(_.util.encode);\r\n\t\t\t} else {\r\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttype: function (o) {\r\n\t\t\treturn Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\r\n\t\t},\r\n\r\n\t\tobjId: function (obj) {\r\n\t\t\tif (!obj['__id']) {\r\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\r\n\t\t\t}\r\n\t\t\treturn obj['__id'];\r\n\t\t},\r\n\r\n\t\t// Deep clone a language definition (e.g. to extend it)\r\n\t\tclone: function (o) {\r\n\t\t\tvar type = _.util.type(o);\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'Object':\r\n\t\t\t\t\tvar clone = {};\r\n\r\n\t\t\t\t\tfor (var key in o) {\r\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\tclone[key] = _.util.clone(o[key]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn clone;\r\n\r\n\t\t\t\tcase 'Array':\r\n\t\t\t\t\t// Check for existence for IE8\r\n\t\t\t\t\treturn o.map && o.map(function(v) { return _.util.clone(v); });\r\n\t\t\t}\r\n\r\n\t\t\treturn o;\r\n\t\t}\r\n\t},\r\n\r\n\tlanguages: {\r\n\t\textend: function (id, redef) {\r\n\t\t\tvar lang = _.util.clone(_.languages[id]);\r\n\r\n\t\t\tfor (var key in redef) {\r\n\t\t\t\tlang[key] = redef[key];\r\n\t\t\t}\r\n\r\n\t\t\treturn lang;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Insert a token before another token in a language literal\r\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\r\n\t\t * we cannot just provide an object, we need anobject and a key.\r\n\t\t * @param inside The key (or language id) of the parent\r\n\t\t * @param before The key to insert before. If not provided, the function appends instead.\r\n\t\t * @param insert Object with the key/value pairs to insert\r\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\r\n\t\t */\r\n\t\tinsertBefore: function (inside, before, insert, root) {\r\n\t\t\troot = root || _.languages;\r\n\t\t\tvar grammar = root[inside];\r\n\r\n\t\t\tif (arguments.length == 2) {\r\n\t\t\t\tinsert = arguments[1];\r\n\r\n\t\t\t\tfor (var newToken in insert) {\r\n\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\r\n\t\t\t\t\t\tgrammar[newToken] = insert[newToken];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn grammar;\r\n\t\t\t}\r\n\r\n\t\t\tvar ret = {};\r\n\r\n\t\t\tfor (var token in grammar) {\r\n\r\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\r\n\r\n\t\t\t\t\tif (token == before) {\r\n\r\n\t\t\t\t\t\tfor (var newToken in insert) {\r\n\r\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\r\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tret[token] = grammar[token];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Update references in other language definitions\r\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\r\n\t\t\t\tif (value === root[inside] && key != inside) {\r\n\t\t\t\t\tthis[key] = ret;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn root[inside] = ret;\r\n\t\t},\r\n\r\n\t\t// Traverse a language definition with Depth First Search\r\n\t\tDFS: function(o, callback, type, visited) {\r\n\t\t\tvisited = visited || {};\r\n\t\t\tfor (var i in o) {\r\n\t\t\t\tif (o.hasOwnProperty(i)) {\r\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\r\n\r\n\t\t\t\t\tif (_.util.type(o[i]) === 'Object' && !visited[_.util.objId(o[i])]) {\r\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\r\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, null, visited);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (_.util.type(o[i]) === 'Array' && !visited[_.util.objId(o[i])]) {\r\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\r\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, i, visited);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tplugins: {},\r\n\r\n\thighlightAll: function(async, callback) {\r\n\t\tvar env = {\r\n\t\t\tcallback: callback,\r\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\r\n\t\t};\r\n\r\n\t\t_.hooks.run(\"before-highlightall\", env);\r\n\r\n\t\tvar elements = env.elements || document.querySelectorAll(env.selector);\r\n\r\n\t\tfor (var i=0, element; element = elements[i++];) {\r\n\t\t\t_.highlightElement(element, async === true, env.callback);\r\n\t\t}\r\n\t},\r\n\r\n\thighlightElement: function(element, async, callback) {\r\n\t\t// Find language\r\n\t\tvar language, grammar, parent = element;\r\n\r\n\t\twhile (parent && !lang.test(parent.className)) {\r\n\t\t\tparent = parent.parentNode;\r\n\t\t}\r\n\r\n\t\tif (parent) {\r\n\t\t\tlanguage = (parent.className.match(lang) || [,''])[1].toLowerCase();\r\n\t\t\tgrammar = _.languages[language];\r\n\t\t}\r\n\r\n\t\t// Set language on the element, if not present\r\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\r\n\r\n\t\t// Set language on the parent, for styling\r\n\t\tparent = element.parentNode;\r\n\r\n\t\tif (/pre/i.test(parent.nodeName)) {\r\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\r\n\t\t}\r\n\r\n\t\tvar code = element.textContent;\r\n\r\n\t\tvar env = {\r\n\t\t\telement: element,\r\n\t\t\tlanguage: language,\r\n\t\t\tgrammar: grammar,\r\n\t\t\tcode: code\r\n\t\t};\r\n\r\n\t\t_.hooks.run('before-sanity-check', env);\r\n\r\n\t\tif (!env.code || !env.grammar) {\r\n\t\t\tif (env.code) {\r\n\t\t\t\tenv.element.textContent = env.code;\r\n\t\t\t}\r\n\t\t\t_.hooks.run('complete', env);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t_.hooks.run('before-highlight', env);\r\n\r\n\t\tif (async && _self.Worker) {\r\n\t\t\tvar worker = new Worker(_.filename);\r\n\r\n\t\t\tworker.onmessage = function(evt) {\r\n\t\t\t\tenv.highlightedCode = evt.data;\r\n\r\n\t\t\t\t_.hooks.run('before-insert', env);\r\n\r\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\r\n\r\n\t\t\t\tcallback && callback.call(env.element);\r\n\t\t\t\t_.hooks.run('after-highlight', env);\r\n\t\t\t\t_.hooks.run('complete', env);\r\n\t\t\t};\r\n\r\n\t\t\tworker.postMessage(JSON.stringify({\r\n\t\t\t\tlanguage: env.language,\r\n\t\t\t\tcode: env.code,\r\n\t\t\t\timmediateClose: true\r\n\t\t\t}));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tenv.highlightedCode = _.highlight(env.code, env.grammar, env.language);\r\n\r\n\t\t\t_.hooks.run('before-insert', env);\r\n\r\n\t\t\tenv.element.innerHTML = env.highlightedCode;\r\n\r\n\t\t\tcallback && callback.call(element);\r\n\r\n\t\t\t_.hooks.run('after-highlight', env);\r\n\t\t\t_.hooks.run('complete', env);\r\n\t\t}\r\n\t},\r\n\r\n\thighlight: function (text, grammar, language) {\r\n\t\tvar tokens = _.tokenize(text, grammar);\r\n\t\treturn Token.stringify(_.util.encode(tokens), language);\r\n\t},\r\n\r\n\ttokenize: function(text, grammar, language) {\r\n\t\tvar Token = _.Token;\r\n\r\n\t\tvar strarr = [text];\r\n\r\n\t\tvar rest = grammar.rest;\r\n\r\n\t\tif (rest) {\r\n\t\t\tfor (var token in rest) {\r\n\t\t\t\tgrammar[token] = rest[token];\r\n\t\t\t}\r\n\r\n\t\t\tdelete grammar.rest;\r\n\t\t}\r\n\r\n\t\ttokenloop: for (var token in grammar) {\r\n\t\t\tif(!grammar.hasOwnProperty(token) || !grammar[token]) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar patterns = grammar[token];\r\n\t\t\tpatterns = (_.util.type(patterns) === \"Array\") ? patterns : [patterns];\r\n\r\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\r\n\t\t\t\tvar pattern = patterns[j],\r\n\t\t\t\t\tinside = pattern.inside,\r\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\r\n\t\t\t\t\tgreedy = !!pattern.greedy,\r\n\t\t\t\t\tlookbehindLength = 0,\r\n\t\t\t\t\talias = pattern.alias;\r\n\r\n\t\t\t\tif (greedy && !pattern.pattern.global) {\r\n\t\t\t\t\t// Without the global flag, lastIndex won't work\r\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imuy]*$/)[0];\r\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + \"g\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpattern = pattern.pattern || pattern;\r\n\r\n\t\t\t\t// Dont cache length as it changes during the loop\r\n\t\t\t\tfor (var i=0, pos = 0; i<strarr.length; pos += strarr[i].length, ++i) {\r\n\r\n\t\t\t\t\tvar str = strarr[i];\r\n\r\n\t\t\t\t\tif (strarr.length > text.length) {\r\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\r\n\t\t\t\t\t\tbreak tokenloop;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (str instanceof Token) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpattern.lastIndex = 0;\r\n\r\n\t\t\t\t\tvar match = pattern.exec(str),\r\n\t\t\t\t\t    delNum = 1;\r\n\r\n\t\t\t\t\t// Greedy patterns can override/remove up to two previously matched tokens\r\n\t\t\t\t\tif (!match && greedy && i != strarr.length - 1) {\r\n\t\t\t\t\t\tpattern.lastIndex = pos;\r\n\t\t\t\t\t\tmatch = pattern.exec(text);\r\n\t\t\t\t\t\tif (!match) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar from = match.index + (lookbehind ? match[1].length : 0),\r\n\t\t\t\t\t\t    to = match.index + match[0].length,\r\n\t\t\t\t\t\t    k = i,\r\n\t\t\t\t\t\t    p = pos;\r\n\r\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && p < to; ++k) {\r\n\t\t\t\t\t\t\tp += strarr[k].length;\r\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\r\n\t\t\t\t\t\t\tif (from >= p) {\r\n\t\t\t\t\t\t\t\t++i;\r\n\t\t\t\t\t\t\t\tpos = p;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t * If strarr[i] is a Token, then the match starts inside another Token, which is invalid\r\n\t\t\t\t\t\t * If strarr[k - 1] is greedy we are in conflict with another greedy pattern\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tif (strarr[i] instanceof Token || strarr[k - 1].greedy) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\r\n\t\t\t\t\t\tdelNum = k - i;\r\n\t\t\t\t\t\tstr = text.slice(pos, p);\r\n\t\t\t\t\t\tmatch.index -= pos;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!match) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(lookbehind) {\r\n\t\t\t\t\t\tlookbehindLength = match[1].length;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar from = match.index + lookbehindLength,\r\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\r\n\t\t\t\t\t    to = from + match.length,\r\n\t\t\t\t\t    before = str.slice(0, from),\r\n\t\t\t\t\t    after = str.slice(to);\r\n\r\n\t\t\t\t\tvar args = [i, delNum];\r\n\r\n\t\t\t\t\tif (before) {\r\n\t\t\t\t\t\targs.push(before);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\r\n\r\n\t\t\t\t\targs.push(wrapped);\r\n\r\n\t\t\t\t\tif (after) {\r\n\t\t\t\t\t\targs.push(after);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn strarr;\r\n\t},\r\n\r\n\thooks: {\r\n\t\tall: {},\r\n\r\n\t\tadd: function (name, callback) {\r\n\t\t\tvar hooks = _.hooks.all;\r\n\r\n\t\t\thooks[name] = hooks[name] || [];\r\n\r\n\t\t\thooks[name].push(callback);\r\n\t\t},\r\n\r\n\t\trun: function (name, env) {\r\n\t\t\tvar callbacks = _.hooks.all[name];\r\n\r\n\t\t\tif (!callbacks || !callbacks.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\r\n\t\t\t\tcallback(env);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar Token = _.Token = function(type, content, alias, matchedStr, greedy) {\r\n\tthis.type = type;\r\n\tthis.content = content;\r\n\tthis.alias = alias;\r\n\t// Copy of the full string this token was created from\r\n\tthis.length = (matchedStr || \"\").length|0;\r\n\tthis.greedy = !!greedy;\r\n};\r\n\r\nToken.stringify = function(o, language, parent) {\r\n\tif (typeof o == 'string') {\r\n\t\treturn o;\r\n\t}\r\n\r\n\tif (_.util.type(o) === 'Array') {\r\n\t\treturn o.map(function(element) {\r\n\t\t\treturn Token.stringify(element, language, o);\r\n\t\t}).join('');\r\n\t}\r\n\r\n\tvar env = {\r\n\t\ttype: o.type,\r\n\t\tcontent: Token.stringify(o.content, language, parent),\r\n\t\ttag: 'span',\r\n\t\tclasses: ['token', o.type],\r\n\t\tattributes: {},\r\n\t\tlanguage: language,\r\n\t\tparent: parent\r\n\t};\r\n\r\n\tif (env.type == 'comment') {\r\n\t\tenv.attributes['spellcheck'] = 'true';\r\n\t}\r\n\r\n\tif (o.alias) {\r\n\t\tvar aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\r\n\t\tArray.prototype.push.apply(env.classes, aliases);\r\n\t}\r\n\r\n\t_.hooks.run('wrap', env);\r\n\r\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\r\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\r\n\t}).join(' ');\r\n\r\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\r\n\r\n};\r\n\r\nif (!_self.document) {\r\n\tif (!_self.addEventListener) {\r\n\t\t// in Node.js\r\n\t\treturn _self.Prism;\r\n\t}\r\n \t// In worker\r\n\t_self.addEventListener('message', function(evt) {\r\n\t\tvar message = JSON.parse(evt.data),\r\n\t\t    lang = message.language,\r\n\t\t    code = message.code,\r\n\t\t    immediateClose = message.immediateClose;\r\n\r\n\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\r\n\t\tif (immediateClose) {\r\n\t\t\t_self.close();\r\n\t\t}\r\n\t}, false);\r\n\r\n\treturn _self.Prism;\r\n}\r\n\r\n//Get current script and highlight\r\nvar script = document.currentScript || [].slice.call(document.getElementsByTagName(\"script\")).pop();\r\n\r\nif (script) {\r\n\t_.filename = script.src;\r\n\r\n\tif (document.addEventListener && !_.manual && !script.hasAttribute('data-manual')) {\r\n\t\tif(document.readyState !== \"loading\") {\r\n\t\t\tif (window.requestAnimationFrame) {\r\n\t\t\t\twindow.requestAnimationFrame(_.highlightAll);\r\n\t\t\t} else {\r\n\t\t\t\twindow.setTimeout(_.highlightAll, 16);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdocument.addEventListener('DOMContentLoaded', _.highlightAll);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nreturn _self.Prism;\r\n\r\n})();\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n\tmodule.exports = Prism;\r\n}\r\n\r\n// hack for components to work correctly in node.js\r\nif (typeof global !== 'undefined') {\r\n\tglobal.Prism = Prism;\r\n}\r\n;\r\nPrism.languages.markup = {\r\n\t'comment': /<!--[\\w\\W]*?-->/,\r\n\t'prolog': /<\\?[\\w\\W]+?\\?>/,\r\n\t'doctype': /<!DOCTYPE[\\w\\W]+?>/i,\r\n\t'cdata': /<!\\[CDATA\\[[\\w\\W]*?]]>/i,\r\n\t'tag': {\r\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\\\1|\\\\?(?!\\1)[\\w\\W])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\r\n\t\tinside: {\r\n\t\t\t'tag': {\r\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'punctuation': /^<\\/?/,\r\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'attr-value': {\r\n\t\t\t\tpattern: /=(?:('|\")[\\w\\W]*?(\\1)|[^\\s>]+)/i,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'punctuation': /[=>\"']/\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'punctuation': /\\/?>/,\r\n\t\t\t'attr-name': {\r\n\t\t\t\tpattern: /[^\\s>\\/]+/,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t'entity': /&#?[\\da-z]{1,8};/i\r\n};\r\n\r\n// Plugin to make entity title show the real entity, idea by Roman Komarov\r\nPrism.hooks.add('wrap', function(env) {\r\n\r\n\tif (env.type === 'entity') {\r\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\r\n\t}\r\n});\r\n\r\nPrism.languages.xml = Prism.languages.markup;\r\nPrism.languages.html = Prism.languages.markup;\r\nPrism.languages.mathml = Prism.languages.markup;\r\nPrism.languages.svg = Prism.languages.markup;\r\n\r\nPrism.languages.css = {\r\n\t'comment': /\\/\\*[\\w\\W]*?\\*\\//,\r\n\t'atrule': {\r\n\t\tpattern: /@[\\w-]+?.*?(;|(?=\\s*\\{))/i,\r\n\t\tinside: {\r\n\t\t\t'rule': /@[\\w-]+/\r\n\t\t\t// See rest below\r\n\t\t}\r\n\t},\r\n\t'url': /url\\((?:([\"'])(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\r\n\t'selector': /[^\\{\\}\\s][^\\{\\};]*?(?=\\s*\\{)/,\r\n\t'string': {\r\n\t\tpattern: /(\"|')(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1/,\r\n\t\tgreedy: true\r\n\t},\r\n\t'property': /(\\b|\\B)[\\w-]+(?=\\s*:)/i,\r\n\t'important': /\\B!important\\b/i,\r\n\t'function': /[-a-z0-9]+(?=\\()/i,\r\n\t'punctuation': /[(){};:]/\r\n};\r\n\r\nPrism.languages.css['atrule'].inside.rest = Prism.util.clone(Prism.languages.css);\r\n\r\nif (Prism.languages.markup) {\r\n\tPrism.languages.insertBefore('markup', 'tag', {\r\n\t\t'style': {\r\n\t\t\tpattern: /(<style[\\w\\W]*?>)[\\w\\W]*?(?=<\\/style>)/i,\r\n\t\t\tlookbehind: true,\r\n\t\t\tinside: Prism.languages.css,\r\n\t\t\talias: 'language-css'\r\n\t\t}\r\n\t});\r\n\t\r\n\tPrism.languages.insertBefore('inside', 'attr-value', {\r\n\t\t'style-attr': {\r\n\t\t\tpattern: /\\s*style=(\"|').*?\\1/i,\r\n\t\t\tinside: {\r\n\t\t\t\t'attr-name': {\r\n\t\t\t\t\tpattern: /^\\s*style/i,\r\n\t\t\t\t\tinside: Prism.languages.markup.tag.inside\r\n\t\t\t\t},\r\n\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\r\n\t\t\t\t'attr-value': {\r\n\t\t\t\t\tpattern: /.+/i,\r\n\t\t\t\t\tinside: Prism.languages.css\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\talias: 'language-css'\r\n\t\t}\r\n\t}, Prism.languages.markup.tag);\r\n};\r\nPrism.languages.clike = {\r\n\t'comment': [\r\n\t\t{\r\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,\r\n\t\t\tlookbehind: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\r\n\t\t\tlookbehind: true\r\n\t\t}\r\n\t],\r\n\t'string': {\r\n\t\tpattern: /([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\r\n\t\tgreedy: true\r\n\t},\r\n\t'class-name': {\r\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,\r\n\t\tlookbehind: true,\r\n\t\tinside: {\r\n\t\t\tpunctuation: /(\\.|\\\\)/\r\n\t\t}\r\n\t},\r\n\t'keyword': /\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\r\n\t'boolean': /\\b(true|false)\\b/,\r\n\t'function': /[a-z0-9_]+(?=\\()/i,\r\n\t'number': /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,\r\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\r\n\t'punctuation': /[{}[\\];(),.:]/\r\n};\r\n\r\nPrism.languages.javascript = Prism.languages.extend('clike', {\r\n\t'keyword': /\\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\\b/,\r\n\t'number': /\\b-?(0x[\\dA-Fa-f]+|0b[01]+|0o[0-7]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?|NaN|Infinity)\\b/,\r\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\r\n\t'function': /[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*(?=\\()/i,\r\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*\\*?|\\/|~|\\^|%|\\.{3}/\r\n});\r\n\r\nPrism.languages.insertBefore('javascript', 'keyword', {\r\n\t'regex': {\r\n\t\tpattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/,\r\n\t\tlookbehind: true,\r\n\t\tgreedy: true\r\n\t}\r\n});\r\n\r\nPrism.languages.insertBefore('javascript', 'string', {\r\n\t'template-string': {\r\n\t\tpattern: /`(?:\\\\\\\\|\\\\?[^\\\\])*?`/,\r\n\t\tgreedy: true,\r\n\t\tinside: {\r\n\t\t\t'interpolation': {\r\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\r\n\t\t\t\tinside: {\r\n\t\t\t\t\t'interpolation-punctuation': {\r\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\r\n\t\t\t\t\t\talias: 'punctuation'\r\n\t\t\t\t\t},\r\n\t\t\t\t\trest: Prism.languages.javascript\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'string': /[\\s\\S]+/\r\n\t\t}\r\n\t}\r\n});\r\n\r\nif (Prism.languages.markup) {\r\n\tPrism.languages.insertBefore('markup', 'tag', {\r\n\t\t'script': {\r\n\t\t\tpattern: /(<script[\\w\\W]*?>)[\\w\\W]*?(?=<\\/script>)/i,\r\n\t\t\tlookbehind: true,\r\n\t\t\tinside: Prism.languages.javascript,\r\n\t\t\talias: 'language-javascript'\r\n\t\t}\r\n\t});\r\n}\r\n\r\nPrism.languages.js = Prism.languages.javascript;\r\nPrism.languages.properties = {\r\n\t'comment': /^[ \\t]*[#!].*$/m,\r\n\t'attr-value': {\r\n\t\tpattern: /(^[ \\t]*(?:\\\\(?:\\r\\n|[\\s\\S])|[^\\\\\\s:=])+?(?: *[=:] *| ))(?:\\\\(?:\\r\\n|[\\s\\S])|.)+/m,\r\n\t\tlookbehind: true\r\n\t},\r\n\t'attr-name': /^[ \\t]*(?:\\\\(?:\\r\\n|[\\s\\S])|[^\\\\\\s:=])+?(?= *[ =:]| )/m,\r\n\t'punctuation': /[=:]/\r\n};\r\n(function(){\r\n\r\nif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\r\n\treturn;\r\n}\r\n\r\nfunction $$(expr, con) {\r\n\treturn Array.prototype.slice.call((con || document).querySelectorAll(expr));\r\n}\r\n\r\nfunction hasClass(element, className) {\r\n  className = \" \" + className + \" \";\r\n  return (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(className) > -1\r\n}\r\n\r\n// Some browsers round the line-height, others don't.\r\n// We need to test for it to position the elements properly.\r\nvar isLineHeightRounded = (function() {\r\n\tvar res;\r\n\treturn function() {\r\n\t\tif(typeof res === 'undefined') {\r\n\t\t\tvar d = document.createElement('div');\r\n\t\t\td.style.fontSize = '13px';\r\n\t\t\td.style.lineHeight = '1.5';\r\n\t\t\td.style.padding = 0;\r\n\t\t\td.style.border = 0;\r\n\t\t\td.innerHTML = '&nbsp;<br />&nbsp;';\r\n\t\t\tdocument.body.appendChild(d);\r\n\t\t\t// Browsers that round the line-height should have offsetHeight === 38\r\n\t\t\t// The others should have 39.\r\n\t\t\tres = d.offsetHeight === 38;\r\n\t\t\tdocument.body.removeChild(d);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n}());\r\n\r\nfunction highlightLines(pre, lines, classes) {\r\n\tvar ranges = lines.replace(/\\s+/g, '').split(','),\r\n\t    offset = +pre.getAttribute('data-line-offset') || 0;\r\n\r\n\tvar parseMethod = isLineHeightRounded() ? parseInt : parseFloat;\r\n\tvar lineHeight = parseMethod(getComputedStyle(pre).lineHeight);\r\n\r\n\tfor (var i=0, range; range = ranges[i++];) {\r\n\t\trange = range.split('-');\r\n\r\n\t\tvar start = +range[0],\r\n\t\t    end = +range[1] || start;\r\n\r\n\t\tvar line = document.createElement('div');\r\n\r\n\t\tline.textContent = Array(end - start + 2).join(' \\n');\r\n\t\tline.setAttribute('aria-hidden', 'true');\r\n\t\tline.className = (classes || '') + ' line-highlight';\r\n\r\n\t\t//if the line-numbers plugin is enabled, then there is no reason for this plugin to display the line numbers\r\n\t\tif(!hasClass(pre, 'line-numbers')) {\r\n\t\t\tline.setAttribute('data-start', start);\r\n\r\n\t\t\tif(end > start) {\r\n\t\t\t\tline.setAttribute('data-end', end);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tline.style.top = (start - offset - 1) * lineHeight + 'px';\r\n\r\n\t\t//allow this to play nicely with the line-numbers plugin\r\n\t\tif(hasClass(pre, 'line-numbers')) {\r\n\t\t\t//need to attack to pre as when line-numbers is enabled, the code tag is relatively which screws up the positioning\r\n\t\t\tpre.appendChild(line);\r\n\t\t} else {\r\n\t\t\t(pre.querySelector('code') || pre).appendChild(line);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyHash() {\r\n\tvar hash = location.hash.slice(1);\r\n\r\n\t// Remove pre-existing temporary lines\r\n\t$$('.temporary.line-highlight').forEach(function (line) {\r\n\t\tline.parentNode.removeChild(line);\r\n\t});\r\n\r\n\tvar range = (hash.match(/\\.([\\d,-]+)$/) || [,''])[1];\r\n\r\n\tif (!range || document.getElementById(hash)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar id = hash.slice(0, hash.lastIndexOf('.')),\r\n\t    pre = document.getElementById(id);\r\n\r\n\tif (!pre) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!pre.hasAttribute('data-line')) {\r\n\t\tpre.setAttribute('data-line', '');\r\n\t}\r\n\r\n\thighlightLines(pre, range, 'temporary ');\r\n\r\n\tdocument.querySelector('.temporary.line-highlight').scrollIntoView();\r\n}\r\n\r\nvar fakeTimer = 0; // Hack to limit the number of times applyHash() runs\r\n\r\nPrism.hooks.add('before-sanity-check', function(env) {\r\n\tvar pre = env.element.parentNode;\r\n\tvar lines = pre && pre.getAttribute('data-line');\r\n\r\n\tif (!pre || !lines || !/pre/i.test(pre.nodeName)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/*\r\n\t * Cleanup for other plugins (e.g. autoloader).\r\n\t *\r\n\t * Sometimes <code> blocks are highlighted multiple times. It is necessary\r\n\t * to cleanup any left-over tags, because the whitespace inside of the <div>\r\n\t * tags change the content of the <code> tag.\r\n\t */\r\n\tvar num = 0;\r\n\t$$('.line-highlight', pre).forEach(function (line) {\r\n\t\tnum += line.textContent.length;\r\n\t\tline.parentNode.removeChild(line);\r\n\t});\r\n\r\n\t// Remove extra whitespace\r\n\tif (num && /^( \\n)+$/.test(env.code.slice(-num))) {\r\n\t\tenv.code = env.code.slice(0, -num);\r\n\t}\r\n});\r\n\r\nPrism.hooks.add('complete', function(env) {\r\n\tvar pre = env.element.parentNode;\r\n\tvar lines = pre && pre.getAttribute('data-line');\r\n\r\n\tif (!pre || !lines || !/pre/i.test(pre.nodeName)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tclearTimeout(fakeTimer);\r\n\r\n\thighlightLines(pre, lines);\r\n\r\n\tfakeTimer = setTimeout(applyHash, 1);\r\n});\r\n\r\nif(window.addEventListener) {\r\n\twindow.addEventListener('hashchange', applyHash);\r\n}\r\n\r\n})();\r\n\r\n(function() {\r\n\r\nif (typeof self === 'undefined' || !self.Prism || !self.document) {\r\n\treturn;\r\n}\r\n\r\nPrism.hooks.add('complete', function (env) {\r\n\tif (!env.code) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// works only for <code> wrapped inside <pre> (not inline)\r\n\tvar pre = env.element.parentNode;\r\n\tvar clsReg = /\\s*\\bline-numbers\\b\\s*/;\r\n\tif (\r\n\t\t!pre || !/pre/i.test(pre.nodeName) ||\r\n\t\t\t// Abort only if nor the <pre> nor the <code> have the class\r\n\t\t(!clsReg.test(pre.className) && !clsReg.test(env.element.className))\r\n\t) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (env.element.querySelector(\".line-numbers-rows\")) {\r\n\t\t// Abort if line numbers already exists\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (clsReg.test(env.element.className)) {\r\n\t\t// Remove the class \"line-numbers\" from the <code>\r\n\t\tenv.element.className = env.element.className.replace(clsReg, '');\r\n\t}\r\n\tif (!clsReg.test(pre.className)) {\r\n\t\t// Add the class \"line-numbers\" to the <pre>\r\n\t\tpre.className += ' line-numbers';\r\n\t}\r\n\r\n\tvar match = env.code.match(/\\n(?!$)/g);\r\n\tvar linesNum = match ? match.length + 1 : 1;\r\n\tvar lineNumbersWrapper;\r\n\r\n\tvar lines = new Array(linesNum + 1);\r\n\tlines = lines.join('<span></span>');\r\n\r\n\tlineNumbersWrapper = document.createElement('span');\r\n\tlineNumbersWrapper.setAttribute('aria-hidden', 'true');\r\n\tlineNumbersWrapper.className = 'line-numbers-rows';\r\n\tlineNumbersWrapper.innerHTML = lines;\r\n\r\n\tif (pre.hasAttribute('data-start')) {\r\n\t\tpre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);\r\n\t}\r\n\r\n\tenv.element.appendChild(lineNumbersWrapper);\r\n\r\n});\r\n\r\n}());\r\n(function () {\r\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tself.Prism.fileHighlight = function() {\r\n\r\n\t\tvar Extensions = {\r\n\t\t\t'js': 'javascript',\r\n\t\t\t'py': 'python',\r\n\t\t\t'rb': 'ruby',\r\n\t\t\t'ps1': 'powershell',\r\n\t\t\t'psm1': 'powershell',\r\n\t\t\t'sh': 'bash',\r\n\t\t\t'bat': 'batch',\r\n\t\t\t'h': 'c',\r\n\t\t\t'tex': 'latex'\r\n\t\t};\r\n\r\n\t\tif(Array.prototype.forEach) { // Check to prevent error in IE8\r\n\t\t\tArray.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {\r\n\t\t\t\tvar src = pre.getAttribute('data-src');\r\n\r\n\t\t\t\tvar language, parent = pre;\r\n\t\t\t\tvar lang = /\\blang(?:uage)?-(?!\\*)(\\w+)\\b/i;\r\n\t\t\t\twhile (parent && !lang.test(parent.className)) {\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (parent) {\r\n\t\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!language) {\r\n\t\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\r\n\t\t\t\t\tlanguage = Extensions[extension] || extension;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar code = document.createElement('code');\r\n\t\t\t\tcode.className = 'language-' + language;\r\n\r\n\t\t\t\tpre.textContent = '';\r\n\r\n\t\t\t\tcode.textContent = 'Loading';\r\n\r\n\t\t\t\tpre.appendChild(code);\r\n\r\n\t\t\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\t\t\txhr.open('GET', src, true);\r\n\r\n\t\t\t\txhr.onreadystatechange = function () {\r\n\t\t\t\t\tif (xhr.readyState == 4) {\r\n\r\n\t\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\r\n\t\t\t\t\t\t\tcode.textContent = xhr.responseText;\r\n\r\n\t\t\t\t\t\t\tPrism.highlightElement(code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (xhr.status >= 400) {\r\n\t\t\t\t\t\t\tcode.textContent = ' Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tcode.textContent = ' Error: File does not exist or is empty';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\txhr.send(null);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//document.addEventListener('DOMContentLoaded', self.Prism.fileHighlight);\r\n\r\n})();\r\n\r\n","import journey from \"lib/journey/journey.js\";\r\nimport template from \"./home.html\";\r\nimport Ractive from \"Ractive.js\";\r\n\r\nvar home = {\r\n\r\n\t// this function is called when we enter the route\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\t// Create our view, and assign it to the route under the property 'view'.\r\n\t\troute.view = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template,\r\n\r\n\t\t\tt: function() {\r\n\t\t\t\tjourney.goto(\"/basic?a=1\");\r\n\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\tonrender: function() {\r\n\t\t\t\t// We want a funky intro for our text, so after 500ms we display the node with id='home-demo'\r\n\t\t\t\t// and add the class rollIn.\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t$('#home-demo').removeClass('invisible').addClass(\"rollIn\");\r\n\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\t// this function is called when we leave the route\r\n\tleave: function ( route, nextRoute, options ) {\r\n\r\n\t\t// Remove the view from the DOM\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default home;\r\n","import journey from \"lib/journey/journey\";\r\nimport template from \"./basic.html\";\r\nimport Ractive from \"Ractive.js\";\r\n\r\nvar basic = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = new Ractive( {\r\n\r\n\t\t\tel: options.target,\r\n\r\n\t\t\ttemplate: template,\r\n\r\n\t\t\treloadRoute: function () {\r\n\t\t\t\tjourney.goto( \"/basic\", {forceReload: true} );\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\treturn route.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default basic;\r\n","let session = {\n\n\tnavArgs: {}\n};\n\nexport default session;","import journey from \"lib/journey/journey\";\nimport Ractive from \"Ractive.js\";\nimport template from \"./nav.html\";\nimport session from \"./session.js\";\n\nvar nav = {\n\n\tenter: function ( route, prevRoute, options ) {\n\t\t/*%injectPath%*/\n\n\t\troute.view = new Ractive( {\n\t\t\tel: options.target,\n\t\t\ttemplate: template,\n\n\t\t\tgotoProduct: function ( ) {\n\t\t\t\tjourney.goto( '/product/2' );\n\t\t\t},\n\n\t\t\tgotoProductWithData: function ( index ) {\n\n\t\t\t\tvar data = { 'producsts': [ 'bed', 'chair', 'couch' ] };\n\t\t\t\tsession.data = data;\n\t\t\t\tjourney.goto( '/product/2?index=' + index );\n\t\t\t}\n\t\t} );\n\n\t},\n\n\tleave: function ( route, nextRoute ) {\n\t\troute.view.teardown();\n\t}\n};\n\nexport default nav;\n","import journey from \"lib/journey/journey\";\r\nimport template from \"./person.html\";\r\nimport Ractive from \"Ractive.js\";\r\n\r\nvar person = {\r\n\t\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\t\r\n\t\troute.view = new Ractive({\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template\r\n\t\t});\r\n\t},\r\n\t\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t\t\r\n\t}\r\n};\r\n\r\nexport default person\r\n\r\n\r\n","import journey from \"lib/journey/journey\";\r\nimport template from \"./product.html\";\r\nimport Ractive from \"Ractive.js\";\r\nimport session from \"./session.js\";\r\n\r\nvar product = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\r\n\t\troute.view = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template,\r\n\t\t\tdata: {\r\n\t\t\t\tparams: route.params,\r\n\t\t\t\tdata: session.data,\r\n\t\t\t\tquery: route.query\r\n\t\t\t},\r\n\t\t\tstart: function ( ) {\r\n\t\t\t\tjourney.goto( \"/basic\", { x: \"1234\" } );\r\n\t\t\t}\r\n\t\t} );\r\n\t\t\r\n\t\t// clear the session data, we already retrieved it\r\n\t\tsession.data = '';\r\n\t},\r\n\tleave: function ( route, nextRoute ) {\r\n\t\troute.view.teardown( );\r\n\t}\r\n};\r\n\r\nexport default product;","import template from  \"./notFound.html\";\r\nimport Ractive from \"Ractive.js\";\r\n\r\nvar notFound = {\r\n\r\n\tenter: function (route, prevRoute, options) {\r\n\t\t/*%injectPath%*/\r\n\t\t\r\n\t\troute.view = new Ractive({\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t},\r\n\t\r\n\tleave: function (route, nextRoute, options) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\nexport default notFound;\r\n\r\n","import journey from \"lib/journey/journey\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./redirect.html\";\r\n\r\nvar redirect = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\r\n\t\tif ( route.query.typeId == null ) {\r\n\r\n\t\t\t// if typeId is missing from query parameters, route users to the '/invalid' page.\r\n\t\t\t// It we don't want the URL to change to '/invalid', we can pass the 'invisible' property to goto()\r\n\t\t\t// Navigating to a new route during the enter phase of another route, would cause Journey to emit\r\n\t\t\t// 'routeAbuseStart' event because it detects the user is changing routes too quickly. However in this\r\n\t\t\t// case the user is not abusing routes, she is simply redirecting. By passing the property 'redirect'\r\n\t\t\t// Journey is notified this is a redirect and should not raise the 'routeAbuseStart' event.\r\n\t\t\tjourney.goto( \"/invalid\", { redirect: true, invisible: true });\r\n\t\t\treturn;\r\n\r\n\t\t} else {\r\n\r\n\t\t\troute.view = new Ractive( {\r\n\t\t\t\tel: options.target,\r\n\t\t\t\ttemplate: template\r\n\t\t\t} );\r\n\t\t}\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\tif ( route.view == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default redirect;\r\n","import journey from \"lib/journey/journey\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./invalid.html\";\r\n\r\nvar invalid = {\r\n\t\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\t\r\n\t\troute.view = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template\r\n\t\t} );\r\n\t},\r\n\t\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default invalid\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./basicForm.html\";\r\n\r\nvar basicForm = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = new Ractive( {\r\n\r\n\t\t\tel: options.target,\r\n\r\n\t\t\ttemplate: template,\r\n\r\n\t\t\tdata: {\r\n\t\t\t\tcheck: true\r\n\t\t\t},\r\n\r\n\t\t\tsubmit: function () {\r\n\t\t\t\t$( '.bs-callout-info' ).removeClass( 'hidden' );\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tresetData: function () {\r\n\t\t\t\t$( '.bs-callout-info' ).addClass( 'hidden' );\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default basicForm\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./basicPartial.html\";\r\nimport helloPartial from \"./partial.html\";\r\n\r\nvar basicPartial = {\r\n\t\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template,\r\n\t\t\tpartials: {hello: helloPartial}\r\n\t\t} );\r\n\t},\r\n\t\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default basicPartial;\r\n\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./child.html\";\r\n\r\nvar child = Ractive.extend( {\r\n\ttemplate: template,\r\n\tonrender: function () {\r\n\r\n\t\t// rowAdded and rowRemoved are public events that subscribers can listen to,\r\n\t\t// even the child component itself\r\n\t},\r\n\r\n\t// Here we subscribe to the remove event\r\n\tremoveRow: function ( ctx, id, index ) {\r\n\t\tvar row = this.get( 'rows' )[index];\r\n\t\t// The component can listen on the public remove event\r\n\t\tconsole.log( '[component] removeRow invoked with arguments: [id: ', id, '], [index: ', index, ']' );\r\n\t\tthis.splice( \"rows\", index, 1 );\r\n\t\tthis.fire( \"rowRemoved\", row );\r\n\t},\r\n\r\n\t// Unlike subscribing to the remove event, we declare an 'add' method\r\n\t// for the template to call and then 'fire' the public.addRow event\r\n\taddRow: function ( row ) {\r\n\t\tconsole.log( \"[component] addRow(row) method invoked wih arguments:\", row );\r\n\t\tthis.push( \"rows\", row );\r\n\t\tconsole.log( \"[component] firing 'rowAdded' event for subscribers, with arguments:\", row );\r\n\t\t// Fire event for listeners to act upon\r\n\t\tthis.fire( \"rowAdded\", row );\r\n\t}\r\n} );\r\n\r\nexport default child;\r\n","import journey from \"lib/journey/journey.js\";\r\nimport Ractive from \"Ractive.js\";\r\nimport template from \"./basicTransition.html\";\r\nimport fade from \"lib/fade.js\";\r\n\r\nvar basicTransition = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template, loadView: function () {\r\n\t\t\t\tjourney.goto( \"/basicTransition\", { forceReload: true } );\r\n\t\t\t},\r\n\t\t\ttransitions: {\r\n\t\t\t\tfade: fade\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\tleave: function ( route, nextRoute, options ) {\r\n\t\troute.view.teardown();\r\n\t}\r\n};\r\n\r\nexport default basicTransition;\r\n","import Ractive from \"Ractive.js\";\n\nvar sortableDecorator = (function ( global, factory ) {\n\n\t'use strict';\n\n\t// Common JS (i.e. browserify) environment\n\tif ( typeof module !== 'undefined' && module.exports && typeof require === 'function' ) {\n\t\tfactory( require( 'ractive' ) );\n\t}\n\n\t// AMD?\n\telse if ( typeof define === 'function' && define.amd ) {\n\t\tdefine([ 'ractive' ], factory );\n\t}\n\n\t// browser global\n\telse if ( Ractive ) {\n\t\tfactory( Ractive );\n\t}\n\n\telse {\n\t\tthrow new Error( 'Could not find Ractive! It must be loaded before the Ractive-decorators-sortable plugin' );\n\t}\n\n}( typeof window !== 'undefined' ? window : this, function ( Ractive ) {\n\n\t'use strict';\n\n\tvar sortable,\n\t\tsrc,\n\t\tdragstartHandler,\n\t\tdragenterHandler,\n\t\tremoveTargetClass,\n\t\tpreventDefault,\n\t\terrorMessage;\n\n\tsortable = function ( node ) {\n\t\tnode.draggable = true;\n\n\t\tnode.addEventListener( 'dragstart', dragstartHandler, false );\n\t\tnode.addEventListener( 'dragenter', dragenterHandler, false );\n\t\tnode.addEventListener( 'dragleave', removeTargetClass, false );\n\t\tnode.addEventListener( 'drop', removeTargetClass, false );\n\n\t\t// necessary to prevent animation where ghost element returns\n\t\t// to its (old) home\n\t\tnode.addEventListener( 'dragover', preventDefault, false );\n\n\t\treturn {\n\t\t\tteardown: function () {\n\t\t\t\tnode.removeEventListener( 'dragstart', dragstartHandler, false );\n\t\t\t\tnode.removeEventListener( 'dragenter', dragenterHandler, false );\n\t\t\t\tnode.removeEventListener( 'dragleave', removeTargetClass, false );\n\t\t\t\tnode.removeEventListener( 'drop', removeTargetClass, false );\n\t\t\t\tnode.removeEventListener( 'dragover', preventDefault, false );\n\t\t\t}\n\t\t};\n\t};\n\n\tsortable.targetClass = 'droptarget';\n\n\terrorMessage = 'The sortable decorator only works with elements that correspond to array members';\n\n\tdragstartHandler = function ( event ) {\n\t\tvar context = Ractive.getContext( this );\n\t\tsrc = context;\n\t\t\n\t\t// this decorator only works with array members!\n\t\tif ( !Array.isArray( context.get( '../' ) ) ) {\n\t\t\tthrow new Error( errorMessage );\n\t\t}\n\n\t\tevent.dataTransfer.setData( 'text', '' ); // enables dragging\n\t};\n\n\tdragenterHandler = function ( event ) {\n\t\tvar dest = Ractive.getContext( this );\n\t\t\n\t\tevent.dataTransfer.dropEffect = 'none';\n\n\t\t// If we strayed into someone else's territory, abort\n\t\tif ( dest.ractive.root !== src.ractive.root ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !Array.isArray( dest.get( '../' ) ) ) {\n\t\t\tthrow new Error( errorMessage );\n\t\t}\n\n\t\t// if we're dealing with a different array, abort\n\t\tif ( dest.get( '../' ) !== src.get( '../' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar srcIdx = src.get( '@index' ), destIdx = dest.get( '@index' );\n\t\tconsole.log(\"WTF\", destIdx)\n\t\t\n\t\tthis.classList.add( sortable.targetClass );\n\t\tevent.dataTransfer.dropEffect = 'move';\n\n\t\t// swizzle the array and tell ractive to update\n\t\tvar array = src.get( '../' );\n\t\t\t\n\t\tlet removedItem = array.splice( srcIdx, 1 )[0];\n\t\tarray.splice( destIdx, 0, removedItem );\n\t\tsrc.update( '../' );\n\t\t\n\t\t// dest is the new src\n\t\tsrc = dest;\n\t};\n\n\tremoveTargetClass = function () {\n\t\tthis.classList.remove( sortable.targetClass );\n\t};\n\n\tpreventDefault = function ( event ) { event.preventDefault(); };\n\n\tRactive.decorators.sortable = sortable;\n\n\treturn sortable;\n\n}));\n\n// Common JS (i.e. browserify) environment\nif ( typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = sortableDecorator;\n}\n","import journey from \"lib/journey/journey.js\";\r\nimport template from \"./sortable.html\";\r\nimport Ractive from \"Ractive.js\";\r\nimport \"lib/ractive-decorators-sortable.js\";\r\n\r\nvar sortable = {\r\n\r\n\tenter: function ( route, prevRoute, options ) {\r\n\t\t/*%injectPath%*/\r\n\t\troute.view = new Ractive( {\r\n\t\t\tel: options.target,\r\n\t\t\ttemplate: template,\r\n\t\t\tdata: {\r\n\t\t\t\tlist: [\r\n\t\t\t\t\t{ name: 'Firefox', icon: 'firefox_64x64.png' },\r\n\t\t\t\t\t{ name: 'Chrome', icon: 'chrome_64x64.png' },\r\n\t\t\t\t\t{ name: 'Safari', icon: 'safari_64x64.png' },\r\n\t\t\t\t\t{ name: 'Opera', icon: 'opera_64x64.png' },\r\n\t\t\t\t\t{ name: 'Maxthon', icon: 'maxthon_64x64.png' },\r\n\t\t\t\t\t{ name: 'Internet Explorer', icon: 'ie10_64x64.png' }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\tleave: function ( route, nextRoute ) {\r\n\t\troute.view.teardown( );\r\n\t}\r\n};\r\nexport default sortable;\r\n","import journey from \"lib/journey/journey.js\";\t\nimport home from \"../views/home/home.js\";\nimport basic from \"../views/basics/route/basic.js\";\nimport methods from \"../views/basics/methods/methods.js\";\nimport binding from \"../views/basics/binding/binding.js\";\nimport nav from \"../views/nav/nav.js\";\nimport person from \"../views/nav/person.js\";\nimport product from \"../views/nav/product.js\";\nimport notFound from \"../views/notfound/notFound.js\";\nimport redirect from \"../views/nav/redirect/redirect.js\";\nimport invalid from \"../views/nav/redirect/invalid.js\";\nimport basicForm from \"../views/forms/basic/basicForm.js\";\nimport validatingForm from \"../views/forms/validate/validatingForm.js\";\nimport events from \"../views/lifecycle/events/events.js\";\nimport basicAjax from \"../views/ajax/basic/basicAjax.js\";\nimport upload from \"../views/ajax/upload/upload.js\";\nimport basicPartial from \"../views/partial/basic/basicPartial.js\";\nimport basicComp from \"../views/comp/basic/basicComp.js\";\nimport dynamicComp from \"../views/comp/dynamic/dynamicComp.js\";\nimport compParent from \"../views/comp/dataflow/parent.js\";\nimport basicTransition from \"../views/transition/basic/basicTransition.js\";\nimport sortable from \"../views/decorator/sortable.js\";\n\njourney.add(\"/home\", home);\njourney.add(\"/basic\", basic);\njourney.add(\"/methods\", methods);\njourney.add(\"/binding\", binding);\njourney.add(\"/product/:id\", product);\t\njourney.add(\"/person\", person);\njourney.add(\"/redirect\", redirect);\njourney.add(\"/invalid\", invalid);\njourney.add(\"/nav\", nav);\njourney.add(\"/\", home);\njourney.add(\"/notFound\", notFound);\njourney.add(\"/basicForm\", basicForm);\njourney.add(\"/validatingForm\", validatingForm);\njourney.add(\"/events\", events);\njourney.add(\"/basicAjax\", basicAjax);\njourney.add(\"/upload\", upload);\njourney.add(\"/basicPartial\", basicPartial);\njourney.add(\"/basicComp\", basicComp);\njourney.add(\"/dynamicComp\", dynamicComp);\njourney.add(\"/compDataFlow\", compParent);\njourney.add(\"/basicTransition\", basicTransition);\njourney.add(\"/sortable\", sortable);\n","(function() {\r\n  var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,\r\n    __slice = [].slice,\r\n    __hasProp = {}.hasOwnProperty,\r\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\r\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\r\n\r\n  defaultOptions = {\r\n    catchupTime: 100,\r\n    initialRate: .03,\r\n    minTime: 250,\r\n    ghostTime: 100,\r\n    maxProgressPerFrame: 20,\r\n    easeFactor: 1.25,\r\n    startOnPageLoad: true,\r\n    restartOnPushState: true,\r\n    restartOnRequestAfter: 500,\r\n    target: 'body',\r\n    elements: {\r\n      checkInterval: 100,\r\n      selectors: ['body']\r\n    },\r\n    eventLag: {\r\n      minSamples: 10,\r\n      sampleCount: 3,\r\n      lagThreshold: 3\r\n    },\r\n    ajax: {\r\n      trackMethods: ['GET'],\r\n      trackWebSockets: true,\r\n      ignoreURLs: []\r\n    }\r\n  };\r\n\r\n  now = function() {\r\n    var _ref;\r\n    return (_ref = typeof performance !== \"undefined\" && performance !== null ? typeof performance.now === \"function\" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);\r\n  };\r\n\r\n  requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\r\n  cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\r\n\r\n  if (requestAnimationFrame == null) {\r\n    requestAnimationFrame = function(fn) {\r\n      return setTimeout(fn, 50);\r\n    };\r\n    cancelAnimationFrame = function(id) {\r\n      return clearTimeout(id);\r\n    };\r\n  }\r\n\r\n  runAnimation = function(fn) {\r\n    var last, tick;\r\n    last = now();\r\n    tick = function() {\r\n      var diff;\r\n      diff = now() - last;\r\n      if (diff >= 33) {\r\n        last = now();\r\n        return fn(diff, function() {\r\n          return requestAnimationFrame(tick);\r\n        });\r\n      } else {\r\n        return setTimeout(tick, 33 - diff);\r\n      }\r\n    };\r\n    return tick();\r\n  };\r\n\r\n  result = function() {\r\n    var args, key, obj;\r\n    obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\r\n    if (typeof obj[key] === 'function') {\r\n      return obj[key].apply(obj, args);\r\n    } else {\r\n      return obj[key];\r\n    }\r\n  };\r\n\r\n  extend = function() {\r\n    var key, out, source, sources, val, _i, _len;\r\n    out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n    for (_i = 0, _len = sources.length; _i < _len; _i++) {\r\n      source = sources[_i];\r\n      if (source) {\r\n        for (key in source) {\r\n          if (!__hasProp.call(source, key)) continue;\r\n          val = source[key];\r\n          if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {\r\n            extend(out[key], val);\r\n          } else {\r\n            out[key] = val;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n\r\n  avgAmplitude = function(arr) {\r\n    var count, sum, v, _i, _len;\r\n    sum = count = 0;\r\n    for (_i = 0, _len = arr.length; _i < _len; _i++) {\r\n      v = arr[_i];\r\n      sum += Math.abs(v);\r\n      count++;\r\n    }\r\n    return sum / count;\r\n  };\r\n\r\n  getFromDOM = function(key, json) {\r\n    var data, e, el;\r\n    if (key == null) {\r\n      key = 'options';\r\n    }\r\n    if (json == null) {\r\n      json = true;\r\n    }\r\n    el = document.querySelector(\"[data-pace-\" + key + \"]\");\r\n    if (!el) {\r\n      return;\r\n    }\r\n    data = el.getAttribute(\"data-pace-\" + key);\r\n    if (!json) {\r\n      return data;\r\n    }\r\n    try {\r\n      return JSON.parse(data);\r\n    } catch (_error) {\r\n      e = _error;\r\n      return typeof console !== \"undefined\" && console !== null ? console.error(\"Error parsing inline pace options\", e) : void 0;\r\n    }\r\n  };\r\n\r\n  Evented = (function() {\r\n    function Evented() {}\r\n\r\n    Evented.prototype.on = function(event, handler, ctx, once) {\r\n      var _base;\r\n      if (once == null) {\r\n        once = false;\r\n      }\r\n      if (this.bindings == null) {\r\n        this.bindings = {};\r\n      }\r\n      if ((_base = this.bindings)[event] == null) {\r\n        _base[event] = [];\r\n      }\r\n      return this.bindings[event].push({\r\n        handler: handler,\r\n        ctx: ctx,\r\n        once: once\r\n      });\r\n    };\r\n\r\n    Evented.prototype.once = function(event, handler, ctx) {\r\n      return this.on(event, handler, ctx, true);\r\n    };\r\n\r\n    Evented.prototype.off = function(event, handler) {\r\n      var i, _ref, _results;\r\n      if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {\r\n        return;\r\n      }\r\n      if (handler == null) {\r\n        return delete this.bindings[event];\r\n      } else {\r\n        i = 0;\r\n        _results = [];\r\n        while (i < this.bindings[event].length) {\r\n          if (this.bindings[event][i].handler === handler) {\r\n            _results.push(this.bindings[event].splice(i, 1));\r\n          } else {\r\n            _results.push(i++);\r\n          }\r\n        }\r\n        return _results;\r\n      }\r\n    };\r\n\r\n    Evented.prototype.trigger = function() {\r\n      var args, ctx, event, handler, i, once, _ref, _ref1, _results;\r\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n      if ((_ref = this.bindings) != null ? _ref[event] : void 0) {\r\n        i = 0;\r\n        _results = [];\r\n        while (i < this.bindings[event].length) {\r\n          _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;\r\n          handler.apply(ctx != null ? ctx : this, args);\r\n          if (once) {\r\n            _results.push(this.bindings[event].splice(i, 1));\r\n          } else {\r\n            _results.push(i++);\r\n          }\r\n        }\r\n        return _results;\r\n      }\r\n    };\r\n\r\n    return Evented;\r\n\r\n  })();\r\n\r\n  Pace = window.Pace || {};\r\n\r\n  window.Pace = Pace;\r\n\r\n  extend(Pace, Evented.prototype);\r\n\r\n  options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());\r\n\r\n  _ref = ['ajax', 'document', 'eventLag', 'elements'];\r\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n    source = _ref[_i];\r\n    if (options[source] === true) {\r\n      options[source] = defaultOptions[source];\r\n    }\r\n  }\r\n\r\n  NoTargetError = (function(_super) {\r\n    __extends(NoTargetError, _super);\r\n\r\n    function NoTargetError() {\r\n      _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);\r\n      return _ref1;\r\n    }\r\n\r\n    return NoTargetError;\r\n\r\n  })(Error);\r\n\r\n  Bar = (function() {\r\n    function Bar() {\r\n      this.progress = 0;\r\n    }\r\n\r\n    Bar.prototype.getElement = function() {\r\n      var targetElement;\r\n      if (this.el == null) {\r\n        targetElement = document.querySelector(options.target);\r\n        if (!targetElement) {\r\n          throw new NoTargetError;\r\n        }\r\n        this.el = document.createElement('div');\r\n        this.el.className = \"pace pace-active\";\r\n        document.body.className = document.body.className.replace(/pace-done/g, '');\r\n        document.body.className += ' pace-running';\r\n        this.el.innerHTML = '<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>';\r\n        if (targetElement.firstChild != null) {\r\n          targetElement.insertBefore(this.el, targetElement.firstChild);\r\n        } else {\r\n          targetElement.appendChild(this.el);\r\n        }\r\n      }\r\n      return this.el;\r\n    };\r\n\r\n    Bar.prototype.finish = function() {\r\n      var el;\r\n      el = this.getElement();\r\n      el.className = el.className.replace('pace-active', '');\r\n      el.className += ' pace-inactive';\r\n      document.body.className = document.body.className.replace('pace-running', '');\r\n      return document.body.className += ' pace-done';\r\n    };\r\n\r\n    Bar.prototype.update = function(prog) {\r\n      this.progress = prog;\r\n      return this.render();\r\n    };\r\n\r\n    Bar.prototype.destroy = function() {\r\n      try {\r\n        this.getElement().parentNode.removeChild(this.getElement());\r\n      } catch (_error) {\r\n        NoTargetError = _error;\r\n      }\r\n      return this.el = void 0;\r\n    };\r\n\r\n    Bar.prototype.render = function() {\r\n      var el, key, progressStr, transform, _j, _len1, _ref2;\r\n      if (document.querySelector(options.target) == null) {\r\n        return false;\r\n      }\r\n      el = this.getElement();\r\n      transform = \"translate3d(\" + this.progress + \"%, 0, 0)\";\r\n      _ref2 = ['webkitTransform', 'msTransform', 'transform'];\r\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n        key = _ref2[_j];\r\n        el.children[0].style[key] = transform;\r\n      }\r\n      if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {\r\n        el.children[0].setAttribute('data-progress-text', \"\" + (this.progress | 0) + \"%\");\r\n        if (this.progress >= 100) {\r\n          progressStr = '99';\r\n        } else {\r\n          progressStr = this.progress < 10 ? \"0\" : \"\";\r\n          progressStr += this.progress | 0;\r\n        }\r\n        el.children[0].setAttribute('data-progress', \"\" + progressStr);\r\n      }\r\n      return this.lastRenderedProgress = this.progress;\r\n    };\r\n\r\n    Bar.prototype.done = function() {\r\n      return this.progress >= 100;\r\n    };\r\n\r\n    return Bar;\r\n\r\n  })();\r\n\r\n  Events = (function() {\r\n    function Events() {\r\n      this.bindings = {};\r\n    }\r\n\r\n    Events.prototype.trigger = function(name, val) {\r\n      var binding, _j, _len1, _ref2, _results;\r\n      if (this.bindings[name] != null) {\r\n        _ref2 = this.bindings[name];\r\n        _results = [];\r\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n          binding = _ref2[_j];\r\n          _results.push(binding.call(this, val));\r\n        }\r\n        return _results;\r\n      }\r\n    };\r\n\r\n    Events.prototype.on = function(name, fn) {\r\n      var _base;\r\n      if ((_base = this.bindings)[name] == null) {\r\n        _base[name] = [];\r\n      }\r\n      return this.bindings[name].push(fn);\r\n    };\r\n\r\n    return Events;\r\n\r\n  })();\r\n\r\n  _XMLHttpRequest = window.XMLHttpRequest;\r\n\r\n  _XDomainRequest = window.XDomainRequest;\r\n\r\n  _WebSocket = window.WebSocket;\r\n\r\n  extendNative = function(to, from) {\r\n    var e, key, _results;\r\n    _results = [];\r\n    for (key in from.prototype) {\r\n      try {\r\n        if ((to[key] == null) && typeof from[key] !== 'function') {\r\n          if (typeof Object.defineProperty === 'function') {\r\n            _results.push(Object.defineProperty(to, key, {\r\n              get: function() {\r\n                return from.prototype[key];\r\n              },\r\n              configurable: true,\r\n              enumerable: true\r\n            }));\r\n          } else {\r\n            _results.push(to[key] = from.prototype[key]);\r\n          }\r\n        } else {\r\n          _results.push(void 0);\r\n        }\r\n      } catch (_error) {\r\n        e = _error;\r\n      }\r\n    }\r\n    return _results;\r\n  };\r\n\r\n  ignoreStack = [];\r\n\r\n  Pace.ignore = function() {\r\n    var args, fn, ret;\r\n    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n    ignoreStack.unshift('ignore');\r\n    ret = fn.apply(null, args);\r\n    ignoreStack.shift();\r\n    return ret;\r\n  };\r\n\r\n  Pace.track = function() {\r\n    var args, fn, ret;\r\n    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n    ignoreStack.unshift('track');\r\n    ret = fn.apply(null, args);\r\n    ignoreStack.shift();\r\n    return ret;\r\n  };\r\n\r\n  shouldTrack = function(method) {\r\n    var _ref2;\r\n    if (method == null) {\r\n      method = 'GET';\r\n    }\r\n    if (ignoreStack[0] === 'track') {\r\n      return 'force';\r\n    }\r\n    if (!ignoreStack.length && options.ajax) {\r\n      if (method === 'socket' && options.ajax.trackWebSockets) {\r\n        return true;\r\n      } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  RequestIntercept = (function(_super) {\r\n    __extends(RequestIntercept, _super);\r\n\r\n    function RequestIntercept() {\r\n      var monitorXHR,\r\n        _this = this;\r\n      RequestIntercept.__super__.constructor.apply(this, arguments);\r\n      monitorXHR = function(req) {\r\n        var _open;\r\n        _open = req.open;\r\n        return req.open = function(type, url, async) {\r\n          if (shouldTrack(type)) {\r\n            _this.trigger('request', {\r\n              type: type,\r\n              url: url,\r\n              request: req\r\n            });\r\n          }\r\n          return _open.apply(req, arguments);\r\n        };\r\n      };\r\n      window.XMLHttpRequest = function(flags) {\r\n        var req;\r\n        req = new _XMLHttpRequest(flags);\r\n        monitorXHR(req);\r\n        return req;\r\n      };\r\n      try {\r\n        extendNative(window.XMLHttpRequest, _XMLHttpRequest);\r\n      } catch (_error) {}\r\n      if (_XDomainRequest != null) {\r\n        window.XDomainRequest = function() {\r\n          var req;\r\n          req = new _XDomainRequest;\r\n          monitorXHR(req);\r\n          return req;\r\n        };\r\n        try {\r\n          extendNative(window.XDomainRequest, _XDomainRequest);\r\n        } catch (_error) {}\r\n      }\r\n      if ((_WebSocket != null) && options.ajax.trackWebSockets) {\r\n        window.WebSocket = function(url, protocols) {\r\n          var req;\r\n          if (protocols != null) {\r\n            req = new _WebSocket(url, protocols);\r\n          } else {\r\n            req = new _WebSocket(url);\r\n          }\r\n          if (shouldTrack('socket')) {\r\n            _this.trigger('request', {\r\n              type: 'socket',\r\n              url: url,\r\n              protocols: protocols,\r\n              request: req\r\n            });\r\n          }\r\n          return req;\r\n        };\r\n        try {\r\n          extendNative(window.WebSocket, _WebSocket);\r\n        } catch (_error) {}\r\n      }\r\n    }\r\n\r\n    return RequestIntercept;\r\n\r\n  })(Events);\r\n\r\n  _intercept = null;\r\n\r\n  getIntercept = function() {\r\n    if (_intercept == null) {\r\n      _intercept = new RequestIntercept;\r\n    }\r\n    return _intercept;\r\n  };\r\n\r\n  shouldIgnoreURL = function(url) {\r\n    var pattern, _j, _len1, _ref2;\r\n    _ref2 = options.ajax.ignoreURLs;\r\n    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n      pattern = _ref2[_j];\r\n      if (typeof pattern === 'string') {\r\n        if (url.indexOf(pattern) !== -1) {\r\n          return true;\r\n        }\r\n      } else {\r\n        if (pattern.test(url)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  getIntercept().on('request', function(_arg) {\r\n    var after, args, request, type, url;\r\n    type = _arg.type, request = _arg.request, url = _arg.url;\r\n    if (shouldIgnoreURL(url)) {\r\n      return;\r\n    }\r\n    if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {\r\n      args = arguments;\r\n      after = options.restartOnRequestAfter || 0;\r\n      if (typeof after === 'boolean') {\r\n        after = 0;\r\n      }\r\n      return setTimeout(function() {\r\n        var stillActive, _j, _len1, _ref2, _ref3, _results;\r\n        if (type === 'socket') {\r\n          stillActive = request.readyState < 2;\r\n        } else {\r\n          stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);\r\n        }\r\n        if (stillActive) {\r\n          Pace.restart();\r\n          _ref3 = Pace.sources;\r\n          _results = [];\r\n          for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\r\n            source = _ref3[_j];\r\n            if (source instanceof AjaxMonitor) {\r\n              source.watch.apply(source, args);\r\n              break;\r\n            } else {\r\n              _results.push(void 0);\r\n            }\r\n          }\r\n          return _results;\r\n        }\r\n      }, after);\r\n    }\r\n  });\r\n\r\n  AjaxMonitor = (function() {\r\n    function AjaxMonitor() {\r\n      var _this = this;\r\n      this.elements = [];\r\n      getIntercept().on('request', function() {\r\n        return _this.watch.apply(_this, arguments);\r\n      });\r\n    }\r\n\r\n    AjaxMonitor.prototype.watch = function(_arg) {\r\n      var request, tracker, type, url;\r\n      type = _arg.type, request = _arg.request, url = _arg.url;\r\n      if (shouldIgnoreURL(url)) {\r\n        return;\r\n      }\r\n      if (type === 'socket') {\r\n        tracker = new SocketRequestTracker(request);\r\n      } else {\r\n        tracker = new XHRRequestTracker(request);\r\n      }\r\n      return this.elements.push(tracker);\r\n    };\r\n\r\n    return AjaxMonitor;\r\n\r\n  })();\r\n\r\n  XHRRequestTracker = (function() {\r\n    function XHRRequestTracker(request) {\r\n      var event, size, _j, _len1, _onreadystatechange, _ref2,\r\n        _this = this;\r\n      this.progress = 0;\r\n      if (window.ProgressEvent != null) {\r\n        size = null;\r\n        request.addEventListener('progress', function(evt) {\r\n          if (evt.lengthComputable) {\r\n            return _this.progress = 100 * evt.loaded / evt.total;\r\n          } else {\r\n            return _this.progress = _this.progress + (100 - _this.progress) / 2;\r\n          }\r\n        }, false);\r\n        _ref2 = ['load', 'abort', 'timeout', 'error'];\r\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n          event = _ref2[_j];\r\n          request.addEventListener(event, function() {\r\n            return _this.progress = 100;\r\n          }, false);\r\n        }\r\n      } else {\r\n        _onreadystatechange = request.onreadystatechange;\r\n        request.onreadystatechange = function() {\r\n          var _ref3;\r\n          if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {\r\n            _this.progress = 100;\r\n          } else if (request.readyState === 3) {\r\n            _this.progress = 50;\r\n          }\r\n          return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\r\n        };\r\n      }\r\n    }\r\n\r\n    return XHRRequestTracker;\r\n\r\n  })();\r\n\r\n  SocketRequestTracker = (function() {\r\n    function SocketRequestTracker(request) {\r\n      var event, _j, _len1, _ref2,\r\n        _this = this;\r\n      this.progress = 0;\r\n      _ref2 = ['error', 'open'];\r\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n        event = _ref2[_j];\r\n        request.addEventListener(event, function() {\r\n          return _this.progress = 100;\r\n        }, false);\r\n      }\r\n    }\r\n\r\n    return SocketRequestTracker;\r\n\r\n  })();\r\n\r\n  ElementMonitor = (function() {\r\n    function ElementMonitor(options) {\r\n      var selector, _j, _len1, _ref2;\r\n      if (options == null) {\r\n        options = {};\r\n      }\r\n      this.elements = [];\r\n      if (options.selectors == null) {\r\n        options.selectors = [];\r\n      }\r\n      _ref2 = options.selectors;\r\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n        selector = _ref2[_j];\r\n        this.elements.push(new ElementTracker(selector));\r\n      }\r\n    }\r\n\r\n    return ElementMonitor;\r\n\r\n  })();\r\n\r\n  ElementTracker = (function() {\r\n    function ElementTracker(selector) {\r\n      this.selector = selector;\r\n      this.progress = 0;\r\n      this.check();\r\n    }\r\n\r\n    ElementTracker.prototype.check = function() {\r\n      var _this = this;\r\n      if (document.querySelector(this.selector)) {\r\n        return this.done();\r\n      } else {\r\n        return setTimeout((function() {\r\n          return _this.check();\r\n        }), options.elements.checkInterval);\r\n      }\r\n    };\r\n\r\n    ElementTracker.prototype.done = function() {\r\n      return this.progress = 100;\r\n    };\r\n\r\n    return ElementTracker;\r\n\r\n  })();\r\n\r\n  DocumentMonitor = (function() {\r\n    DocumentMonitor.prototype.states = {\r\n      loading: 0,\r\n      interactive: 50,\r\n      complete: 100\r\n    };\r\n\r\n    function DocumentMonitor() {\r\n      var _onreadystatechange, _ref2,\r\n        _this = this;\r\n      this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;\r\n      _onreadystatechange = document.onreadystatechange;\r\n      document.onreadystatechange = function() {\r\n        if (_this.states[document.readyState] != null) {\r\n          _this.progress = _this.states[document.readyState];\r\n        }\r\n        return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\r\n      };\r\n    }\r\n\r\n    return DocumentMonitor;\r\n\r\n  })();\r\n\r\n  EventLagMonitor = (function() {\r\n    function EventLagMonitor() {\r\n      var avg, interval, last, points, samples,\r\n        _this = this;\r\n      this.progress = 0;\r\n      avg = 0;\r\n      samples = [];\r\n      points = 0;\r\n      last = now();\r\n      interval = setInterval(function() {\r\n        var diff;\r\n        diff = now() - last - 50;\r\n        last = now();\r\n        samples.push(diff);\r\n        if (samples.length > options.eventLag.sampleCount) {\r\n          samples.shift();\r\n        }\r\n        avg = avgAmplitude(samples);\r\n        if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {\r\n          _this.progress = 100;\r\n          return clearInterval(interval);\r\n        } else {\r\n          return _this.progress = 100 * (3 / (avg + 3));\r\n        }\r\n      }, 50);\r\n    }\r\n\r\n    return EventLagMonitor;\r\n\r\n  })();\r\n\r\n  Scaler = (function() {\r\n    function Scaler(source) {\r\n      this.source = source;\r\n      this.last = this.sinceLastUpdate = 0;\r\n      this.rate = options.initialRate;\r\n      this.catchup = 0;\r\n      this.progress = this.lastProgress = 0;\r\n      if (this.source != null) {\r\n        this.progress = result(this.source, 'progress');\r\n      }\r\n    }\r\n\r\n    Scaler.prototype.tick = function(frameTime, val) {\r\n      var scaling;\r\n      if (val == null) {\r\n        val = result(this.source, 'progress');\r\n      }\r\n      if (val >= 100) {\r\n        this.done = true;\r\n      }\r\n      if (val === this.last) {\r\n        this.sinceLastUpdate += frameTime;\r\n      } else {\r\n        if (this.sinceLastUpdate) {\r\n          this.rate = (val - this.last) / this.sinceLastUpdate;\r\n        }\r\n        this.catchup = (val - this.progress) / options.catchupTime;\r\n        this.sinceLastUpdate = 0;\r\n        this.last = val;\r\n      }\r\n      if (val > this.progress) {\r\n        this.progress += this.catchup * frameTime;\r\n      }\r\n      scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);\r\n      this.progress += scaling * this.rate * frameTime;\r\n      this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);\r\n      this.progress = Math.max(0, this.progress);\r\n      this.progress = Math.min(100, this.progress);\r\n      this.lastProgress = this.progress;\r\n      return this.progress;\r\n    };\r\n\r\n    return Scaler;\r\n\r\n  })();\r\n\r\n  sources = null;\r\n\r\n  scalers = null;\r\n\r\n  bar = null;\r\n\r\n  uniScaler = null;\r\n\r\n  animation = null;\r\n\r\n  cancelAnimation = null;\r\n\r\n  Pace.running = false;\r\n\r\n  handlePushState = function() {\r\n    if (options.restartOnPushState) {\r\n      return Pace.restart();\r\n    }\r\n  };\r\n\r\n  if (window.history.pushState != null) {\r\n    _pushState = window.history.pushState;\r\n    window.history.pushState = function() {\r\n      handlePushState();\r\n      return _pushState.apply(window.history, arguments);\r\n    };\r\n  }\r\n\r\n  if (window.history.replaceState != null) {\r\n    _replaceState = window.history.replaceState;\r\n    window.history.replaceState = function() {\r\n      handlePushState();\r\n      return _replaceState.apply(window.history, arguments);\r\n    };\r\n  }\r\n\r\n  SOURCE_KEYS = {\r\n    ajax: AjaxMonitor,\r\n    elements: ElementMonitor,\r\n    document: DocumentMonitor,\r\n    eventLag: EventLagMonitor\r\n  };\r\n\r\n  (init = function() {\r\n    var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;\r\n    Pace.sources = sources = [];\r\n    _ref2 = ['ajax', 'elements', 'document', 'eventLag'];\r\n    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n      type = _ref2[_j];\r\n      if (options[type] !== false) {\r\n        sources.push(new SOURCE_KEYS[type](options[type]));\r\n      }\r\n    }\r\n    _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];\r\n    for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\r\n      source = _ref4[_k];\r\n      sources.push(new source(options));\r\n    }\r\n    Pace.bar = bar = new Bar;\r\n    scalers = [];\r\n    return uniScaler = new Scaler;\r\n  })();\r\n\r\n  Pace.stop = function() {\r\n    Pace.trigger('stop');\r\n    Pace.running = false;\r\n    bar.destroy();\r\n    cancelAnimation = true;\r\n    if (animation != null) {\r\n      if (typeof cancelAnimationFrame === \"function\") {\r\n        cancelAnimationFrame(animation);\r\n      }\r\n      animation = null;\r\n    }\r\n    return init();\r\n  };\r\n\r\n  Pace.restart = function() {\r\n    Pace.trigger('restart');\r\n    Pace.stop();\r\n    return Pace.start();\r\n  };\r\n\r\n  Pace.go = function() {\r\n    var start;\r\n    Pace.running = true;\r\n    bar.render();\r\n    start = now();\r\n    cancelAnimation = false;\r\n    return animation = runAnimation(function(frameTime, enqueueNextFrame) {\r\n      var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;\r\n      remaining = 100 - bar.progress;\r\n      count = sum = 0;\r\n      done = true;\r\n      for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {\r\n        source = sources[i];\r\n        scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];\r\n        elements = (_ref2 = source.elements) != null ? _ref2 : [source];\r\n        for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {\r\n          element = elements[j];\r\n          scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);\r\n          done &= scaler.done;\r\n          if (scaler.done) {\r\n            continue;\r\n          }\r\n          count++;\r\n          sum += scaler.tick(frameTime);\r\n        }\r\n      }\r\n      avg = sum / count;\r\n      bar.update(uniScaler.tick(frameTime, avg));\r\n      if (bar.done() || done || cancelAnimation) {\r\n        bar.update(100);\r\n        Pace.trigger('done');\r\n        return setTimeout(function() {\r\n          bar.finish();\r\n          Pace.running = false;\r\n          return Pace.trigger('hide');\r\n        }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));\r\n      } else {\r\n        return enqueueNextFrame();\r\n      }\r\n    });\r\n  };\r\n\r\n  Pace.start = function(_options) {\r\n    extend(options, _options);\r\n    Pace.running = true;\r\n    try {\r\n      bar.render();\r\n    } catch (_error) {\r\n      NoTargetError = _error;\r\n    }\r\n    if (!document.querySelector('.pace')) {\r\n      return setTimeout(Pace.start, 50);\r\n    } else {\r\n      Pace.trigger('start');\r\n      return Pace.go();\r\n    }\r\n  };\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(['pace'], function() {\r\n      return Pace;\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = Pace;\r\n  } else {\r\n    if (options.startOnPageLoad) {\r\n      Pace.start();\r\n    }\r\n  }\r\n\r\n}).call(this);","import journey from 'lib/journey/journey.js';\r\nimport 'lib/pace.js';\r\nimport template from './menu.html';\r\nimport Ractive from 'Ractive.js';\r\nimport sidePanel from '../panel/side-panel/sidePanel.js';\r\nimport menuSlider from './menuSlider.js';\r\n\r\nlet sidePanelObj;\r\n\r\nvar menu = {\r\n\tinit: function(options) {\r\n\t\t// Create menu view instance\r\n\t\tnew Ractive({\r\n\t\t\tel: options.target,\r\n\r\n\t\t\ttemplate: template,\r\n\r\n\t\t\tgotoEvents: function(e) {\r\n\t\t\t\tjourney.goto('/events');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t},\r\n\r\n\t\t\tshowJavascript: function(routeName) {\r\n\t\t\t\tsidePanelObj.show({\r\n\t\t\t\t\text: 'js',\r\n\t\t\t\t});\r\n\t\t\t\t// Cancel the click event by returning false, otherwise the link function would execute ie. follow the link href\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tshowHtml: function(routeName) {\r\n\t\t\t\tsidePanelObj.show({\r\n\t\t\t\t\text: 'html',\r\n\t\t\t\t});\r\n\t\t\t\t// Cancel the click event by returning false, otherwise the link function would execute ie. follow the link href\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// Create sidePanel instance\r\n\r\n\t\tsidePanelObj = sidePanel('#side-panel');\r\n\r\n\t\t// Add highlighting slider to menu\r\n\t\tmenuSlider.init({ fallbackMenu: options.fallbackMenu });\r\n\r\n\t\tPace.stop();\r\n\r\n\t\tjourney.on('entered', () => {\r\n\t\t\tPace.stop();\r\n\t\t});\r\n\t},\r\n\r\n\tupdateSlider: selector => {\r\n\t\tlet $li = $(selector);\r\n\t\tmenuSlider.updateSlider($li);\r\n\t},\r\n};\r\n\r\nexport default menu;\r\n","/*!\r\n * Bootstrap v3.3.7 (http://getbootstrap.com)\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under the MIT license\r\n */\r\n\r\nif (typeof jQuery === 'undefined') {\r\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\r\n}\r\n\r\n+function ($) {\r\n  'use strict';\r\n  var version = $.fn.jquery.split(' ')[0].split('.')\r\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1) || (version[0] > 3)) {\r\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4')\r\n  }\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: transition.js v3.3.7\r\n * http://getbootstrap.com/javascript/#transitions\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\r\n  // ============================================================\r\n\r\n  function transitionEnd() {\r\n    var el = document.createElement('bootstrap')\r\n\r\n    var transEndEventNames = {\r\n      WebkitTransition : 'webkitTransitionEnd',\r\n      MozTransition    : 'transitionend',\r\n      OTransition      : 'oTransitionEnd otransitionend',\r\n      transition       : 'transitionend'\r\n    }\r\n\r\n    for (var name in transEndEventNames) {\r\n      if (el.style[name] !== undefined) {\r\n        return { end: transEndEventNames[name] }\r\n      }\r\n    }\r\n\r\n    return false // explicit for ie8 (  ._.)\r\n  }\r\n\r\n  // http://blog.alexmaccaw.com/css-transitions\r\n  $.fn.emulateTransitionEnd = function (duration) {\r\n    var called = false\r\n    var $el = this\r\n    $(this).one('bsTransitionEnd', function () { called = true })\r\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\r\n    setTimeout(callback, duration)\r\n    return this\r\n  }\r\n\r\n  $(function () {\r\n    $.support.transition = transitionEnd()\r\n\r\n    if (!$.support.transition) return\r\n\r\n    $.event.special.bsTransitionEnd = {\r\n      bindType: $.support.transition.end,\r\n      delegateType: $.support.transition.end,\r\n      handle: function (e) {\r\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\r\n      }\r\n    }\r\n  })\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: alert.js v3.3.7\r\n * http://getbootstrap.com/javascript/#alerts\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // ALERT CLASS DEFINITION\r\n  // ======================\r\n\r\n  var dismiss = '[data-dismiss=\"alert\"]'\r\n  var Alert   = function (el) {\r\n    $(el).on('click', dismiss, this.close)\r\n  }\r\n\r\n  Alert.VERSION = '3.3.7'\r\n\r\n  Alert.TRANSITION_DURATION = 150\r\n\r\n  Alert.prototype.close = function (e) {\r\n    var $this    = $(this)\r\n    var selector = $this.attr('data-target')\r\n\r\n    if (!selector) {\r\n      selector = $this.attr('href')\r\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\r\n    }\r\n\r\n    var $parent = $(selector === '#' ? [] : selector)\r\n\r\n    if (e) e.preventDefault()\r\n\r\n    if (!$parent.length) {\r\n      $parent = $this.closest('.alert')\r\n    }\r\n\r\n    $parent.trigger(e = $.Event('close.bs.alert'))\r\n\r\n    if (e.isDefaultPrevented()) return\r\n\r\n    $parent.removeClass('in')\r\n\r\n    function removeElement() {\r\n      // detach from parent, fire event then clean up data\r\n      $parent.detach().trigger('closed.bs.alert').remove()\r\n    }\r\n\r\n    $.support.transition && $parent.hasClass('fade') ?\r\n      $parent\r\n        .one('bsTransitionEnd', removeElement)\r\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\r\n      removeElement()\r\n  }\r\n\r\n\r\n  // ALERT PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n      var data  = $this.data('bs.alert')\r\n\r\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\r\n      if (typeof option == 'string') data[option].call($this)\r\n    })\r\n  }\r\n\r\n  var old = $.fn.alert\r\n\r\n  $.fn.alert             = Plugin\r\n  $.fn.alert.Constructor = Alert\r\n\r\n\r\n  // ALERT NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.alert.noConflict = function () {\r\n    $.fn.alert = old\r\n    return this\r\n  }\r\n\r\n\r\n  // ALERT DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: button.js v3.3.7\r\n * http://getbootstrap.com/javascript/#buttons\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // BUTTON PUBLIC CLASS DEFINITION\r\n  // ==============================\r\n\r\n  var Button = function (element, options) {\r\n    this.$element  = $(element)\r\n    this.options   = $.extend({}, Button.DEFAULTS, options)\r\n    this.isLoading = false\r\n  }\r\n\r\n  Button.VERSION  = '3.3.7'\r\n\r\n  Button.DEFAULTS = {\r\n    loadingText: 'loading...'\r\n  }\r\n\r\n  Button.prototype.setState = function (state) {\r\n    var d    = 'disabled'\r\n    var $el  = this.$element\r\n    var val  = $el.is('input') ? 'val' : 'html'\r\n    var data = $el.data()\r\n\r\n    state += 'Text'\r\n\r\n    if (data.resetText == null) $el.data('resetText', $el[val]())\r\n\r\n    // push to event loop to allow forms to submit\r\n    setTimeout($.proxy(function () {\r\n      $el[val](data[state] == null ? this.options[state] : data[state])\r\n\r\n      if (state == 'loadingText') {\r\n        this.isLoading = true\r\n        $el.addClass(d).attr(d, d).prop(d, true)\r\n      } else if (this.isLoading) {\r\n        this.isLoading = false\r\n        $el.removeClass(d).removeAttr(d).prop(d, false)\r\n      }\r\n    }, this), 0)\r\n  }\r\n\r\n  Button.prototype.toggle = function () {\r\n    var changed = true\r\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\r\n\r\n    if ($parent.length) {\r\n      var $input = this.$element.find('input')\r\n      if ($input.prop('type') == 'radio') {\r\n        if ($input.prop('checked')) changed = false\r\n        $parent.find('.active').removeClass('active')\r\n        this.$element.addClass('active')\r\n      } else if ($input.prop('type') == 'checkbox') {\r\n        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false\r\n        this.$element.toggleClass('active')\r\n      }\r\n      $input.prop('checked', this.$element.hasClass('active'))\r\n      if (changed) $input.trigger('change')\r\n    } else {\r\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\r\n      this.$element.toggleClass('active')\r\n    }\r\n  }\r\n\r\n\r\n  // BUTTON PLUGIN DEFINITION\r\n  // ========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.button')\r\n      var options = typeof option == 'object' && option\r\n\r\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\r\n\r\n      if (option == 'toggle') data.toggle()\r\n      else if (option) data.setState(option)\r\n    })\r\n  }\r\n\r\n  var old = $.fn.button\r\n\r\n  $.fn.button             = Plugin\r\n  $.fn.button.Constructor = Button\r\n\r\n\r\n  // BUTTON NO CONFLICT\r\n  // ==================\r\n\r\n  $.fn.button.noConflict = function () {\r\n    $.fn.button = old\r\n    return this\r\n  }\r\n\r\n\r\n  // BUTTON DATA-API\r\n  // ===============\r\n\r\n  $(document)\r\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\r\n      var $btn = $(e.target).closest('.btn')\r\n      Plugin.call($btn, 'toggle')\r\n      if (!($(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]'))) {\r\n        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes\r\n        e.preventDefault()\r\n        // The target component still receive the focus\r\n        if ($btn.is('input,button')) $btn.trigger('focus')\r\n        else $btn.find('input:visible,button:visible').first().trigger('focus')\r\n      }\r\n    })\r\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\r\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\r\n    })\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: carousel.js v3.3.7\r\n * http://getbootstrap.com/javascript/#carousel\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // CAROUSEL CLASS DEFINITION\r\n  // =========================\r\n\r\n  var Carousel = function (element, options) {\r\n    this.$element    = $(element)\r\n    this.$indicators = this.$element.find('.carousel-indicators')\r\n    this.options     = options\r\n    this.paused      = null\r\n    this.sliding     = null\r\n    this.interval    = null\r\n    this.$active     = null\r\n    this.$items      = null\r\n\r\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\r\n\r\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\r\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\r\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\r\n  }\r\n\r\n  Carousel.VERSION  = '3.3.7'\r\n\r\n  Carousel.TRANSITION_DURATION = 600\r\n\r\n  Carousel.DEFAULTS = {\r\n    interval: 5000,\r\n    pause: 'hover',\r\n    wrap: true,\r\n    keyboard: true\r\n  }\r\n\r\n  Carousel.prototype.keydown = function (e) {\r\n    if (/input|textarea/i.test(e.target.tagName)) return\r\n    switch (e.which) {\r\n      case 37: this.prev(); break\r\n      case 39: this.next(); break\r\n      default: return\r\n    }\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  Carousel.prototype.cycle = function (e) {\r\n    e || (this.paused = false)\r\n\r\n    this.interval && clearInterval(this.interval)\r\n\r\n    this.options.interval\r\n      && !this.paused\r\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\r\n\r\n    return this\r\n  }\r\n\r\n  Carousel.prototype.getItemIndex = function (item) {\r\n    this.$items = item.parent().children('.item')\r\n    return this.$items.index(item || this.$active)\r\n  }\r\n\r\n  Carousel.prototype.getItemForDirection = function (direction, active) {\r\n    var activeIndex = this.getItemIndex(active)\r\n    var willWrap = (direction == 'prev' && activeIndex === 0)\r\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\r\n    if (willWrap && !this.options.wrap) return active\r\n    var delta = direction == 'prev' ? -1 : 1\r\n    var itemIndex = (activeIndex + delta) % this.$items.length\r\n    return this.$items.eq(itemIndex)\r\n  }\r\n\r\n  Carousel.prototype.to = function (pos) {\r\n    var that        = this\r\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\r\n\r\n    if (pos > (this.$items.length - 1) || pos < 0) return\r\n\r\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\r\n    if (activeIndex == pos) return this.pause().cycle()\r\n\r\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\r\n  }\r\n\r\n  Carousel.prototype.pause = function (e) {\r\n    e || (this.paused = true)\r\n\r\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\r\n      this.$element.trigger($.support.transition.end)\r\n      this.cycle(true)\r\n    }\r\n\r\n    this.interval = clearInterval(this.interval)\r\n\r\n    return this\r\n  }\r\n\r\n  Carousel.prototype.next = function () {\r\n    if (this.sliding) return\r\n    return this.slide('next')\r\n  }\r\n\r\n  Carousel.prototype.prev = function () {\r\n    if (this.sliding) return\r\n    return this.slide('prev')\r\n  }\r\n\r\n  Carousel.prototype.slide = function (type, next) {\r\n    var $active   = this.$element.find('.item.active')\r\n    var $next     = next || this.getItemForDirection(type, $active)\r\n    var isCycling = this.interval\r\n    var direction = type == 'next' ? 'left' : 'right'\r\n    var that      = this\r\n\r\n    if ($next.hasClass('active')) return (this.sliding = false)\r\n\r\n    var relatedTarget = $next[0]\r\n    var slideEvent = $.Event('slide.bs.carousel', {\r\n      relatedTarget: relatedTarget,\r\n      direction: direction\r\n    })\r\n    this.$element.trigger(slideEvent)\r\n    if (slideEvent.isDefaultPrevented()) return\r\n\r\n    this.sliding = true\r\n\r\n    isCycling && this.pause()\r\n\r\n    if (this.$indicators.length) {\r\n      this.$indicators.find('.active').removeClass('active')\r\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\r\n      $nextIndicator && $nextIndicator.addClass('active')\r\n    }\r\n\r\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\r\n    if ($.support.transition && this.$element.hasClass('slide')) {\r\n      $next.addClass(type)\r\n      $next[0].offsetWidth // force reflow\r\n      $active.addClass(direction)\r\n      $next.addClass(direction)\r\n      $active\r\n        .one('bsTransitionEnd', function () {\r\n          $next.removeClass([type, direction].join(' ')).addClass('active')\r\n          $active.removeClass(['active', direction].join(' '))\r\n          that.sliding = false\r\n          setTimeout(function () {\r\n            that.$element.trigger(slidEvent)\r\n          }, 0)\r\n        })\r\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\r\n    } else {\r\n      $active.removeClass('active')\r\n      $next.addClass('active')\r\n      this.sliding = false\r\n      this.$element.trigger(slidEvent)\r\n    }\r\n\r\n    isCycling && this.cycle()\r\n\r\n    return this\r\n  }\r\n\r\n\r\n  // CAROUSEL PLUGIN DEFINITION\r\n  // ==========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.carousel')\r\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\r\n      var action  = typeof option == 'string' ? option : options.slide\r\n\r\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\r\n      if (typeof option == 'number') data.to(option)\r\n      else if (action) data[action]()\r\n      else if (options.interval) data.pause().cycle()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.carousel\r\n\r\n  $.fn.carousel             = Plugin\r\n  $.fn.carousel.Constructor = Carousel\r\n\r\n\r\n  // CAROUSEL NO CONFLICT\r\n  // ====================\r\n\r\n  $.fn.carousel.noConflict = function () {\r\n    $.fn.carousel = old\r\n    return this\r\n  }\r\n\r\n\r\n  // CAROUSEL DATA-API\r\n  // =================\r\n\r\n  var clickHandler = function (e) {\r\n    var href\r\n    var $this   = $(this)\r\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\r\n    if (!$target.hasClass('carousel')) return\r\n    var options = $.extend({}, $target.data(), $this.data())\r\n    var slideIndex = $this.attr('data-slide-to')\r\n    if (slideIndex) options.interval = false\r\n\r\n    Plugin.call($target, options)\r\n\r\n    if (slideIndex) {\r\n      $target.data('bs.carousel').to(slideIndex)\r\n    }\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  $(document)\r\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\r\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\r\n\r\n  $(window).on('load', function () {\r\n    $('[data-ride=\"carousel\"]').each(function () {\r\n      var $carousel = $(this)\r\n      Plugin.call($carousel, $carousel.data())\r\n    })\r\n  })\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: collapse.js v3.3.7\r\n * http://getbootstrap.com/javascript/#collapse\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n/* jshint latedef: false */\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // COLLAPSE PUBLIC CLASS DEFINITION\r\n  // ================================\r\n\r\n  var Collapse = function (element, options) {\r\n    this.$element      = $(element)\r\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\r\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\r\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\r\n    this.transitioning = null\r\n\r\n    if (this.options.parent) {\r\n      this.$parent = this.getParent()\r\n    } else {\r\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\r\n    }\r\n\r\n    if (this.options.toggle) this.toggle()\r\n  }\r\n\r\n  Collapse.VERSION  = '3.3.7'\r\n\r\n  Collapse.TRANSITION_DURATION = 350\r\n\r\n  Collapse.DEFAULTS = {\r\n    toggle: true\r\n  }\r\n\r\n  Collapse.prototype.dimension = function () {\r\n    var hasWidth = this.$element.hasClass('width')\r\n    return hasWidth ? 'width' : 'height'\r\n  }\r\n\r\n  Collapse.prototype.show = function () {\r\n    if (this.transitioning || this.$element.hasClass('in')) return\r\n\r\n    var activesData\r\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\r\n\r\n    if (actives && actives.length) {\r\n      activesData = actives.data('bs.collapse')\r\n      if (activesData && activesData.transitioning) return\r\n    }\r\n\r\n    var startEvent = $.Event('show.bs.collapse')\r\n    this.$element.trigger(startEvent)\r\n    if (startEvent.isDefaultPrevented()) return\r\n\r\n    if (actives && actives.length) {\r\n      Plugin.call(actives, 'hide')\r\n      activesData || actives.data('bs.collapse', null)\r\n    }\r\n\r\n    var dimension = this.dimension()\r\n\r\n    this.$element\r\n      .removeClass('collapse')\r\n      .addClass('collapsing')[dimension](0)\r\n      .attr('aria-expanded', true)\r\n\r\n    this.$trigger\r\n      .removeClass('collapsed')\r\n      .attr('aria-expanded', true)\r\n\r\n    this.transitioning = 1\r\n\r\n    var complete = function () {\r\n      this.$element\r\n        .removeClass('collapsing')\r\n        .addClass('collapse in')[dimension]('')\r\n      this.transitioning = 0\r\n      this.$element\r\n        .trigger('shown.bs.collapse')\r\n    }\r\n\r\n    if (!$.support.transition) return complete.call(this)\r\n\r\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\r\n\r\n    this.$element\r\n      .one('bsTransitionEnd', $.proxy(complete, this))\r\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\r\n  }\r\n\r\n  Collapse.prototype.hide = function () {\r\n    if (this.transitioning || !this.$element.hasClass('in')) return\r\n\r\n    var startEvent = $.Event('hide.bs.collapse')\r\n    this.$element.trigger(startEvent)\r\n    if (startEvent.isDefaultPrevented()) return\r\n\r\n    var dimension = this.dimension()\r\n\r\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\r\n\r\n    this.$element\r\n      .addClass('collapsing')\r\n      .removeClass('collapse in')\r\n      .attr('aria-expanded', false)\r\n\r\n    this.$trigger\r\n      .addClass('collapsed')\r\n      .attr('aria-expanded', false)\r\n\r\n    this.transitioning = 1\r\n\r\n    var complete = function () {\r\n      this.transitioning = 0\r\n      this.$element\r\n        .removeClass('collapsing')\r\n        .addClass('collapse')\r\n        .trigger('hidden.bs.collapse')\r\n    }\r\n\r\n    if (!$.support.transition) return complete.call(this)\r\n\r\n    this.$element\r\n      [dimension](0)\r\n      .one('bsTransitionEnd', $.proxy(complete, this))\r\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\r\n  }\r\n\r\n  Collapse.prototype.toggle = function () {\r\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\r\n  }\r\n\r\n  Collapse.prototype.getParent = function () {\r\n    return $(this.options.parent)\r\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\r\n      .each($.proxy(function (i, element) {\r\n        var $element = $(element)\r\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\r\n      }, this))\r\n      .end()\r\n  }\r\n\r\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\r\n    var isOpen = $element.hasClass('in')\r\n\r\n    $element.attr('aria-expanded', isOpen)\r\n    $trigger\r\n      .toggleClass('collapsed', !isOpen)\r\n      .attr('aria-expanded', isOpen)\r\n  }\r\n\r\n  function getTargetFromTrigger($trigger) {\r\n    var href\r\n    var target = $trigger.attr('data-target')\r\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\r\n\r\n    return $(target)\r\n  }\r\n\r\n\r\n  // COLLAPSE PLUGIN DEFINITION\r\n  // ==========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.collapse')\r\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\r\n\r\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\r\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.collapse\r\n\r\n  $.fn.collapse             = Plugin\r\n  $.fn.collapse.Constructor = Collapse\r\n\r\n\r\n  // COLLAPSE NO CONFLICT\r\n  // ====================\r\n\r\n  $.fn.collapse.noConflict = function () {\r\n    $.fn.collapse = old\r\n    return this\r\n  }\r\n\r\n\r\n  // COLLAPSE DATA-API\r\n  // =================\r\n\r\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\r\n    var $this   = $(this)\r\n\r\n    if (!$this.attr('data-target')) e.preventDefault()\r\n\r\n    var $target = getTargetFromTrigger($this)\r\n    var data    = $target.data('bs.collapse')\r\n    var option  = data ? 'toggle' : $this.data()\r\n\r\n    Plugin.call($target, option)\r\n  })\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: dropdown.js v3.3.7\r\n * http://getbootstrap.com/javascript/#dropdowns\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // DROPDOWN CLASS DEFINITION\r\n  // =========================\r\n\r\n  var backdrop = '.dropdown-backdrop'\r\n  var toggle   = '[data-toggle=\"dropdown\"]'\r\n  var Dropdown = function (element) {\r\n    $(element).on('click.bs.dropdown', this.toggle)\r\n  }\r\n\r\n  Dropdown.VERSION = '3.3.7'\r\n\r\n  function getParent($this) {\r\n    var selector = $this.attr('data-target')\r\n\r\n    if (!selector) {\r\n      selector = $this.attr('href')\r\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\r\n    }\r\n\r\n    var $parent = selector && $(selector)\r\n\r\n    return $parent && $parent.length ? $parent : $this.parent()\r\n  }\r\n\r\n  function clearMenus(e) {\r\n    if (e && e.which === 3) return\r\n    $(backdrop).remove()\r\n    $(toggle).each(function () {\r\n      var $this         = $(this)\r\n      var $parent       = getParent($this)\r\n      var relatedTarget = { relatedTarget: this }\r\n\r\n      if (!$parent.hasClass('open')) return\r\n\r\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\r\n\r\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\r\n\r\n      if (e.isDefaultPrevented()) return\r\n\r\n      $this.attr('aria-expanded', 'false')\r\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\r\n    })\r\n  }\r\n\r\n  Dropdown.prototype.toggle = function (e) {\r\n    var $this = $(this)\r\n\r\n    if ($this.is('.disabled, :disabled')) return\r\n\r\n    var $parent  = getParent($this)\r\n    var isActive = $parent.hasClass('open')\r\n\r\n    clearMenus()\r\n\r\n    if (!isActive) {\r\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\r\n        // if mobile we use a backdrop because click events don't delegate\r\n        $(document.createElement('div'))\r\n          .addClass('dropdown-backdrop')\r\n          .insertAfter($(this))\r\n          .on('click', clearMenus)\r\n      }\r\n\r\n      var relatedTarget = { relatedTarget: this }\r\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\r\n\r\n      if (e.isDefaultPrevented()) return\r\n\r\n      $this\r\n        .trigger('focus')\r\n        .attr('aria-expanded', 'true')\r\n\r\n      $parent\r\n        .toggleClass('open')\r\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  Dropdown.prototype.keydown = function (e) {\r\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\r\n\r\n    var $this = $(this)\r\n\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    if ($this.is('.disabled, :disabled')) return\r\n\r\n    var $parent  = getParent($this)\r\n    var isActive = $parent.hasClass('open')\r\n\r\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\r\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\r\n      return $this.trigger('click')\r\n    }\r\n\r\n    var desc = ' li:not(.disabled):visible a'\r\n    var $items = $parent.find('.dropdown-menu' + desc)\r\n\r\n    if (!$items.length) return\r\n\r\n    var index = $items.index(e.target)\r\n\r\n    if (e.which == 38 && index > 0)                 index--         // up\r\n    if (e.which == 40 && index < $items.length - 1) index++         // down\r\n    if (!~index)                                    index = 0\r\n\r\n    $items.eq(index).trigger('focus')\r\n  }\r\n\r\n\r\n  // DROPDOWN PLUGIN DEFINITION\r\n  // ==========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n      var data  = $this.data('bs.dropdown')\r\n\r\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\r\n      if (typeof option == 'string') data[option].call($this)\r\n    })\r\n  }\r\n\r\n  var old = $.fn.dropdown\r\n\r\n  $.fn.dropdown             = Plugin\r\n  $.fn.dropdown.Constructor = Dropdown\r\n\r\n\r\n  // DROPDOWN NO CONFLICT\r\n  // ====================\r\n\r\n  $.fn.dropdown.noConflict = function () {\r\n    $.fn.dropdown = old\r\n    return this\r\n  }\r\n\r\n\r\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\r\n  // ===================================\r\n\r\n  $(document)\r\n    .on('click.bs.dropdown.data-api', clearMenus)\r\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\r\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\r\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\r\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: modal.js v3.3.7\r\n * http://getbootstrap.com/javascript/#modals\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // MODAL CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Modal = function (element, options) {\r\n    this.options             = options\r\n    this.$body               = $(document.body)\r\n    this.$element            = $(element)\r\n    this.$dialog             = this.$element.find('.modal-dialog')\r\n    this.$backdrop           = null\r\n    this.isShown             = null\r\n    this.originalBodyPad     = null\r\n    this.scrollbarWidth      = 0\r\n    this.ignoreBackdropClick = false\r\n\r\n    if (this.options.remote) {\r\n      this.$element\r\n        .find('.modal-content')\r\n        .load(this.options.remote, $.proxy(function () {\r\n          this.$element.trigger('loaded.bs.modal')\r\n        }, this))\r\n    }\r\n  }\r\n\r\n  Modal.VERSION  = '3.3.7'\r\n\r\n  Modal.TRANSITION_DURATION = 300\r\n  Modal.BACKDROP_TRANSITION_DURATION = 150\r\n\r\n  Modal.DEFAULTS = {\r\n    backdrop: true,\r\n    keyboard: true,\r\n    show: true\r\n  }\r\n\r\n  Modal.prototype.toggle = function (_relatedTarget) {\r\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\r\n  }\r\n\r\n  Modal.prototype.show = function (_relatedTarget) {\r\n    var that = this\r\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\r\n\r\n    this.$element.trigger(e)\r\n\r\n    if (this.isShown || e.isDefaultPrevented()) return\r\n\r\n    this.isShown = true\r\n\r\n    this.checkScrollbar()\r\n    this.setScrollbar()\r\n    this.$body.addClass('modal-open')\r\n\r\n    this.escape()\r\n    this.resize()\r\n\r\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\r\n\r\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\r\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\r\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\r\n      })\r\n    })\r\n\r\n    this.backdrop(function () {\r\n      var transition = $.support.transition && that.$element.hasClass('fade')\r\n\r\n      if (!that.$element.parent().length) {\r\n        that.$element.appendTo(that.$body) // don't move modals dom position\r\n      }\r\n\r\n      that.$element\r\n        .show()\r\n        .scrollTop(0)\r\n\r\n      that.adjustDialog()\r\n\r\n      if (transition) {\r\n        that.$element[0].offsetWidth // force reflow\r\n      }\r\n\r\n      that.$element.addClass('in')\r\n\r\n      that.enforceFocus()\r\n\r\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\r\n\r\n      transition ?\r\n        that.$dialog // wait for modal to slide in\r\n          .one('bsTransitionEnd', function () {\r\n            that.$element.trigger('focus').trigger(e)\r\n          })\r\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\r\n        that.$element.trigger('focus').trigger(e)\r\n    })\r\n  }\r\n\r\n  Modal.prototype.hide = function (e) {\r\n    if (e) e.preventDefault()\r\n\r\n    e = $.Event('hide.bs.modal')\r\n\r\n    this.$element.trigger(e)\r\n\r\n    if (!this.isShown || e.isDefaultPrevented()) return\r\n\r\n    this.isShown = false\r\n\r\n    this.escape()\r\n    this.resize()\r\n\r\n    $(document).off('focusin.bs.modal')\r\n\r\n    this.$element\r\n      .removeClass('in')\r\n      .off('click.dismiss.bs.modal')\r\n      .off('mouseup.dismiss.bs.modal')\r\n\r\n    this.$dialog.off('mousedown.dismiss.bs.modal')\r\n\r\n    $.support.transition && this.$element.hasClass('fade') ?\r\n      this.$element\r\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\r\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\r\n      this.hideModal()\r\n  }\r\n\r\n  Modal.prototype.enforceFocus = function () {\r\n    $(document)\r\n      .off('focusin.bs.modal') // guard against infinite focus loop\r\n      .on('focusin.bs.modal', $.proxy(function (e) {\r\n        if (document !== e.target &&\r\n            this.$element[0] !== e.target &&\r\n            !this.$element.has(e.target).length) {\r\n          this.$element.trigger('focus')\r\n        }\r\n      }, this))\r\n  }\r\n\r\n  Modal.prototype.escape = function () {\r\n    if (this.isShown && this.options.keyboard) {\r\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\r\n        e.which == 27 && this.hide()\r\n      }, this))\r\n    } else if (!this.isShown) {\r\n      this.$element.off('keydown.dismiss.bs.modal')\r\n    }\r\n  }\r\n\r\n  Modal.prototype.resize = function () {\r\n    if (this.isShown) {\r\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\r\n    } else {\r\n      $(window).off('resize.bs.modal')\r\n    }\r\n  }\r\n\r\n  Modal.prototype.hideModal = function () {\r\n    var that = this\r\n    this.$element.hide()\r\n    this.backdrop(function () {\r\n      that.$body.removeClass('modal-open')\r\n      that.resetAdjustments()\r\n      that.resetScrollbar()\r\n      that.$element.trigger('hidden.bs.modal')\r\n    })\r\n  }\r\n\r\n  Modal.prototype.removeBackdrop = function () {\r\n    this.$backdrop && this.$backdrop.remove()\r\n    this.$backdrop = null\r\n  }\r\n\r\n  Modal.prototype.backdrop = function (callback) {\r\n    var that = this\r\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\r\n\r\n    if (this.isShown && this.options.backdrop) {\r\n      var doAnimate = $.support.transition && animate\r\n\r\n      this.$backdrop = $(document.createElement('div'))\r\n        .addClass('modal-backdrop ' + animate)\r\n        .appendTo(this.$body)\r\n\r\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\r\n        if (this.ignoreBackdropClick) {\r\n          this.ignoreBackdropClick = false\r\n          return\r\n        }\r\n        if (e.target !== e.currentTarget) return\r\n        this.options.backdrop == 'static'\r\n          ? this.$element[0].focus()\r\n          : this.hide()\r\n      }, this))\r\n\r\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\r\n\r\n      this.$backdrop.addClass('in')\r\n\r\n      if (!callback) return\r\n\r\n      doAnimate ?\r\n        this.$backdrop\r\n          .one('bsTransitionEnd', callback)\r\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\r\n        callback()\r\n\r\n    } else if (!this.isShown && this.$backdrop) {\r\n      this.$backdrop.removeClass('in')\r\n\r\n      var callbackRemove = function () {\r\n        that.removeBackdrop()\r\n        callback && callback()\r\n      }\r\n      $.support.transition && this.$element.hasClass('fade') ?\r\n        this.$backdrop\r\n          .one('bsTransitionEnd', callbackRemove)\r\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\r\n        callbackRemove()\r\n\r\n    } else if (callback) {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  // these following methods are used to handle overflowing modals\r\n\r\n  Modal.prototype.handleUpdate = function () {\r\n    this.adjustDialog()\r\n  }\r\n\r\n  Modal.prototype.adjustDialog = function () {\r\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\r\n\r\n    this.$element.css({\r\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\r\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\r\n    })\r\n  }\r\n\r\n  Modal.prototype.resetAdjustments = function () {\r\n    this.$element.css({\r\n      paddingLeft: '',\r\n      paddingRight: ''\r\n    })\r\n  }\r\n\r\n  Modal.prototype.checkScrollbar = function () {\r\n    var fullWindowWidth = window.innerWidth\r\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\r\n      var documentElementRect = document.documentElement.getBoundingClientRect()\r\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\r\n    }\r\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\r\n    this.scrollbarWidth = this.measureScrollbar()\r\n  }\r\n\r\n  Modal.prototype.setScrollbar = function () {\r\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\r\n    this.originalBodyPad = document.body.style.paddingRight || ''\r\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\r\n  }\r\n\r\n  Modal.prototype.resetScrollbar = function () {\r\n    this.$body.css('padding-right', this.originalBodyPad)\r\n  }\r\n\r\n  Modal.prototype.measureScrollbar = function () { // thx walsh\r\n    var scrollDiv = document.createElement('div')\r\n    scrollDiv.className = 'modal-scrollbar-measure'\r\n    this.$body.append(scrollDiv)\r\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\r\n    this.$body[0].removeChild(scrollDiv)\r\n    return scrollbarWidth\r\n  }\r\n\r\n\r\n  // MODAL PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option, _relatedTarget) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.modal')\r\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\r\n\r\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\r\n      if (typeof option == 'string') data[option](_relatedTarget)\r\n      else if (options.show) data.show(_relatedTarget)\r\n    })\r\n  }\r\n\r\n  var old = $.fn.modal\r\n\r\n  $.fn.modal             = Plugin\r\n  $.fn.modal.Constructor = Modal\r\n\r\n\r\n  // MODAL NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.modal.noConflict = function () {\r\n    $.fn.modal = old\r\n    return this\r\n  }\r\n\r\n\r\n  // MODAL DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\r\n    var $this   = $(this)\r\n    var href    = $this.attr('href')\r\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\r\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\r\n\r\n    if ($this.is('a')) e.preventDefault()\r\n\r\n    $target.one('show.bs.modal', function (showEvent) {\r\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\r\n      $target.one('hidden.bs.modal', function () {\r\n        $this.is(':visible') && $this.trigger('focus')\r\n      })\r\n    })\r\n    Plugin.call($target, option, this)\r\n  })\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: tooltip.js v3.3.7\r\n * http://getbootstrap.com/javascript/#tooltip\r\n * Inspired by the original jQuery.tipsy by Jason Frame\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // TOOLTIP PUBLIC CLASS DEFINITION\r\n  // ===============================\r\n\r\n  var Tooltip = function (element, options) {\r\n    this.type       = null\r\n    this.options    = null\r\n    this.enabled    = null\r\n    this.timeout    = null\r\n    this.hoverState = null\r\n    this.$element   = null\r\n    this.inState    = null\r\n\r\n    this.init('tooltip', element, options)\r\n  }\r\n\r\n  Tooltip.VERSION  = '3.3.7'\r\n\r\n  Tooltip.TRANSITION_DURATION = 150\r\n\r\n  Tooltip.DEFAULTS = {\r\n    animation: true,\r\n    placement: 'top',\r\n    selector: false,\r\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\r\n    trigger: 'hover focus',\r\n    title: '',\r\n    delay: 0,\r\n    html: false,\r\n    container: false,\r\n    viewport: {\r\n      selector: 'body',\r\n      padding: 0\r\n    }\r\n  }\r\n\r\n  Tooltip.prototype.init = function (type, element, options) {\r\n    this.enabled   = true\r\n    this.type      = type\r\n    this.$element  = $(element)\r\n    this.options   = this.getOptions(options)\r\n    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\r\n    this.inState   = { click: false, hover: false, focus: false }\r\n\r\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\r\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\r\n    }\r\n\r\n    var triggers = this.options.trigger.split(' ')\r\n\r\n    for (var i = triggers.length; i--;) {\r\n      var trigger = triggers[i]\r\n\r\n      if (trigger == 'click') {\r\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\r\n      } else if (trigger != 'manual') {\r\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\r\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\r\n\r\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\r\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\r\n      }\r\n    }\r\n\r\n    this.options.selector ?\r\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\r\n      this.fixTitle()\r\n  }\r\n\r\n  Tooltip.prototype.getDefaults = function () {\r\n    return Tooltip.DEFAULTS\r\n  }\r\n\r\n  Tooltip.prototype.getOptions = function (options) {\r\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\r\n\r\n    if (options.delay && typeof options.delay == 'number') {\r\n      options.delay = {\r\n        show: options.delay,\r\n        hide: options.delay\r\n      }\r\n    }\r\n\r\n    return options\r\n  }\r\n\r\n  Tooltip.prototype.getDelegateOptions = function () {\r\n    var options  = {}\r\n    var defaults = this.getDefaults()\r\n\r\n    this._options && $.each(this._options, function (key, value) {\r\n      if (defaults[key] != value) options[key] = value\r\n    })\r\n\r\n    return options\r\n  }\r\n\r\n  Tooltip.prototype.enter = function (obj) {\r\n    var self = obj instanceof this.constructor ?\r\n      obj : $(obj.currentTarget).data('bs.' + this.type)\r\n\r\n    if (!self) {\r\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\r\n      $(obj.currentTarget).data('bs.' + this.type, self)\r\n    }\r\n\r\n    if (obj instanceof $.Event) {\r\n      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\r\n    }\r\n\r\n    if (self.tip().hasClass('in') || self.hoverState == 'in') {\r\n      self.hoverState = 'in'\r\n      return\r\n    }\r\n\r\n    clearTimeout(self.timeout)\r\n\r\n    self.hoverState = 'in'\r\n\r\n    if (!self.options.delay || !self.options.delay.show) return self.show()\r\n\r\n    self.timeout = setTimeout(function () {\r\n      if (self.hoverState == 'in') self.show()\r\n    }, self.options.delay.show)\r\n  }\r\n\r\n  Tooltip.prototype.isInStateTrue = function () {\r\n    for (var key in this.inState) {\r\n      if (this.inState[key]) return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  Tooltip.prototype.leave = function (obj) {\r\n    var self = obj instanceof this.constructor ?\r\n      obj : $(obj.currentTarget).data('bs.' + this.type)\r\n\r\n    if (!self) {\r\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\r\n      $(obj.currentTarget).data('bs.' + this.type, self)\r\n    }\r\n\r\n    if (obj instanceof $.Event) {\r\n      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\r\n    }\r\n\r\n    if (self.isInStateTrue()) return\r\n\r\n    clearTimeout(self.timeout)\r\n\r\n    self.hoverState = 'out'\r\n\r\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\r\n\r\n    self.timeout = setTimeout(function () {\r\n      if (self.hoverState == 'out') self.hide()\r\n    }, self.options.delay.hide)\r\n  }\r\n\r\n  Tooltip.prototype.show = function () {\r\n    var e = $.Event('show.bs.' + this.type)\r\n\r\n    if (this.hasContent() && this.enabled) {\r\n      this.$element.trigger(e)\r\n\r\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\r\n      if (e.isDefaultPrevented() || !inDom) return\r\n      var that = this\r\n\r\n      var $tip = this.tip()\r\n\r\n      var tipId = this.getUID(this.type)\r\n\r\n      this.setContent()\r\n      $tip.attr('id', tipId)\r\n      this.$element.attr('aria-describedby', tipId)\r\n\r\n      if (this.options.animation) $tip.addClass('fade')\r\n\r\n      var placement = typeof this.options.placement == 'function' ?\r\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\r\n        this.options.placement\r\n\r\n      var autoToken = /\\s?auto?\\s?/i\r\n      var autoPlace = autoToken.test(placement)\r\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\r\n\r\n      $tip\r\n        .detach()\r\n        .css({ top: 0, left: 0, display: 'block' })\r\n        .addClass(placement)\r\n        .data('bs.' + this.type, this)\r\n\r\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\r\n      this.$element.trigger('inserted.bs.' + this.type)\r\n\r\n      var pos          = this.getPosition()\r\n      var actualWidth  = $tip[0].offsetWidth\r\n      var actualHeight = $tip[0].offsetHeight\r\n\r\n      if (autoPlace) {\r\n        var orgPlacement = placement\r\n        var viewportDim = this.getPosition(this.$viewport)\r\n\r\n        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\r\n                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\r\n                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\r\n                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\r\n                    placement\r\n\r\n        $tip\r\n          .removeClass(orgPlacement)\r\n          .addClass(placement)\r\n      }\r\n\r\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\r\n\r\n      this.applyPlacement(calculatedOffset, placement)\r\n\r\n      var complete = function () {\r\n        var prevHoverState = that.hoverState\r\n        that.$element.trigger('shown.bs.' + that.type)\r\n        that.hoverState = null\r\n\r\n        if (prevHoverState == 'out') that.leave(that)\r\n      }\r\n\r\n      $.support.transition && this.$tip.hasClass('fade') ?\r\n        $tip\r\n          .one('bsTransitionEnd', complete)\r\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\r\n        complete()\r\n    }\r\n  }\r\n\r\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\r\n    var $tip   = this.tip()\r\n    var width  = $tip[0].offsetWidth\r\n    var height = $tip[0].offsetHeight\r\n\r\n    // manually read margins because getBoundingClientRect includes difference\r\n    var marginTop = parseInt($tip.css('margin-top'), 10)\r\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\r\n\r\n    // we must check for NaN for ie 8/9\r\n    if (isNaN(marginTop))  marginTop  = 0\r\n    if (isNaN(marginLeft)) marginLeft = 0\r\n\r\n    offset.top  += marginTop\r\n    offset.left += marginLeft\r\n\r\n    // $.fn.offset doesn't round pixel values\r\n    // so we use setOffset directly with our own function B-0\r\n    $.offset.setOffset($tip[0], $.extend({\r\n      using: function (props) {\r\n        $tip.css({\r\n          top: Math.round(props.top),\r\n          left: Math.round(props.left)\r\n        })\r\n      }\r\n    }, offset), 0)\r\n\r\n    $tip.addClass('in')\r\n\r\n    // check to see if placing tip in new offset caused the tip to resize itself\r\n    var actualWidth  = $tip[0].offsetWidth\r\n    var actualHeight = $tip[0].offsetHeight\r\n\r\n    if (placement == 'top' && actualHeight != height) {\r\n      offset.top = offset.top + height - actualHeight\r\n    }\r\n\r\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\r\n\r\n    if (delta.left) offset.left += delta.left\r\n    else offset.top += delta.top\r\n\r\n    var isVertical          = /top|bottom/.test(placement)\r\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\r\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\r\n\r\n    $tip.offset(offset)\r\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\r\n  }\r\n\r\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\r\n    this.arrow()\r\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\r\n      .css(isVertical ? 'top' : 'left', '')\r\n  }\r\n\r\n  Tooltip.prototype.setContent = function () {\r\n    var $tip  = this.tip()\r\n    var title = this.getTitle()\r\n\r\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\r\n    $tip.removeClass('fade in top bottom left right')\r\n  }\r\n\r\n  Tooltip.prototype.hide = function (callback) {\r\n    var that = this\r\n    var $tip = $(this.$tip)\r\n    var e    = $.Event('hide.bs.' + this.type)\r\n\r\n    function complete() {\r\n      if (that.hoverState != 'in') $tip.detach()\r\n      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\r\n        that.$element\r\n          .removeAttr('aria-describedby')\r\n          .trigger('hidden.bs.' + that.type)\r\n      }\r\n      callback && callback()\r\n    }\r\n\r\n    this.$element.trigger(e)\r\n\r\n    if (e.isDefaultPrevented()) return\r\n\r\n    $tip.removeClass('in')\r\n\r\n    $.support.transition && $tip.hasClass('fade') ?\r\n      $tip\r\n        .one('bsTransitionEnd', complete)\r\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\r\n      complete()\r\n\r\n    this.hoverState = null\r\n\r\n    return this\r\n  }\r\n\r\n  Tooltip.prototype.fixTitle = function () {\r\n    var $e = this.$element\r\n    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\r\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\r\n    }\r\n  }\r\n\r\n  Tooltip.prototype.hasContent = function () {\r\n    return this.getTitle()\r\n  }\r\n\r\n  Tooltip.prototype.getPosition = function ($element) {\r\n    $element   = $element || this.$element\r\n\r\n    var el     = $element[0]\r\n    var isBody = el.tagName == 'BODY'\r\n\r\n    var elRect    = el.getBoundingClientRect()\r\n    if (elRect.width == null) {\r\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\r\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\r\n    }\r\n    var isSvg = window.SVGElement && el instanceof window.SVGElement\r\n    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\r\n    // See https://github.com/twbs/bootstrap/issues/20280\r\n    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\r\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\r\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\r\n\r\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\r\n  }\r\n\r\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\r\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\r\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\r\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\r\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\r\n\r\n  }\r\n\r\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\r\n    var delta = { top: 0, left: 0 }\r\n    if (!this.$viewport) return delta\r\n\r\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\r\n    var viewportDimensions = this.getPosition(this.$viewport)\r\n\r\n    if (/right|left/.test(placement)) {\r\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\r\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\r\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\r\n        delta.top = viewportDimensions.top - topEdgeOffset\r\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\r\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\r\n      }\r\n    } else {\r\n      var leftEdgeOffset  = pos.left - viewportPadding\r\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\r\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\r\n        delta.left = viewportDimensions.left - leftEdgeOffset\r\n      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\r\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\r\n      }\r\n    }\r\n\r\n    return delta\r\n  }\r\n\r\n  Tooltip.prototype.getTitle = function () {\r\n    var title\r\n    var $e = this.$element\r\n    var o  = this.options\r\n\r\n    title = $e.attr('data-original-title')\r\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\r\n\r\n    return title\r\n  }\r\n\r\n  Tooltip.prototype.getUID = function (prefix) {\r\n    do prefix += ~~(Math.random() * 1000000)\r\n    while (document.getElementById(prefix))\r\n    return prefix\r\n  }\r\n\r\n  Tooltip.prototype.tip = function () {\r\n    if (!this.$tip) {\r\n      this.$tip = $(this.options.template)\r\n      if (this.$tip.length != 1) {\r\n        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\r\n      }\r\n    }\r\n    return this.$tip\r\n  }\r\n\r\n  Tooltip.prototype.arrow = function () {\r\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\r\n  }\r\n\r\n  Tooltip.prototype.enable = function () {\r\n    this.enabled = true\r\n  }\r\n\r\n  Tooltip.prototype.disable = function () {\r\n    this.enabled = false\r\n  }\r\n\r\n  Tooltip.prototype.toggleEnabled = function () {\r\n    this.enabled = !this.enabled\r\n  }\r\n\r\n  Tooltip.prototype.toggle = function (e) {\r\n    var self = this\r\n    if (e) {\r\n      self = $(e.currentTarget).data('bs.' + this.type)\r\n      if (!self) {\r\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\r\n        $(e.currentTarget).data('bs.' + this.type, self)\r\n      }\r\n    }\r\n\r\n    if (e) {\r\n      self.inState.click = !self.inState.click\r\n      if (self.isInStateTrue()) self.enter(self)\r\n      else self.leave(self)\r\n    } else {\r\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\r\n    }\r\n  }\r\n\r\n  Tooltip.prototype.destroy = function () {\r\n    var that = this\r\n    clearTimeout(this.timeout)\r\n    this.hide(function () {\r\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\r\n      if (that.$tip) {\r\n        that.$tip.detach()\r\n      }\r\n      that.$tip = null\r\n      that.$arrow = null\r\n      that.$viewport = null\r\n      that.$element = null\r\n    })\r\n  }\r\n\r\n\r\n  // TOOLTIP PLUGIN DEFINITION\r\n  // =========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.tooltip')\r\n      var options = typeof option == 'object' && option\r\n\r\n      if (!data && /destroy|hide/.test(option)) return\r\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.tooltip\r\n\r\n  $.fn.tooltip             = Plugin\r\n  $.fn.tooltip.Constructor = Tooltip\r\n\r\n\r\n  // TOOLTIP NO CONFLICT\r\n  // ===================\r\n\r\n  $.fn.tooltip.noConflict = function () {\r\n    $.fn.tooltip = old\r\n    return this\r\n  }\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: popover.js v3.3.7\r\n * http://getbootstrap.com/javascript/#popovers\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // POPOVER PUBLIC CLASS DEFINITION\r\n  // ===============================\r\n\r\n  var Popover = function (element, options) {\r\n    this.init('popover', element, options)\r\n  }\r\n\r\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\r\n\r\n  Popover.VERSION  = '3.3.7'\r\n\r\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\r\n    placement: 'right',\r\n    trigger: 'click',\r\n    content: '',\r\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\r\n  })\r\n\r\n\r\n  // NOTE: POPOVER EXTENDS tooltip.js\r\n  // ================================\r\n\r\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\r\n\r\n  Popover.prototype.constructor = Popover\r\n\r\n  Popover.prototype.getDefaults = function () {\r\n    return Popover.DEFAULTS\r\n  }\r\n\r\n  Popover.prototype.setContent = function () {\r\n    var $tip    = this.tip()\r\n    var title   = this.getTitle()\r\n    var content = this.getContent()\r\n\r\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\r\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\r\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\r\n    ](content)\r\n\r\n    $tip.removeClass('fade top bottom left right in')\r\n\r\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\r\n    // this manually by checking the contents.\r\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\r\n  }\r\n\r\n  Popover.prototype.hasContent = function () {\r\n    return this.getTitle() || this.getContent()\r\n  }\r\n\r\n  Popover.prototype.getContent = function () {\r\n    var $e = this.$element\r\n    var o  = this.options\r\n\r\n    return $e.attr('data-content')\r\n      || (typeof o.content == 'function' ?\r\n            o.content.call($e[0]) :\r\n            o.content)\r\n  }\r\n\r\n  Popover.prototype.arrow = function () {\r\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\r\n  }\r\n\r\n\r\n  // POPOVER PLUGIN DEFINITION\r\n  // =========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.popover')\r\n      var options = typeof option == 'object' && option\r\n\r\n      if (!data && /destroy|hide/.test(option)) return\r\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.popover\r\n\r\n  $.fn.popover             = Plugin\r\n  $.fn.popover.Constructor = Popover\r\n\r\n\r\n  // POPOVER NO CONFLICT\r\n  // ===================\r\n\r\n  $.fn.popover.noConflict = function () {\r\n    $.fn.popover = old\r\n    return this\r\n  }\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: scrollspy.js v3.3.7\r\n * http://getbootstrap.com/javascript/#scrollspy\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // SCROLLSPY CLASS DEFINITION\r\n  // ==========================\r\n\r\n  function ScrollSpy(element, options) {\r\n    this.$body          = $(document.body)\r\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\r\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\r\n    this.selector       = (this.options.target || '') + ' .nav li > a'\r\n    this.offsets        = []\r\n    this.targets        = []\r\n    this.activeTarget   = null\r\n    this.scrollHeight   = 0\r\n\r\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\r\n    this.refresh()\r\n    this.process()\r\n  }\r\n\r\n  ScrollSpy.VERSION  = '3.3.7'\r\n\r\n  ScrollSpy.DEFAULTS = {\r\n    offset: 10\r\n  }\r\n\r\n  ScrollSpy.prototype.getScrollHeight = function () {\r\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\r\n  }\r\n\r\n  ScrollSpy.prototype.refresh = function () {\r\n    var that          = this\r\n    var offsetMethod  = 'offset'\r\n    var offsetBase    = 0\r\n\r\n    this.offsets      = []\r\n    this.targets      = []\r\n    this.scrollHeight = this.getScrollHeight()\r\n\r\n    if (!$.isWindow(this.$scrollElement[0])) {\r\n      offsetMethod = 'position'\r\n      offsetBase   = this.$scrollElement.scrollTop()\r\n    }\r\n\r\n    this.$body\r\n      .find(this.selector)\r\n      .map(function () {\r\n        var $el   = $(this)\r\n        var href  = $el.data('target') || $el.attr('href')\r\n        var $href = /^#./.test(href) && $(href)\r\n\r\n        return ($href\r\n          && $href.length\r\n          && $href.is(':visible')\r\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\r\n      })\r\n      .sort(function (a, b) { return a[0] - b[0] })\r\n      .each(function () {\r\n        that.offsets.push(this[0])\r\n        that.targets.push(this[1])\r\n      })\r\n  }\r\n\r\n  ScrollSpy.prototype.process = function () {\r\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\r\n    var scrollHeight = this.getScrollHeight()\r\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\r\n    var offsets      = this.offsets\r\n    var targets      = this.targets\r\n    var activeTarget = this.activeTarget\r\n    var i\r\n\r\n    if (this.scrollHeight != scrollHeight) {\r\n      this.refresh()\r\n    }\r\n\r\n    if (scrollTop >= maxScroll) {\r\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\r\n    }\r\n\r\n    if (activeTarget && scrollTop < offsets[0]) {\r\n      this.activeTarget = null\r\n      return this.clear()\r\n    }\r\n\r\n    for (i = offsets.length; i--;) {\r\n      activeTarget != targets[i]\r\n        && scrollTop >= offsets[i]\r\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\r\n        && this.activate(targets[i])\r\n    }\r\n  }\r\n\r\n  ScrollSpy.prototype.activate = function (target) {\r\n    this.activeTarget = target\r\n\r\n    this.clear()\r\n\r\n    var selector = this.selector +\r\n      '[data-target=\"' + target + '\"],' +\r\n      this.selector + '[href=\"' + target + '\"]'\r\n\r\n    var active = $(selector)\r\n      .parents('li')\r\n      .addClass('active')\r\n\r\n    if (active.parent('.dropdown-menu').length) {\r\n      active = active\r\n        .closest('li.dropdown')\r\n        .addClass('active')\r\n    }\r\n\r\n    active.trigger('activate.bs.scrollspy')\r\n  }\r\n\r\n  ScrollSpy.prototype.clear = function () {\r\n    $(this.selector)\r\n      .parentsUntil(this.options.target, '.active')\r\n      .removeClass('active')\r\n  }\r\n\r\n\r\n  // SCROLLSPY PLUGIN DEFINITION\r\n  // ===========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.scrollspy')\r\n      var options = typeof option == 'object' && option\r\n\r\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.scrollspy\r\n\r\n  $.fn.scrollspy             = Plugin\r\n  $.fn.scrollspy.Constructor = ScrollSpy\r\n\r\n\r\n  // SCROLLSPY NO CONFLICT\r\n  // =====================\r\n\r\n  $.fn.scrollspy.noConflict = function () {\r\n    $.fn.scrollspy = old\r\n    return this\r\n  }\r\n\r\n\r\n  // SCROLLSPY DATA-API\r\n  // ==================\r\n\r\n  $(window).on('load.bs.scrollspy.data-api', function () {\r\n    $('[data-spy=\"scroll\"]').each(function () {\r\n      var $spy = $(this)\r\n      Plugin.call($spy, $spy.data())\r\n    })\r\n  })\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: tab.js v3.3.7\r\n * http://getbootstrap.com/javascript/#tabs\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // TAB CLASS DEFINITION\r\n  // ====================\r\n\r\n  var Tab = function (element) {\r\n    // jscs:disable requireDollarBeforejQueryAssignment\r\n    this.element = $(element)\r\n    // jscs:enable requireDollarBeforejQueryAssignment\r\n  }\r\n\r\n  Tab.VERSION = '3.3.7'\r\n\r\n  Tab.TRANSITION_DURATION = 150\r\n\r\n  Tab.prototype.show = function () {\r\n    var $this    = this.element\r\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\r\n    var selector = $this.data('target')\r\n\r\n    if (!selector) {\r\n      selector = $this.attr('href')\r\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\r\n    }\r\n\r\n    if ($this.parent('li').hasClass('active')) return\r\n\r\n    var $previous = $ul.find('.active:last a')\r\n    var hideEvent = $.Event('hide.bs.tab', {\r\n      relatedTarget: $this[0]\r\n    })\r\n    var showEvent = $.Event('show.bs.tab', {\r\n      relatedTarget: $previous[0]\r\n    })\r\n\r\n    $previous.trigger(hideEvent)\r\n    $this.trigger(showEvent)\r\n\r\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\r\n\r\n    var $target = $(selector)\r\n\r\n    this.activate($this.closest('li'), $ul)\r\n    this.activate($target, $target.parent(), function () {\r\n      $previous.trigger({\r\n        type: 'hidden.bs.tab',\r\n        relatedTarget: $this[0]\r\n      })\r\n      $this.trigger({\r\n        type: 'shown.bs.tab',\r\n        relatedTarget: $previous[0]\r\n      })\r\n    })\r\n  }\r\n\r\n  Tab.prototype.activate = function (element, container, callback) {\r\n    var $active    = container.find('> .active')\r\n    var transition = callback\r\n      && $.support.transition\r\n      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)\r\n\r\n    function next() {\r\n      $active\r\n        .removeClass('active')\r\n        .find('> .dropdown-menu > .active')\r\n          .removeClass('active')\r\n        .end()\r\n        .find('[data-toggle=\"tab\"]')\r\n          .attr('aria-expanded', false)\r\n\r\n      element\r\n        .addClass('active')\r\n        .find('[data-toggle=\"tab\"]')\r\n          .attr('aria-expanded', true)\r\n\r\n      if (transition) {\r\n        element[0].offsetWidth // reflow for transition\r\n        element.addClass('in')\r\n      } else {\r\n        element.removeClass('fade')\r\n      }\r\n\r\n      if (element.parent('.dropdown-menu').length) {\r\n        element\r\n          .closest('li.dropdown')\r\n            .addClass('active')\r\n          .end()\r\n          .find('[data-toggle=\"tab\"]')\r\n            .attr('aria-expanded', true)\r\n      }\r\n\r\n      callback && callback()\r\n    }\r\n\r\n    $active.length && transition ?\r\n      $active\r\n        .one('bsTransitionEnd', next)\r\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\r\n      next()\r\n\r\n    $active.removeClass('in')\r\n  }\r\n\r\n\r\n  // TAB PLUGIN DEFINITION\r\n  // =====================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n      var data  = $this.data('bs.tab')\r\n\r\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.tab\r\n\r\n  $.fn.tab             = Plugin\r\n  $.fn.tab.Constructor = Tab\r\n\r\n\r\n  // TAB NO CONFLICT\r\n  // ===============\r\n\r\n  $.fn.tab.noConflict = function () {\r\n    $.fn.tab = old\r\n    return this\r\n  }\r\n\r\n\r\n  // TAB DATA-API\r\n  // ============\r\n\r\n  var clickHandler = function (e) {\r\n    e.preventDefault()\r\n    Plugin.call($(this), 'show')\r\n  }\r\n\r\n  $(document)\r\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\r\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\r\n\r\n}(jQuery);\r\n\r\n/* ========================================================================\r\n * Bootstrap: affix.js v3.3.7\r\n * http://getbootstrap.com/javascript/#affix\r\n * ========================================================================\r\n * Copyright 2011-2016 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // AFFIX CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Affix = function (element, options) {\r\n    this.options = $.extend({}, Affix.DEFAULTS, options)\r\n\r\n    this.$target = $(this.options.target)\r\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\r\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\r\n\r\n    this.$element     = $(element)\r\n    this.affixed      = null\r\n    this.unpin        = null\r\n    this.pinnedOffset = null\r\n\r\n    this.checkPosition()\r\n  }\r\n\r\n  Affix.VERSION  = '3.3.7'\r\n\r\n  Affix.RESET    = 'affix affix-top affix-bottom'\r\n\r\n  Affix.DEFAULTS = {\r\n    offset: 0,\r\n    target: window\r\n  }\r\n\r\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\r\n    var scrollTop    = this.$target.scrollTop()\r\n    var position     = this.$element.offset()\r\n    var targetHeight = this.$target.height()\r\n\r\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\r\n\r\n    if (this.affixed == 'bottom') {\r\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\r\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\r\n    }\r\n\r\n    var initializing   = this.affixed == null\r\n    var colliderTop    = initializing ? scrollTop : position.top\r\n    var colliderHeight = initializing ? targetHeight : height\r\n\r\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\r\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\r\n\r\n    return false\r\n  }\r\n\r\n  Affix.prototype.getPinnedOffset = function () {\r\n    if (this.pinnedOffset) return this.pinnedOffset\r\n    this.$element.removeClass(Affix.RESET).addClass('affix')\r\n    var scrollTop = this.$target.scrollTop()\r\n    var position  = this.$element.offset()\r\n    return (this.pinnedOffset = position.top - scrollTop)\r\n  }\r\n\r\n  Affix.prototype.checkPositionWithEventLoop = function () {\r\n    setTimeout($.proxy(this.checkPosition, this), 1)\r\n  }\r\n\r\n  Affix.prototype.checkPosition = function () {\r\n    if (!this.$element.is(':visible')) return\r\n\r\n    var height       = this.$element.height()\r\n    var offset       = this.options.offset\r\n    var offsetTop    = offset.top\r\n    var offsetBottom = offset.bottom\r\n    var scrollHeight = Math.max($(document).height(), $(document.body).height())\r\n\r\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\r\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\r\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\r\n\r\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\r\n\r\n    if (this.affixed != affix) {\r\n      if (this.unpin != null) this.$element.css('top', '')\r\n\r\n      var affixType = 'affix' + (affix ? '-' + affix : '')\r\n      var e         = $.Event(affixType + '.bs.affix')\r\n\r\n      this.$element.trigger(e)\r\n\r\n      if (e.isDefaultPrevented()) return\r\n\r\n      this.affixed = affix\r\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\r\n\r\n      this.$element\r\n        .removeClass(Affix.RESET)\r\n        .addClass(affixType)\r\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\r\n    }\r\n\r\n    if (affix == 'bottom') {\r\n      this.$element.offset({\r\n        top: scrollHeight - height - offsetBottom\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  // AFFIX PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.affix')\r\n      var options = typeof option == 'object' && option\r\n\r\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  var old = $.fn.affix\r\n\r\n  $.fn.affix             = Plugin\r\n  $.fn.affix.Constructor = Affix\r\n\r\n\r\n  // AFFIX NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.affix.noConflict = function () {\r\n    $.fn.affix = old\r\n    return this\r\n  }\r\n\r\n\r\n  // AFFIX DATA-API\r\n  // ==============\r\n\r\n  $(window).on('load', function () {\r\n    $('[data-spy=\"affix\"]').each(function () {\r\n      var $spy = $(this)\r\n      var data = $spy.data()\r\n\r\n      data.offset = data.offset || {}\r\n\r\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\r\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\r\n\r\n      Plugin.call($spy, data)\r\n    })\r\n  })\r\n\r\n}(jQuery);\r\n","import Ractive from \"Ractive.js\";\nimport journey from \"lib/journey/journey\";\n\njourney.on( \"routeAbuseStart\", function ( options ) {\n\tconsole.log( \"** Disabling animation\", options );\n\tRactive.defaults.transitionsEnabled = false;\n} );\njourney.on( \"routeAbuseEnd\", function ( options ) {\n\tRactive.defaults.transitionsEnabled = true;\n\tconsole.log( \"** Renabling animations\", options );\n} );\n","import journey from 'lib/journey/journey.js';\r\nimport events from \"lib/journey/utils/events\";\r\nimport Ractive from \"Ractive.js\";\r\nimport fade from \"lib/fade.js\";\r\nimport slide from \"lib/slide.js\";\r\nimport 'lib/prism.js';\r\nimport \"./config/routes.js\";\r\nimport menu from \"./menu/menu.js\";\r\nimport \"lib/bootstrap.js\";\r\nimport \"./animationMonitor.js\";\r\n\r\nRactive.defaults.data = { 'journey': journey };\r\n\r\n//let contextPath = \"/build\";\r\nlet contextPath = \"/journey-examples/\";\r\n//let contextPath = \"\";\r\n\r\nmenu.init( { target: \"#menu\", fallbackMenu: \"#menu-home\" } );\r\n\r\nRactive.transitions = {\r\n\tfade,\r\n\tslide\r\n};\r\n\r\njourney.on( events.ENTERED, function ( options ) {\r\n\tPrism.highlightAll();\r\n} );\r\n\r\njourney.start( {\r\n\ttarget: \"#container\",\r\n\tdebug: Ractive.DEBUG = true,\r\n\tfallback: '/notFound',\r\n\tbase: contextPath,\r\n\tdefaultRoute: '/home',\r\n\t//useHash: false,\r\n\t//hash: '#!'\r\n} );\r\n"],"names":["RouteData","ref","route","pathname","params","query","hash","scrollX","scrollY","this","isInitial","_route","Route","path","options","pathHelper","stripSlashOrHashPrefix","segments","split","enter","updateable","update","HANDLERS","forEach","handler","other","opts","let","value","roadtrip","Promise","resolve","segmentsMatch","a","b","length","i","toHash","link","href","getAttribute","prefixWithHash","which","event","window","button","sameOrigin","origin","location","protocol","hostname","port","indexOf","isSameRoute","routeA","routeB","dataA","dataB","deepEqual","isArray","const","aKeys","Object","keys","bKeys","key","hasOwnProperty","thing","toString","call","noop","getNewData","target","newData","newRoute","routes","exec","historyListener","url","util","stripBase","config","base","internalOptions","_target","hashChange","popState","fulfil","reject","popEvent","scroll","scrollHistory","state","uid","x","y","_goto","currentID","forceReloadRoute","forceReload","targetHref","prefixWithSlash","result","tempHref","fallback","_sameRoute","currentRoute","currentData","isTransitioning","promise","extend","all","beforeleave","then","beforeenter","leave","catch","e","updateHistory","replaceState","uniqueID","watchHistory","useOnHashChange","setHash","useHash","prefixWithBase","history","EventEmitter","indexOfListener","listeners","listener","alias","name","apply","arguments","buildParams","prefix","obj","traditional","add","Array","item","index","rbracket","test","type","prototype","replace","toLowerCase","resetWhenNormal","delay","abuseTimeout","resetRequest","clearTimeout","setTimeout","reset","raiseError","journeyUtils","logError","error","journey","emit","raiseEvent","args","events","UPDATE","UPDATED","BEFORE_ENTER","BEFORE_ENTER_COMPLETE","to","from","ENTER","ENTERED","BEFORE_LEAVE","BEFORE_LEAVE_COMPLETE","LEAVE","LEFT","wrap","enhanceEvent","wrapper","that","slice","startOptions","err","gatherErrorOptions","message","wrapRoadtripGoto","_origGoto","goto","fade","t","targetOpacity","processParams","DEFAULTS","isIntro","getStyle","setStyle","animateStyle","complete","slide","targetStyle","PROPS","COLLAPSED","createView","Ractive","el","template","data","items","console","log","testArgs","context","currentItem","resetData","set","_toConsumableArray","arr","arr2","setupParsley","parsley","$","on","form","showFormValidationFeedback","view","field","parent","ok","isValid","startListening","ERROR","stopListening","off","BEFORE_ENTER_COMLETE","json","response","reload","msg","submit","submitForm","files","FormData","each","append","ajax","cache","dataType","processData","contentType","textStatus","jqXHR","errorThrown","component","compTemplate","activate","hidden","components","simple","comp","compA","compATemplate","compB","compBTemplate","swap","detachChild","attachChild","insertAt","child","childComp","handleAdd","row","findComponent","ctx","id","sidePanel","panel","close","original","handleBodyClick","show","getUrlPath","ext","Prism","fileHighlight","is","getCurrentRoute","get","css","setupMenuListener","viewName","getViewName","$li","getMenu","hasActiveMenu","menuSlider","updateSlider","updateMenu","initializeSlider","hasParent","updateChild","getParent","updateLeaf","removeClass","addClass","$parent","$leaf","slideToMenu","getActiveMenuLocation","animate","loc","setupWindowResizeListener","resize","windowResizeTimeoutId","windowResized","matchMedia","matches","$activeMenu","offsetLeft","navbarOffset","offset","left","top","right","width","bottom","height","closest","start","lastIndexOf","selector","PENDING","FULFILLED","REJECTED","callback","dispatchHandlers","fulfilledHandlers","rejectedHandlers","makeResolver","newState","makeDispatcher","wait","fulfill","onFulfilled","onRejected","promise2","processResolutionHandler","handlers","forward","push","p1result","promises","pending","reason","shift","TypeError","called","resolvePromise","rejectPromise","r","stripSearch","str","substring","isUrl","substr","getLocationAsRelativeUrl","search","useDefaultRoute","out","defaultRoute","getGotoPath","getInitialPath","relUrl","trim","startsWith","_ignoreHashChange","supportHistory","pushState","shouldUseOnHashChange","addEventListener","hashchangeEventLisener","popstateEventLisener","hashEvent","setListener","invisible","document","createElement","QUERYPAIR_REGEX","segment","toMatch","queryPairs","match","decodeURIComponent","output","src","undefined","nextKey","HashChangeEvent","lastURL","URL","defineProperty","enumerable","configurable","String","searchString","position","endsWith","subjectString","isFinite","Math","floor","lastIndex","some","otherOptions","_locked","metaKey","ctrlKey","shiftKey","defaultPrevented","nodeName","parentNode","hasAttribute","process","preventDefault","proto","getListeners","evt","_getEvents","RegExp","flattenListeners","flatListeners","getListenersAsObject","addListener","listenerIsWrapped","once","addOnceListener","defineEvent","defineEvents","evts","removeListener","removeEvent","splice","addListeners","manipulateListeners","removeListeners","remove","single","multiple","_events","removeAllListeners","emitEvent","listenersMap","_getOnceReturnValue","trigger","setOnceReturnValue","_onceReturnValue","module","exports","eventer","origEmit","unshift","init","arg","mode","DEBUG","r20","utils","isFunction","val","fadeIn","style","opacity","last","Date","tick","requestAnimationFrame","fadeOut","param","s","encodeURIComponent","join","Function","logWarn","info","logInfo","warn","ROUTE_ABUSE_START","ROUTE_ABUSE_END","_GOTO","debug","callstack","busy","redirect","pop","check","Error","roadtripUtils","emitOptions","getBase","duration","easing","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom","marginTop","marginBottom","_self","WorkerGlobalScope","self","lang","uniqueId","_","manual","encode","tokens","Token","content","map","o","objId","clone","v","languages","redef","insertBefore","inside","before","insert","root","grammar","newToken","ret","token","DFS","visited","plugins","highlightAll","async","env","hooks","run","element","elements","querySelectorAll","highlightElement","language","className","code","textContent","Worker","worker","filename","onmessage","highlightedCode","innerHTML","postMessage","JSON","stringify","immediateClose","highlight","text","tokenize","strarr","rest","tokenloop","patterns","j","pattern","lookbehind","greedy","lookbehindLength","global","flags","source","pos","delNum","k","p","len","after","wrapped","callbacks","matchedStr","tag","classes","attributes","aliases","parse","script","currentScript","getElementsByTagName","readyState","markup","comment","prolog","doctype","cdata","punctuation","namespace","attr-value","attr-name","entity","xml","html","mathml","svg","atrule","rule","string","property","important","function","style-attr","clike","class-name","keyword","boolean","number","operator","javascript","regex","template-string","interpolation","interpolation-punctuation","js","properties","$$","expr","con","hasClass","highlightLines","pre","lines","range","ranges","lineHeight","isLineHeightRounded","parseInt","parseFloat","getComputedStyle","end","line","setAttribute","appendChild","querySelector","applyHash","removeChild","getElementById","scrollIntoView","res","d","fontSize","padding","border","body","offsetHeight","fakeTimer","num","clsReg","lineNumbersWrapper","linesNum","counterReset","Extensions","py","rb","ps1","psm1","sh","bat","h","tex","extension","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","statusText","send","home","prevRoute","onrender","nextRoute","teardown","basic","reloadRoute","methods","binding","session","navArgs","nav","gotoProduct","gotoProductWithData","producsts","person","product","notFound","typeId","invalid","basicForm","_slice","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","factory","require","define","amd","jQuery","adapt","fn","parsleyAdaptedCallback","eventName","eventPrefix","InputEvent","_this14","globals","isNativeEvent","originalEvent","isTrusted","fakeInputEvent","misbehaves","behavesOk","install","inputEventPatched","uninstall","globalID","pastWarnings","Utils__Utils","attr","$element","attribute","specified","camelize","deserializeValue","checkAttr","_checkAttr","setAttr","dasherize","generateID","isNaN","Number","parseJSON","chr","toUpperCase","_window$console","warnOnce","_resetWarnings","trimString","date","parsed","_parsed$map","_parsed$map2","year","month","day","getFullYear","getMonth","getDate","_string","integer","object","regexp","_regexp","parseRequirement","requirementType","converter","converted","namespaceEvents","difference","array","elem","when","concat","objectCreate","create","_SubmitSelector","Utils__default","Defaults","inputs","excluded","priorityEnabled","group","uiEnabled","validationThreshold","focus","triggerAfterFailure","errorClass","successClass","classHandler","Field","errorsContainer","errorsWrapper","errorTemplate","Base","__id__","asyncSupport","_pipeAccordingToValidationResult","_this","pipe","Deferred","validationResult","actualizeOptions","domOptions","_resetOptions","initOptions","_listeners","subscribe","listenTo","queue","unsubscribe","unsubscribeTo","extraArg","asyncIsValid","force","whenValid","_findRelated","find","convertArrayRequirement","m","values","convertExtraOptionRequirement","requirementSpec","extraOptionReader","main","extra","Validator","spec","validate","requirementFirstArg","validateMultiple","instance","validateDate","_isDateInput","validateNumber","validateString","parseRequirements","requirements","isPlainObject","priority","ValidatorRegistry","validators","catalog","__class__","locale","typeTesters","email","digits","alphanum","decimalPlaces","max","ValidatorRegistry__parseArguments","ValidatorRegistry__operatorToValidator","_len","requirementsAndInput","_key","ValidatorRegistry__comparisonOperator","addValidator","Parsley","setLocale","addCatalog","messages","addMessage","addMessages","nameMessageObject","arg1","arg2","_setValidator","updateValidator","removeValidator","validator","getErrorMessage","constraint","formatMessage","defaultMessage","en","parameters","notblank","required","_ref","_ref$step","step","_ref$base","tester","nb","decimals","toInt","f","round","pow","minlength","requirement","maxlength","min","mincheck","maxcheck","equalto","refOrValue","$reference","UI","diffResults","newResult","oldResult","deep","added","kept","found","assert","removed","Form","_actualizeTriggers","_this2","onSubmitValidate","onSubmitButton","_focusedField","fields","noFocus","_destroyUI","_reflowUI","_buildUI","_ui","diff","lastValidationResult","_manageStatusClass","_manageErrorsMessages","_failedOnce","getErrorsMessages","errorMessage","_getErrorMessage","addError","_ref2","_ref2$updateClass","updateClass","_addError","_errorClass","updateError","_ref3","_ref3$updateClass","_updateError","removeError","_ref4$updateClass","_removeError","hasConstraints","needsValidation","_successClass","_resetClass","errorsMessagesDisabled","_insertErrorWrapper","$errorsWrapper","_ref5","_ref6","customConstraintErrorMessage","$errorClassHandler","_manageClassHandler","errorsWrapperId","validationInformationVisible","$handler","_inputHolder","$errorsContainer","_this3","$toBind","_validateIfNeeded","_this4","getValue","debounce","_debounced","_resetUI","children","Form__statusMapping","resolved","rejected","_this5","$submitSource","_$submitSource","first","prop","whenValidate","_trigger","stopImmediatePropagation","_submit","currentTarget","$synthetic","appendTo","Event","_arguments","_Utils__default$all$done$fail$always","_this6","_ref7","submitEvent","_refreshFields","_withoutReactualizingFormOptions","fail","always","_arguments2","_this7","_ref8","destroy","removeData","_bindFields","_this8","oldFields","fieldsMappedById","not","fieldInstance","Factory","oldActualizeOptions","Constraint","parsleyField","isDomConstraint","validatorSpec","_validatorRegistry","_parseRequirements","capitalize","_validator","requirementList","_this9","parsleyFormInstance","constraints","constraintsByName","_bindConstraints","parsley_field__statusMapping","_whenValid$always$done$fail$always","_this10","_ref9","refreshConstraints","_isInGroup","_refreshed","_isRequired","validateIfEmpty","inArray","_arguments3","_this11","_ref10","_ref10$force","groupedConstraints","_getGroupedConstraints","_validateConstraint","_this12","_handleWhitespace","addConstraint","removeConstraint","updateConstraint","_bindHtml5Constraints","trimValue","whitespace","c","sort","parsley_field","Multiple","addElement","$elements","fieldConstraints","has","filter","_init","savedparsleyFormInstance","__version__","bind","isMultiple","handleMultiple","parsleyMultipleInstance","_this13","input","$previouslyRelated","doNotStore","parsleyInstance","ParsleyExtend","vernums","jquery","version","psly","instances","ParsleyConfig","Utils","ParsleyUtils","registry","i18n","ParsleyValidator","method","proxy","_window$Parsley","ParsleyUI","doNotUpdateClass","autoBind","deprecated","listen","unsubscribeAll","_instance","instanceGiven","asyncValidators","default","reverse","addAsyncValidator","ajaxOptions","csr","remoteOptions","_remoteCache","handleXhr","validatingForm","validationFail","validationSuccess","doSlide","isListening","lifecycleEvents","updateView","random","observe","newValue","oldValue","keypath","basicAjax","getJSON","upload","basicPartial","partials","hello","helloPartial","basicComp","dynamicComp","removeRow","fire","addRow","rows","age","basicTransition","loadView","transitions","sortableDecorator","sortable","dragstartHandler","dragenterHandler","removeTargetClass","node","draggable","removeEventListener","targetClass","getContext","dataTransfer","setData","dest","dropEffect","ractive","srcIdx","destIdx","classList","removedItem","decorators","list","icon","compParent","AjaxMonitor","Bar","DocumentMonitor","ElementMonitor","ElementTracker","EventLagMonitor","Evented","Events","NoTargetError","Pace","RequestIntercept","SOURCE_KEYS","Scaler","SocketRequestTracker","XHRRequestTracker","animation","avgAmplitude","bar","cancelAnimation","cancelAnimationFrame","defaultOptions","extendNative","getFromDOM","getIntercept","handlePushState","ignoreStack","now","runAnimation","scalers","shouldIgnoreURL","shouldTrack","sources","uniScaler","_WebSocket","_XDomainRequest","_XMLHttpRequest","_intercept","_pushState","_ref1","_replaceState","__slice","__hasProp","__extends","ctor","constructor","__super__","__indexOf","l","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","trackMethods","trackWebSockets","ignoreURLs","performance","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","count","sum","abs","_error","_base","bindings","_results","paceOptions","_super","progress","getElement","targetElement","firstChild","finish","prog","render","progressStr","transform","_j","_len1","lastRenderedProgress","XDomainRequest","WebSocket","ignore","track","monitorXHR","req","_open","request","protocols","_arg","running","restart","watch","tracker","_onreadystatechange","ProgressEvent","lengthComputable","loaded","total","states","loading","interactive","avg","interval","points","samples","setInterval","clearInterval","sinceLastUpdate","rate","catchup","lastProgress","frameTime","scaling","_k","_len2","_ref4","extraSources","stop","go","enqueueNextFrame","scaler","scalerList","_options","sidePanelObj","menu","gotoEvents","showJavascript","routeName","showHtml","fallbackMenu","transitionEnd","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","emulateTransitionEnd","$el","one","support","special","bsTransitionEnd","bindType","delegateType","handle","handleObj","Plugin","option","$this","Alert","dismiss","VERSION","TRANSITION_DURATION","removeElement","detach","isDefaultPrevented","old","alert","Constructor","noConflict","Button","toggle","setState","isLoading","loadingText","resetText","removeAttr","changed","$input","toggleClass","$btn","Carousel","action","pause","cycle","$indicators","paused","sliding","$active","$items","keyboard","keydown","documentElement","tagName","prev","getItemIndex","getItemForDirection","direction","active","activeIndex","itemIndex","eq","$next","isCycling","relatedTarget","slideEvent","$nextIndicator","slidEvent","offsetWidth","carousel","clickHandler","$target","slideIndex","$carousel","getTargetFromTrigger","$trigger","Collapse","transitioning","addAriaAndCollapsedClass","dimension","activesData","actives","startEvent","scrollSize","camelCase","hide","isOpen","collapse","clearMenus","backdrop","contains","Dropdown","isActive","insertAfter","stopPropagation","dropdown","_relatedTarget","Modal","$body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","BACKDROP_TRANSITION_DURATION","checkScrollbar","setScrollbar","escape","scrollTop","adjustDialog","enforceFocus","hideModal","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","doAnimate","callbackRemove","modalIsOverflowing","scrollHeight","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","getBoundingClientRect","clientWidth","measureScrollbar","bodyPad","scrollDiv","modal","showEvent","Tooltip","enabled","timeout","hoverState","inState","placement","title","container","viewport","getOptions","$viewport","click","hover","triggers","eventIn","eventOut","fixTitle","getDefaults","getDelegateOptions","defaults","tip","isInStateTrue","hasContent","inDom","ownerDocument","$tip","tipId","getUID","setContent","autoToken","autoPlace","display","getPosition","actualWidth","actualHeight","orgPlacement","viewportDim","calculatedOffset","getCalculatedOffset","applyPlacement","prevHoverState","marginLeft","setOffset","using","props","delta","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","arrow","getTitle","$e","isBody","elRect","isSvg","SVGElement","elOffset","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","$arrow","enable","disable","toggleEnabled","tooltip","Popover","getContent","popover","ScrollSpy","$scrollElement","offsets","targets","activeTarget","refresh","getScrollHeight","offsetMethod","offsetBase","isWindow","$href","maxScroll","clear","parents","parentsUntil","scrollspy","$spy","Tab","$ul","$previous","hideEvent","tab","Affix","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","offsetTop","offsetBottom","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","affix","affixType","transitionsEnabled"],"mappings":"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"}